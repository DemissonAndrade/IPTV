const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/react-CC5HjDZ5.js","assets/custom-media-element-Ce0vsE-t.js","assets/mixin-Cp5RyXal.js","assets/react-DgA0Kl3D.js","assets/index-eGjKUOgX.js"])))=>i.map(i=>d[i]);
function rP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function My(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Eg={exports:{}},wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function iP(){if(zE)return wc;zE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var c in i)c!=="key"&&(s[c]=i[c])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:o,ref:i!==void 0?i:null,props:s}}return wc.Fragment=e,wc.jsx=t,wc.jsxs=t,wc}var GE;function sP(){return GE||(GE=1,Eg.exports=iP()),Eg.exports}var T=sP(),Tg={exports:{}},pt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HE;function aP(){if(HE)return pt;HE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(F){return F===null||typeof F!="object"?null:(F=p&&F[p]||F["@@iterator"],typeof F=="function"?F:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function S(F,H,Q){this.props=F,this.context=H,this.refs=x,this.updater=Q||v}S.prototype.isReactComponent={},S.prototype.setState=function(F,H){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,H,"setState")},S.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function E(){}E.prototype=S.prototype;function R(F,H,Q){this.props=F,this.context=H,this.refs=x,this.updater=Q||v}var A=R.prototype=new E;A.constructor=R,y(A,S.prototype),A.isPureReactComponent=!0;var L=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function P(F,H,Q,ee,ce,se){return Q=se.ref,{$$typeof:n,type:F,key:H,ref:Q!==void 0?Q:null,props:se}}function k(F,H){return P(F.type,H,void 0,void 0,void 0,F.props)}function _(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function w(F){var H={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Q){return H[Q]})}var B=/\/+/g;function j(F,H){return typeof F=="object"&&F!==null&&F.key!=null?w(""+F.key):H.toString(36)}function z(){}function q(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(z,z):(F.status="pending",F.then(function(H){F.status==="pending"&&(F.status="fulfilled",F.value=H)},function(H){F.status==="pending"&&(F.status="rejected",F.reason=H)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function K(F,H,Q,ee,ce){var se=typeof F;(se==="undefined"||se==="boolean")&&(F=null);var V=!1;if(F===null)V=!0;else switch(se){case"bigint":case"string":case"number":V=!0;break;case"object":switch(F.$$typeof){case n:case e:V=!0;break;case h:return V=F._init,K(V(F._payload),H,Q,ee,ce)}}if(V)return ce=ce(F),V=ee===""?"."+j(F,0):ee,L(ce)?(Q="",V!=null&&(Q=V.replace(B,"$&/")+"/"),K(ce,H,Q,"",function(we){return we})):ce!=null&&(_(ce)&&(ce=k(ce,Q+(ce.key==null||F&&F.key===ce.key?"":(""+ce.key).replace(B,"$&/")+"/")+V)),H.push(ce)),1;V=0;var oe=ee===""?".":ee+":";if(L(F))for(var me=0;me<F.length;me++)ee=F[me],se=oe+j(ee,me),V+=K(ee,H,Q,se,ce);else if(me=g(F),typeof me=="function")for(F=me.call(F),me=0;!(ee=F.next()).done;)ee=ee.value,se=oe+j(ee,me++),V+=K(ee,H,Q,se,ce);else if(se==="object"){if(typeof F.then=="function")return K(q(F),H,Q,ee,ce);throw H=String(F),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return V}function $(F,H,Q){if(F==null)return F;var ee=[],ce=0;return K(F,ee,"","",function(se){return H.call(Q,se,ce++)}),ee}function W(F){if(F._status===-1){var H=F._result;H=H(),H.then(function(Q){(F._status===0||F._status===-1)&&(F._status=1,F._result=Q)},function(Q){(F._status===0||F._status===-1)&&(F._status=2,F._result=Q)}),F._status===-1&&(F._status=0,F._result=H)}if(F._status===1)return F._result.default;throw F._result}var G=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function Y(){}return pt.Children={map:$,forEach:function(F,H,Q){$(F,function(){H.apply(this,arguments)},Q)},count:function(F){var H=0;return $(F,function(){H++}),H},toArray:function(F){return $(F,function(H){return H})||[]},only:function(F){if(!_(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},pt.Component=S,pt.Fragment=t,pt.Profiler=i,pt.PureComponent=R,pt.StrictMode=r,pt.Suspense=d,pt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,pt.__COMPILER_RUNTIME={__proto__:null,c:function(F){return I.H.useMemoCache(F)}},pt.cache=function(F){return function(){return F.apply(null,arguments)}},pt.cloneElement=function(F,H,Q){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var ee=y({},F.props),ce=F.key,se=void 0;if(H!=null)for(V in H.ref!==void 0&&(se=void 0),H.key!==void 0&&(ce=""+H.key),H)!M.call(H,V)||V==="key"||V==="__self"||V==="__source"||V==="ref"&&H.ref===void 0||(ee[V]=H[V]);var V=arguments.length-2;if(V===1)ee.children=Q;else if(1<V){for(var oe=Array(V),me=0;me<V;me++)oe[me]=arguments[me+2];ee.children=oe}return P(F.type,ce,void 0,void 0,se,ee)},pt.createContext=function(F){return F={$$typeof:o,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:s,_context:F},F},pt.createElement=function(F,H,Q){var ee,ce={},se=null;if(H!=null)for(ee in H.key!==void 0&&(se=""+H.key),H)M.call(H,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ce[ee]=H[ee]);var V=arguments.length-2;if(V===1)ce.children=Q;else if(1<V){for(var oe=Array(V),me=0;me<V;me++)oe[me]=arguments[me+2];ce.children=oe}if(F&&F.defaultProps)for(ee in V=F.defaultProps,V)ce[ee]===void 0&&(ce[ee]=V[ee]);return P(F,se,void 0,void 0,null,ce)},pt.createRef=function(){return{current:null}},pt.forwardRef=function(F){return{$$typeof:c,render:F}},pt.isValidElement=_,pt.lazy=function(F){return{$$typeof:h,_payload:{_status:-1,_result:F},_init:W}},pt.memo=function(F,H){return{$$typeof:u,type:F,compare:H===void 0?null:H}},pt.startTransition=function(F){var H=I.T,Q={};I.T=Q;try{var ee=F(),ce=I.S;ce!==null&&ce(Q,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Y,G)}catch(se){G(se)}finally{I.T=H}},pt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},pt.use=function(F){return I.H.use(F)},pt.useActionState=function(F,H,Q){return I.H.useActionState(F,H,Q)},pt.useCallback=function(F,H){return I.H.useCallback(F,H)},pt.useContext=function(F){return I.H.useContext(F)},pt.useDebugValue=function(){},pt.useDeferredValue=function(F,H){return I.H.useDeferredValue(F,H)},pt.useEffect=function(F,H,Q){var ee=I.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ee.useEffect(F,H)},pt.useId=function(){return I.H.useId()},pt.useImperativeHandle=function(F,H,Q){return I.H.useImperativeHandle(F,H,Q)},pt.useInsertionEffect=function(F,H){return I.H.useInsertionEffect(F,H)},pt.useLayoutEffect=function(F,H){return I.H.useLayoutEffect(F,H)},pt.useMemo=function(F,H){return I.H.useMemo(F,H)},pt.useOptimistic=function(F,H){return I.H.useOptimistic(F,H)},pt.useReducer=function(F,H,Q){return I.H.useReducer(F,H,Q)},pt.useRef=function(F){return I.H.useRef(F)},pt.useState=function(F){return I.H.useState(F)},pt.useSyncExternalStore=function(F,H,Q){return I.H.useSyncExternalStore(F,H,Q)},pt.useTransition=function(){return I.H.useTransition()},pt.version="19.1.0",pt}var VE;function Ny(){return VE||(VE=1,Tg.exports=aP()),Tg.exports}var D=Ny();const gt=My(D),Xf=rP({__proto__:null,default:gt},[D]);var Ag={exports:{}},Lc={},Cg={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE;function oP(){return KE||(KE=1,function(n){function e($,W){var G=$.length;$.push(W);e:for(;0<G;){var Y=G-1>>>1,F=$[Y];if(0<i(F,W))$[Y]=W,$[G]=F,G=Y;else break e}}function t($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],G=$.pop();if(G!==W){$[0]=G;e:for(var Y=0,F=$.length,H=F>>>1;Y<H;){var Q=2*(Y+1)-1,ee=$[Q],ce=Q+1,se=$[ce];if(0>i(ee,G))ce<F&&0>i(se,ee)?($[Y]=se,$[ce]=G,Y=ce):($[Y]=ee,$[Q]=G,Y=Q);else if(ce<F&&0>i(se,G))$[Y]=se,$[ce]=G,Y=ce;else break e}}return W}function i($,W){var G=$.sortIndex-W.sortIndex;return G!==0?G:$.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var d=[],u=[],h=1,p=null,g=3,v=!1,y=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function L($){for(var W=t(u);W!==null;){if(W.callback===null)r(u);else if(W.startTime<=$)r(u),W.sortIndex=W.expirationTime,e(d,W);else break;W=t(u)}}function I($){if(x=!1,L($),!y)if(t(d)!==null)y=!0,M||(M=!0,j());else{var W=t(u);W!==null&&K(I,W.startTime-$)}}var M=!1,P=-1,k=5,_=-1;function w(){return S?!0:!(n.unstable_now()-_<k)}function B(){if(S=!1,M){var $=n.unstable_now();_=$;var W=!0;try{e:{y=!1,x&&(x=!1,R(P),P=-1),v=!0;var G=g;try{t:{for(L($),p=t(d);p!==null&&!(p.expirationTime>$&&w());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,g=p.priorityLevel;var F=Y(p.expirationTime<=$);if($=n.unstable_now(),typeof F=="function"){p.callback=F,L($),W=!0;break t}p===t(d)&&r(d),L($)}else r(d);p=t(d)}if(p!==null)W=!0;else{var H=t(u);H!==null&&K(I,H.startTime-$),W=!1}}break e}finally{p=null,g=G,v=!1}W=void 0}}finally{W?j():M=!1}}}var j;if(typeof A=="function")j=function(){A(B)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,q=z.port2;z.port1.onmessage=B,j=function(){q.postMessage(null)}}else j=function(){E(B,0)};function K($,W){P=E(function(){$(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function($){switch(g){case 1:case 2:case 3:var W=3;break;default:W=g}var G=g;g=W;try{return $()}finally{g=G}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=g;g=$;try{return W()}finally{g=G}},n.unstable_scheduleCallback=function($,W,G){var Y=n.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Y+G:Y):G=Y,$){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=G+F,$={id:h++,callback:W,priorityLevel:$,startTime:G,expirationTime:F,sortIndex:-1},G>Y?($.sortIndex=G,e(u,$),t(d)===null&&$===t(u)&&(x?(R(P),P=-1):x=!0,K(I,G-Y))):($.sortIndex=F,e(d,$),y||v||(y=!0,M||(M=!0,j()))),$},n.unstable_shouldYield=w,n.unstable_wrapCallback=function($){var W=g;return function(){var G=g;g=W;try{return $.apply(this,arguments)}finally{g=G}}}}(Rg)),Rg}var WE;function lP(){return WE||(WE=1,Cg.exports=oP()),Cg.exports}var wg={exports:{}},Hn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qE;function cP(){if(qE)return Hn;qE=1;var n=Ny();function e(d){var u="https://react.dev/errors/"+d;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+d+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(d,u,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:u,implementation:h}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,u){if(d==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Hn.createPortal=function(d,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(d,u,null,h)},Hn.flushSync=function(d){var u=o.T,h=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=u,r.p=h,r.d.f()}},Hn.preconnect=function(d,u){typeof d=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,r.d.C(d,u))},Hn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Hn.preinit=function(d,u){if(typeof d=="string"&&u&&typeof u.as=="string"){var h=u.as,p=c(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?r.d.S(d,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):h==="script"&&r.d.X(d,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Hn.preinitModule=function(d,u){if(typeof d=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=c(u.as,u.crossOrigin);r.d.M(d,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&r.d.M(d)},Hn.preload=function(d,u){if(typeof d=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,p=c(h,u.crossOrigin);r.d.L(d,h,{crossOrigin:p,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Hn.preloadModule=function(d,u){if(typeof d=="string")if(u){var h=c(u.as,u.crossOrigin);r.d.m(d,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else r.d.m(d)},Hn.requestFormReset=function(d){r.d.r(d)},Hn.unstable_batchedUpdates=function(d,u){return d(u)},Hn.useFormState=function(d,u,h){return o.H.useFormState(d,u,h)},Hn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Hn.version="19.1.0",Hn}var YE;function PC(){if(YE)return wg.exports;YE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wg.exports=cP(),wg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function uP(){if(XE)return Lc;XE=1;var n=lP(),e=Ny(),t=PC();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,m=l;;){var b=f.return;if(b===null)break;var C=b.alternate;if(C===null){if(m=b.return,m!==null){f=m;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===f)return c(b),a;if(C===m)return c(b),l;C=C.sibling}throw Error(r(188))}if(f.return!==m.return)f=b,m=C;else{for(var N=!1,U=b.child;U;){if(U===f){N=!0,f=b,m=C;break}if(U===m){N=!0,m=b,f=C;break}U=U.sibling}if(!N){for(U=C.child;U;){if(U===f){N=!0,f=C,m=b;break}if(U===m){N=!0,m=C,f=b;break}U=U.sibling}if(!N)throw Error(r(189))}}if(f.alternate!==m)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function u(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=u(a),l!==null)return l;a=a.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),A=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function j(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var z=Symbol.for("react.client.reference");function q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===z?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case y:return"Fragment";case S:return"Profiler";case x:return"StrictMode";case I:return"Suspense";case M:return"SuspenseList";case _:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case v:return"Portal";case A:return(a.displayName||"Context")+".Provider";case R:return(a._context.displayName||"Context")+".Consumer";case L:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return l=a.displayName||null,l!==null?l:q(a.type)||"Memo";case k:l=a._payload,a=a._init;try{return q(a(l))}catch{}}return null}var K=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},Y=[],F=-1;function H(a){return{current:a}}function Q(a){0>F||(a.current=Y[F],Y[F]=null,F--)}function ee(a,l){F++,Y[F]=a.current,a.current=l}var ce=H(null),se=H(null),V=H(null),oe=H(null);function me(a,l){switch(ee(V,l),ee(se,a),ee(ce,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?gE(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=gE(l),a=yE(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}Q(ce),ee(ce,a)}function we(){Q(ce),Q(se),Q(V)}function Te(a){a.memoizedState!==null&&ee(oe,a);var l=ce.current,f=yE(l,a.type);l!==f&&(ee(se,a),ee(ce,f))}function Pe(a){se.current===a&&(Q(ce),Q(se)),oe.current===a&&(Q(oe),Ec._currentValue=G)}var ke=Object.prototype.hasOwnProperty,Be=n.unstable_scheduleCallback,Me=n.unstable_cancelCallback,ct=n.unstable_shouldYield,Ue=n.unstable_requestPaint,Oe=n.unstable_now,et=n.unstable_getCurrentPriorityLevel,at=n.unstable_ImmediatePriority,Je=n.unstable_UserBlockingPriority,De=n.unstable_NormalPriority,Se=n.unstable_LowPriority,ht=n.unstable_IdlePriority,ut=n.log,Ae=n.unstable_setDisableYieldValue,be=null,Ee=null;function Ie(a){if(typeof ut=="function"&&Ae(a),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(be,a)}catch{}}var Le=Math.clz32?Math.clz32:zt,Ye=Math.log,je=Math.LN2;function zt(a){return a>>>=0,a===0?32:31-(Ye(a)/je|0)|0}var bt=256,Xt=4194304;function $e(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function At(a,l,f){var m=a.pendingLanes;if(m===0)return 0;var b=0,C=a.suspendedLanes,N=a.pingedLanes;a=a.warmLanes;var U=m&134217727;return U!==0?(m=U&~C,m!==0?b=$e(m):(N&=U,N!==0?b=$e(N):f||(f=U&~a,f!==0&&(b=$e(f))))):(U=m&~C,U!==0?b=$e(U):N!==0?b=$e(N):f||(f=m&~a,f!==0&&(b=$e(f)))),b===0?0:l!==0&&l!==b&&(l&C)===0&&(C=b&-b,f=l&-l,C>=f||C===32&&(f&4194048)!==0)?l:b}function _t(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Yn(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zr(){var a=bt;return bt<<=1,(bt&4194048)===0&&(bt=256),a}function xs(){var a=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),a}function la(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function Nt(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function mn(a,l,f,m,b,C){var N=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var U=a.entanglements,X=a.expirationTimes,ie=a.hiddenUpdates;for(f=N&~f;0<f;){var pe=31-Le(f),xe=1<<pe;U[pe]=0,X[pe]=-1;var ae=ie[pe];if(ae!==null)for(ie[pe]=null,pe=0;pe<ae.length;pe++){var le=ae[pe];le!==null&&(le.lane&=-536870913)}f&=~xe}m!==0&&bs(a,m,0),C!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=C&~(N&~l))}function bs(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Le(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|f&4194090}function ji(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var m=31-Le(f),b=1<<m;b&l|a[m]&l&&(a[m]|=l),f&=~b}}function Xn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function dt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Jr(){var a=W.p;return a!==0?a:(a=window.event,a===void 0?32:NE(a.type))}function KI(a,l){var f=W.p;try{return W.p=a,l()}finally{W.p=f}}var Ss=Math.random().toString(36).slice(2),zn="__reactFiber$"+Ss,tr="__reactProps$"+Ss,eo="__reactContainer$"+Ss,pp="__reactEvents$"+Ss,WI="__reactListeners$"+Ss,qI="__reactHandles$"+Ss,ix="__reactResources$"+Ss,Ol="__reactMarker$"+Ss;function mp(a){delete a[zn],delete a[tr],delete a[pp],delete a[WI],delete a[qI]}function to(a){var l=a[zn];if(l)return l;for(var f=a.parentNode;f;){if(l=f[eo]||f[zn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=SE(a);a!==null;){if(f=a[zn])return f;a=SE(a)}return l}a=f,f=a.parentNode}return null}function no(a){if(a=a[zn]||a[eo]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function kl(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function ro(a){var l=a[ix];return l||(l=a[ix]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function In(a){a[Ol]=!0}var sx=new Set,ax={};function ca(a,l){io(a,l),io(a+"Capture",l)}function io(a,l){for(ax[a]=l,a=0;a<l.length;a++)sx.add(l[a])}var YI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ox={},lx={};function XI(a){return ke.call(lx,a)?!0:ke.call(ox,a)?!1:YI.test(a)?lx[a]=!0:(ox[a]=!0,!1)}function Uu(a,l,f){if(XI(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function ju(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function zi(a,l,f,m){if(m===null)a.removeAttribute(f);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+m)}}var gp,cx;function so(a){if(gp===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);gp=l&&l[1]||"",cx=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gp+a+cx}var yp=!1;function vp(a,l){if(!a||yp)return"";yp=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var xe=function(){throw Error()};if(Object.defineProperty(xe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(xe,[])}catch(le){var ae=le}Reflect.construct(a,[],xe)}else{try{xe.call()}catch(le){ae=le}a.call(xe.prototype)}}else{try{throw Error()}catch(le){ae=le}(xe=a())&&typeof xe.catch=="function"&&xe.catch(function(){})}}catch(le){if(le&&ae&&typeof le.stack=="string")return[le.stack,ae.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=m.DetermineComponentFrameRoot(),N=C[0],U=C[1];if(N&&U){var X=N.split(`
`),ie=U.split(`
`);for(b=m=0;m<X.length&&!X[m].includes("DetermineComponentFrameRoot");)m++;for(;b<ie.length&&!ie[b].includes("DetermineComponentFrameRoot");)b++;if(m===X.length||b===ie.length)for(m=X.length-1,b=ie.length-1;1<=m&&0<=b&&X[m]!==ie[b];)b--;for(;1<=m&&0<=b;m--,b--)if(X[m]!==ie[b]){if(m!==1||b!==1)do if(m--,b--,0>b||X[m]!==ie[b]){var pe=`
`+X[m].replace(" at new "," at ");return a.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",a.displayName)),pe}while(1<=m&&0<=b);break}}}finally{yp=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?so(f):""}function QI(a){switch(a.tag){case 26:case 27:case 5:return so(a.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 15:return vp(a.type,!1);case 11:return vp(a.type.render,!1);case 1:return vp(a.type,!0);case 31:return so("Activity");default:return""}}function ux(a){try{var l="";do l+=QI(a),a=a.return;while(a);return l}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function Ir(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function dx(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function ZI(a){var l=dx(a)?"checked":"value",f=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),m=""+a[l];if(!a.hasOwnProperty(l)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,C=f.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return b.call(this)},set:function(N){m=""+N,C.call(this,N)}}),Object.defineProperty(a,l,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(N){m=""+N},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function zu(a){a._valueTracker||(a._valueTracker=ZI(a))}function fx(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),m="";return a&&(m=dx(a)?a.checked?"true":"false":a.value),a=m,a!==f?(l.setValue(a),!0):!1}function Gu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var JI=/[\n"\\]/g;function Dr(a){return a.replace(JI,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xp(a,l,f,m,b,C,N,U){a.name="",N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?a.type=N:a.removeAttribute("type"),l!=null?N==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Ir(l)):a.value!==""+Ir(l)&&(a.value=""+Ir(l)):N!=="submit"&&N!=="reset"||a.removeAttribute("value"),l!=null?bp(a,N,Ir(l)):f!=null?bp(a,N,Ir(f)):m!=null&&a.removeAttribute("value"),b==null&&C!=null&&(a.defaultChecked=!!C),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?a.name=""+Ir(U):a.removeAttribute("name")}function hx(a,l,f,m,b,C,N,U){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(a.type=C),l!=null||f!=null){if(!(C!=="submit"&&C!=="reset"||l!=null))return;f=f!=null?""+Ir(f):"",l=l!=null?""+Ir(l):f,U||l===a.value||(a.value=l),a.defaultValue=l}m=m??b,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=U?a.checked:!!m,a.defaultChecked=!!m,N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(a.name=N)}function bp(a,l,f){l==="number"&&Gu(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function ao(a,l,f,m){if(a=a.options,l){l={};for(var b=0;b<f.length;b++)l["$"+f[b]]=!0;for(f=0;f<a.length;f++)b=l.hasOwnProperty("$"+a[f].value),a[f].selected!==b&&(a[f].selected=b),b&&m&&(a[f].defaultSelected=!0)}else{for(f=""+Ir(f),l=null,b=0;b<a.length;b++){if(a[b].value===f){a[b].selected=!0,m&&(a[b].defaultSelected=!0);return}l!==null||a[b].disabled||(l=a[b])}l!==null&&(l.selected=!0)}}function px(a,l,f){if(l!=null&&(l=""+Ir(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+Ir(f):""}function mx(a,l,f,m){if(l==null){if(m!=null){if(f!=null)throw Error(r(92));if(K(m)){if(1<m.length)throw Error(r(93));m=m[0]}f=m}f==null&&(f=""),l=f}f=Ir(l),a.defaultValue=f,m=a.textContent,m===f&&m!==""&&m!==null&&(a.value=m)}function oo(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var e2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gx(a,l,f){var m=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,f):typeof f!="number"||f===0||e2.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function yx(a,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,f!=null){for(var m in f)!f.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var b in l)m=l[b],l.hasOwnProperty(b)&&f[b]!==m&&gx(a,b,m)}else for(var C in l)l.hasOwnProperty(C)&&gx(a,C,l[C])}function Sp(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hu(a){return n2.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Ep=null;function Tp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var lo=null,co=null;function vx(a){var l=no(a);if(l&&(a=l.stateNode)){var f=a[tr]||null;e:switch(a=l.stateNode,l.type){case"input":if(xp(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Dr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var m=f[l];if(m!==a&&m.form===a.form){var b=m[tr]||null;if(!b)throw Error(r(90));xp(m,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<f.length;l++)m=f[l],m.form===a.form&&fx(m)}break e;case"textarea":px(a,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&ao(a,!!f.multiple,l,!1)}}}var Ap=!1;function xx(a,l,f){if(Ap)return a(l,f);Ap=!0;try{var m=a(l);return m}finally{if(Ap=!1,(lo!==null||co!==null)&&(Id(),lo&&(l=lo,a=co,co=lo=null,vx(l),a)))for(l=0;l<a.length;l++)vx(a[l])}}function Ml(a,l){var f=a.stateNode;if(f===null)return null;var m=f[tr]||null;if(m===null)return null;f=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cp=!1;if(Gi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Cp=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Cp=!1}var Es=null,Rp=null,Vu=null;function bx(){if(Vu)return Vu;var a,l=Rp,f=l.length,m,b="value"in Es?Es.value:Es.textContent,C=b.length;for(a=0;a<f&&l[a]===b[a];a++);var N=f-a;for(m=1;m<=N&&l[f-m]===b[C-m];m++);return Vu=b.slice(a,1<m?1-m:void 0)}function Ku(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Wu(){return!0}function Sx(){return!1}function nr(a){function l(f,m,b,C,N){this._reactName=f,this._targetInst=b,this.type=m,this.nativeEvent=C,this.target=N,this.currentTarget=null;for(var U in a)a.hasOwnProperty(U)&&(f=a[U],this[U]=f?f(C):C[U]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Wu:Sx,this.isPropagationStopped=Sx,this}return h(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Wu)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Wu)},persist:function(){},isPersistent:Wu}),l}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qu=nr(ua),Bl=h({},ua,{view:0,detail:0}),r2=nr(Bl),wp,Lp,$l,Yu=h({},Bl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dp,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==$l&&($l&&a.type==="mousemove"?(wp=a.screenX-$l.screenX,Lp=a.screenY-$l.screenY):Lp=wp=0,$l=a),wp)},movementY:function(a){return"movementY"in a?a.movementY:Lp}}),Ex=nr(Yu),i2=h({},Yu,{dataTransfer:0}),s2=nr(i2),a2=h({},Bl,{relatedTarget:0}),Ip=nr(a2),o2=h({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),l2=nr(o2),c2=h({},ua,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),u2=nr(c2),d2=h({},ua,{data:0}),Tx=nr(d2),f2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function m2(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=p2[a])?!!l[a]:!1}function Dp(){return m2}var g2=h({},Bl,{key:function(a){if(a.key){var l=f2[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=Ku(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?h2[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dp,charCode:function(a){return a.type==="keypress"?Ku(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ku(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),y2=nr(g2),v2=h({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ax=nr(v2),x2=h({},Bl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dp}),b2=nr(x2),S2=h({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),E2=nr(S2),T2=h({},Yu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),A2=nr(T2),C2=h({},ua,{newState:0,oldState:0}),R2=nr(C2),w2=[9,13,27,32],Pp=Gi&&"CompositionEvent"in window,Fl=null;Gi&&"documentMode"in document&&(Fl=document.documentMode);var L2=Gi&&"TextEvent"in window&&!Fl,Cx=Gi&&(!Pp||Fl&&8<Fl&&11>=Fl),Rx=" ",wx=!1;function Lx(a,l){switch(a){case"keyup":return w2.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var uo=!1;function I2(a,l){switch(a){case"compositionend":return Ix(l);case"keypress":return l.which!==32?null:(wx=!0,Rx);case"textInput":return a=l.data,a===Rx&&wx?null:a;default:return null}}function D2(a,l){if(uo)return a==="compositionend"||!Pp&&Lx(a,l)?(a=bx(),Vu=Rp=Es=null,uo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Cx&&l.locale!=="ko"?null:l.data;default:return null}}var P2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dx(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!P2[a.type]:l==="textarea"}function Px(a,l,f,m){lo?co?co.push(m):co=[m]:lo=m,l=Md(l,"onChange"),0<l.length&&(f=new qu("onChange","change",null,f,m),a.push({event:f,listeners:l}))}var Ul=null,jl=null;function _2(a){dE(a,0)}function Xu(a){var l=kl(a);if(fx(l))return a}function _x(a,l){if(a==="change")return l}var Ox=!1;if(Gi){var _p;if(Gi){var Op="oninput"in document;if(!Op){var kx=document.createElement("div");kx.setAttribute("oninput","return;"),Op=typeof kx.oninput=="function"}_p=Op}else _p=!1;Ox=_p&&(!document.documentMode||9<document.documentMode)}function Mx(){Ul&&(Ul.detachEvent("onpropertychange",Nx),jl=Ul=null)}function Nx(a){if(a.propertyName==="value"&&Xu(jl)){var l=[];Px(l,jl,a,Tp(a)),xx(_2,l)}}function O2(a,l,f){a==="focusin"?(Mx(),Ul=l,jl=f,Ul.attachEvent("onpropertychange",Nx)):a==="focusout"&&Mx()}function k2(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Xu(jl)}function M2(a,l){if(a==="click")return Xu(l)}function N2(a,l){if(a==="input"||a==="change")return Xu(l)}function B2(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var mr=typeof Object.is=="function"?Object.is:B2;function zl(a,l){if(mr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var b=f[m];if(!ke.call(l,b)||!mr(a[b],l[b]))return!1}return!0}function Bx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function $x(a,l){var f=Bx(a);a=0;for(var m;f;){if(f.nodeType===3){if(m=a+f.textContent.length,a<=l&&m>=l)return{node:f,offset:l-a};a=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=Bx(f)}}function Fx(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Fx(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Ux(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Gu(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=Gu(a.document)}return l}function kp(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var $2=Gi&&"documentMode"in document&&11>=document.documentMode,fo=null,Mp=null,Gl=null,Np=!1;function jx(a,l,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Np||fo==null||fo!==Gu(m)||(m=fo,"selectionStart"in m&&kp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Gl&&zl(Gl,m)||(Gl=m,m=Md(Mp,"onSelect"),0<m.length&&(l=new qu("onSelect","select",null,l,f),a.push({event:l,listeners:m}),l.target=fo)))}function da(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var ho={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionrun:da("Transition","TransitionRun"),transitionstart:da("Transition","TransitionStart"),transitioncancel:da("Transition","TransitionCancel"),transitionend:da("Transition","TransitionEnd")},Bp={},zx={};Gi&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function fa(a){if(Bp[a])return Bp[a];if(!ho[a])return a;var l=ho[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in zx)return Bp[a]=l[f];return a}var Gx=fa("animationend"),Hx=fa("animationiteration"),Vx=fa("animationstart"),F2=fa("transitionrun"),U2=fa("transitionstart"),j2=fa("transitioncancel"),Kx=fa("transitionend"),Wx=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$p.push("scrollEnd");function ei(a,l){Wx.set(a,l),ca(l,[a])}var qx=new WeakMap;function Pr(a,l){if(typeof a=="object"&&a!==null){var f=qx.get(a);return f!==void 0?f:(l={value:a,source:l,stack:ux(l)},qx.set(a,l),l)}return{value:a,source:l,stack:ux(l)}}var _r=[],po=0,Fp=0;function Qu(){for(var a=po,l=Fp=po=0;l<a;){var f=_r[l];_r[l++]=null;var m=_r[l];_r[l++]=null;var b=_r[l];_r[l++]=null;var C=_r[l];if(_r[l++]=null,m!==null&&b!==null){var N=m.pending;N===null?b.next=b:(b.next=N.next,N.next=b),m.pending=b}C!==0&&Yx(f,b,C)}}function Zu(a,l,f,m){_r[po++]=a,_r[po++]=l,_r[po++]=f,_r[po++]=m,Fp|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Up(a,l,f,m){return Zu(a,l,f,m),Ju(a)}function mo(a,l){return Zu(a,null,null,l),Ju(a)}function Yx(a,l,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var b=!1,C=a.return;C!==null;)C.childLanes|=f,m=C.alternate,m!==null&&(m.childLanes|=f),C.tag===22&&(a=C.stateNode,a===null||a._visibility&1||(b=!0)),a=C,C=C.return;return a.tag===3?(C=a.stateNode,b&&l!==null&&(b=31-Le(f),a=C.hiddenUpdates,m=a[b],m===null?a[b]=[l]:m.push(l),l.lane=f|536870912),C):null}function Ju(a){if(50<pc)throw pc=0,Km=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var go={};function z2(a,l,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gr(a,l,f,m){return new z2(a,l,f,m)}function jp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Hi(a,l){var f=a.alternate;return f===null?(f=gr(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Xx(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function ed(a,l,f,m,b,C){var N=0;if(m=a,typeof a=="function")jp(a)&&(N=1);else if(typeof a=="string")N=HD(a,f,ce.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case _:return a=gr(31,f,l,b),a.elementType=_,a.lanes=C,a;case y:return ha(f.children,b,C,l);case x:N=8,b|=24;break;case S:return a=gr(12,f,l,b|2),a.elementType=S,a.lanes=C,a;case I:return a=gr(13,f,l,b),a.elementType=I,a.lanes=C,a;case M:return a=gr(19,f,l,b),a.elementType=M,a.lanes=C,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case E:case A:N=10;break e;case R:N=9;break e;case L:N=11;break e;case P:N=14;break e;case k:N=16,m=null;break e}N=29,f=Error(r(130,a===null?"null":typeof a,"")),m=null}return l=gr(N,f,l,b),l.elementType=a,l.type=m,l.lanes=C,l}function ha(a,l,f,m){return a=gr(7,a,m,l),a.lanes=f,a}function zp(a,l,f){return a=gr(6,a,null,l),a.lanes=f,a}function Gp(a,l,f){return l=gr(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var yo=[],vo=0,td=null,nd=0,Or=[],kr=0,pa=null,Vi=1,Ki="";function ma(a,l){yo[vo++]=nd,yo[vo++]=td,td=a,nd=l}function Qx(a,l,f){Or[kr++]=Vi,Or[kr++]=Ki,Or[kr++]=pa,pa=a;var m=Vi;a=Ki;var b=32-Le(m)-1;m&=~(1<<b),f+=1;var C=32-Le(l)+b;if(30<C){var N=b-b%5;C=(m&(1<<N)-1).toString(32),m>>=N,b-=N,Vi=1<<32-Le(l)+b|f<<b|m,Ki=C+a}else Vi=1<<C|f<<b|m,Ki=a}function Hp(a){a.return!==null&&(ma(a,1),Qx(a,1,0))}function Vp(a){for(;a===td;)td=yo[--vo],yo[vo]=null,nd=yo[--vo],yo[vo]=null;for(;a===pa;)pa=Or[--kr],Or[kr]=null,Ki=Or[--kr],Or[kr]=null,Vi=Or[--kr],Or[kr]=null}var Qn=null,cn=null,Lt=!1,ga=null,yi=!1,Kp=Error(r(519));function ya(a){var l=Error(r(418,""));throw Kl(Pr(l,a)),Kp}function Zx(a){var l=a.stateNode,f=a.type,m=a.memoizedProps;switch(l[zn]=a,l[tr]=m,f){case"dialog":Et("cancel",l),Et("close",l);break;case"iframe":case"object":case"embed":Et("load",l);break;case"video":case"audio":for(f=0;f<gc.length;f++)Et(gc[f],l);break;case"source":Et("error",l);break;case"img":case"image":case"link":Et("error",l),Et("load",l);break;case"details":Et("toggle",l);break;case"input":Et("invalid",l),hx(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),zu(l);break;case"select":Et("invalid",l);break;case"textarea":Et("invalid",l),mx(l,m.value,m.defaultValue,m.children),zu(l)}f=m.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||m.suppressHydrationWarning===!0||mE(l.textContent,f)?(m.popover!=null&&(Et("beforetoggle",l),Et("toggle",l)),m.onScroll!=null&&Et("scroll",l),m.onScrollEnd!=null&&Et("scrollend",l),m.onClick!=null&&(l.onclick=Nd),l=!0):l=!1,l||ya(a)}function Jx(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Qn=Qn.return}}function Hl(a){if(a!==Qn)return!1;if(!Lt)return Jx(a),Lt=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||lg(a.type,a.memoizedProps)),f=!f),f&&cn&&ya(a),Jx(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(f=a.data,f==="/$"){if(l===0){cn=ni(a.nextSibling);break e}l--}else f!=="$"&&f!=="$!"&&f!=="$?"||l++;a=a.nextSibling}cn=null}}else l===27?(l=cn,$s(a.type)?(a=fg,fg=null,cn=a):cn=l):cn=Qn?ni(a.stateNode.nextSibling):null;return!0}function Vl(){cn=Qn=null,Lt=!1}function eb(){var a=ga;return a!==null&&(sr===null?sr=a:sr.push.apply(sr,a),ga=null),a}function Kl(a){ga===null?ga=[a]:ga.push(a)}var Wp=H(null),va=null,Wi=null;function Ts(a,l,f){ee(Wp,l._currentValue),l._currentValue=f}function qi(a){a._currentValue=Wp.current,Q(Wp)}function qp(a,l,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===f)break;a=a.return}}function Yp(a,l,f,m){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var C=b.dependencies;if(C!==null){var N=b.child;C=C.firstContext;e:for(;C!==null;){var U=C;C=b;for(var X=0;X<l.length;X++)if(U.context===l[X]){C.lanes|=f,U=C.alternate,U!==null&&(U.lanes|=f),qp(C.return,f,a),m||(N=null);break e}C=U.next}}else if(b.tag===18){if(N=b.return,N===null)throw Error(r(341));N.lanes|=f,C=N.alternate,C!==null&&(C.lanes|=f),qp(N,f,a),N=null}else N=b.child;if(N!==null)N.return=b;else for(N=b;N!==null;){if(N===a){N=null;break}if(b=N.sibling,b!==null){b.return=N.return,N=b;break}N=N.return}b=N}}function Wl(a,l,f,m){a=null;for(var b=l,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var N=b.alternate;if(N===null)throw Error(r(387));if(N=N.memoizedProps,N!==null){var U=b.type;mr(b.pendingProps.value,N.value)||(a!==null?a.push(U):a=[U])}}else if(b===oe.current){if(N=b.alternate,N===null)throw Error(r(387));N.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(Ec):a=[Ec])}b=b.return}a!==null&&Yp(l,a,f,m),l.flags|=262144}function rd(a){for(a=a.firstContext;a!==null;){if(!mr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function xa(a){va=a,Wi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Gn(a){return tb(va,a)}function id(a,l){return va===null&&xa(a),tb(a,l)}function tb(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Wi===null){if(a===null)throw Error(r(308));Wi=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Wi=Wi.next=l;return f}var G2=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},H2=n.unstable_scheduleCallback,V2=n.unstable_NormalPriority,Rn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xp(){return{controller:new G2,data:new Map,refCount:0}}function ql(a){a.refCount--,a.refCount===0&&H2(V2,function(){a.controller.abort()})}var Yl=null,Qp=0,xo=0,bo=null;function K2(a,l){if(Yl===null){var f=Yl=[];Qp=0,xo=Jm(),bo={status:"pending",value:void 0,then:function(m){f.push(m)}}}return Qp++,l.then(nb,nb),l}function nb(){if(--Qp===0&&Yl!==null){bo!==null&&(bo.status="fulfilled");var a=Yl;Yl=null,xo=0,bo=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function W2(a,l){var f=[],m={status:"pending",value:null,reason:null,then:function(b){f.push(b)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var b=0;b<f.length;b++)(0,f[b])(l)},function(b){for(m.status="rejected",m.reason=b,b=0;b<f.length;b++)(0,f[b])(void 0)}),m}var rb=$.S;$.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&K2(a,l),rb!==null&&rb(a,l)};var ba=H(null);function Zp(){var a=ba.current;return a!==null?a:qt.pooledCache}function sd(a,l){l===null?ee(ba,ba.current):ee(ba,l.pool)}function ib(){var a=Zp();return a===null?null:{parent:Rn._currentValue,pool:a}}var Xl=Error(r(460)),sb=Error(r(474)),ad=Error(r(542)),Jp={then:function(){}};function ab(a){return a=a.status,a==="fulfilled"||a==="rejected"}function od(){}function ob(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(od,od),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,cb(a),a;default:if(typeof l.status=="string")l.then(od,od);else{if(a=qt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=m}},function(m){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,cb(a),a}throw Ql=l,Xl}}var Ql=null;function lb(){if(Ql===null)throw Error(r(459));var a=Ql;return Ql=null,a}function cb(a){if(a===Xl||a===ad)throw Error(r(483))}var As=!1;function em(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Cs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Rs(a,l,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Ot&2)!==0){var b=m.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),m.pending=l,l=Ju(a),Yx(a,null,f),l}return Zu(a,m,l,f),Ju(a)}function Zl(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,ji(a,f)}}function nm(a,l){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var b=null,C=null;if(f=f.firstBaseUpdate,f!==null){do{var N={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};C===null?b=C=N:C=C.next=N,f=f.next}while(f!==null);C===null?b=C=l:C=C.next=l}else b=C=l;f={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var rm=!1;function Jl(){if(rm){var a=bo;if(a!==null)throw a}}function ec(a,l,f,m){rm=!1;var b=a.updateQueue;As=!1;var C=b.firstBaseUpdate,N=b.lastBaseUpdate,U=b.shared.pending;if(U!==null){b.shared.pending=null;var X=U,ie=X.next;X.next=null,N===null?C=ie:N.next=ie,N=X;var pe=a.alternate;pe!==null&&(pe=pe.updateQueue,U=pe.lastBaseUpdate,U!==N&&(U===null?pe.firstBaseUpdate=ie:U.next=ie,pe.lastBaseUpdate=X))}if(C!==null){var xe=b.baseState;N=0,pe=ie=X=null,U=C;do{var ae=U.lane&-536870913,le=ae!==U.lane;if(le?(Ct&ae)===ae:(m&ae)===ae){ae!==0&&ae===xo&&(rm=!0),pe!==null&&(pe=pe.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var rt=a,tt=U;ae=l;var Ft=f;switch(tt.tag){case 1:if(rt=tt.payload,typeof rt=="function"){xe=rt.call(Ft,xe,ae);break e}xe=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=tt.payload,ae=typeof rt=="function"?rt.call(Ft,xe,ae):rt,ae==null)break e;xe=h({},xe,ae);break e;case 2:As=!0}}ae=U.callback,ae!==null&&(a.flags|=64,le&&(a.flags|=8192),le=b.callbacks,le===null?b.callbacks=[ae]:le.push(ae))}else le={lane:ae,tag:U.tag,payload:U.payload,callback:U.callback,next:null},pe===null?(ie=pe=le,X=xe):pe=pe.next=le,N|=ae;if(U=U.next,U===null){if(U=b.shared.pending,U===null)break;le=U,U=le.next,le.next=null,b.lastBaseUpdate=le,b.shared.pending=null}}while(!0);pe===null&&(X=xe),b.baseState=X,b.firstBaseUpdate=ie,b.lastBaseUpdate=pe,C===null&&(b.shared.lanes=0),ks|=N,a.lanes=N,a.memoizedState=xe}}function ub(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function db(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)ub(f[a],l)}var So=H(null),ld=H(0);function fb(a,l){a=ts,ee(ld,a),ee(So,l),ts=a|l.baseLanes}function im(){ee(ld,ts),ee(So,So.current)}function sm(){ts=ld.current,Q(So),Q(ld)}var ws=0,mt=null,Bt=null,En=null,cd=!1,Eo=!1,Sa=!1,ud=0,tc=0,To=null,q2=0;function gn(){throw Error(r(321))}function am(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!mr(a[f],l[f]))return!1;return!0}function om(a,l,f,m,b,C){return ws=C,mt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,$.H=a===null||a.memoizedState===null?Yb:Xb,Sa=!1,C=f(m,b),Sa=!1,Eo&&(C=pb(l,f,m,b)),hb(a),C}function hb(a){$.H=gd;var l=Bt!==null&&Bt.next!==null;if(ws=0,En=Bt=mt=null,cd=!1,tc=0,To=null,l)throw Error(r(300));a===null||Dn||(a=a.dependencies,a!==null&&rd(a)&&(Dn=!0))}function pb(a,l,f,m){mt=a;var b=0;do{if(Eo&&(To=null),tc=0,Eo=!1,25<=b)throw Error(r(301));if(b+=1,En=Bt=null,a.updateQueue!=null){var C=a.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}$.H=tD,C=l(f,m)}while(Eo);return C}function Y2(){var a=$.H,l=a.useState()[0];return l=typeof l.then=="function"?nc(l):l,a=a.useState()[0],(Bt!==null?Bt.memoizedState:null)!==a&&(mt.flags|=1024),l}function lm(){var a=ud!==0;return ud=0,a}function cm(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function um(a){if(cd){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}cd=!1}ws=0,En=Bt=mt=null,Eo=!1,tc=ud=0,To=null}function rr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?mt.memoizedState=En=a:En=En.next=a,En}function Tn(){if(Bt===null){var a=mt.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var l=En===null?mt.memoizedState:En.next;if(l!==null)En=l,Bt=a;else{if(a===null)throw mt.alternate===null?Error(r(467)):Error(r(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},En===null?mt.memoizedState=En=a:En=En.next=a}return En}function dm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(a){var l=tc;return tc+=1,To===null&&(To=[]),a=ob(To,a,l),l=mt,(En===null?l.memoizedState:En.next)===null&&(l=l.alternate,$.H=l===null||l.memoizedState===null?Yb:Xb),a}function dd(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return nc(a);if(a.$$typeof===A)return Gn(a)}throw Error(r(438,String(a)))}function fm(a){var l=null,f=mt.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=mt.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=dm(),mt.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),m=0;m<a;m++)f[m]=w;return l.index++,f}function Yi(a,l){return typeof l=="function"?l(a):l}function fd(a){var l=Tn();return hm(l,Bt,a)}function hm(a,l,f){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=f;var b=a.baseQueue,C=m.pending;if(C!==null){if(b!==null){var N=b.next;b.next=C.next,C.next=N}l.baseQueue=b=C,m.pending=null}if(C=a.baseState,b===null)a.memoizedState=C;else{l=b.next;var U=N=null,X=null,ie=l,pe=!1;do{var xe=ie.lane&-536870913;if(xe!==ie.lane?(Ct&xe)===xe:(ws&xe)===xe){var ae=ie.revertLane;if(ae===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),xe===xo&&(pe=!0);else if((ws&ae)===ae){ie=ie.next,ae===xo&&(pe=!0);continue}else xe={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(U=X=xe,N=C):X=X.next=xe,mt.lanes|=ae,ks|=ae;xe=ie.action,Sa&&f(C,xe),C=ie.hasEagerState?ie.eagerState:f(C,xe)}else ae={lane:xe,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(U=X=ae,N=C):X=X.next=ae,mt.lanes|=xe,ks|=xe;ie=ie.next}while(ie!==null&&ie!==l);if(X===null?N=C:X.next=U,!mr(C,a.memoizedState)&&(Dn=!0,pe&&(f=bo,f!==null)))throw f;a.memoizedState=C,a.baseState=N,a.baseQueue=X,m.lastRenderedState=C}return b===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function pm(a){var l=Tn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var m=f.dispatch,b=f.pending,C=l.memoizedState;if(b!==null){f.pending=null;var N=b=b.next;do C=a(C,N.action),N=N.next;while(N!==b);mr(C,l.memoizedState)||(Dn=!0),l.memoizedState=C,l.baseQueue===null&&(l.baseState=C),f.lastRenderedState=C}return[C,m]}function mb(a,l,f){var m=mt,b=Tn(),C=Lt;if(C){if(f===void 0)throw Error(r(407));f=f()}else f=l();var N=!mr((Bt||b).memoizedState,f);N&&(b.memoizedState=f,Dn=!0),b=b.queue;var U=vb.bind(null,m,b,a);if(rc(2048,8,U,[a]),b.getSnapshot!==l||N||En!==null&&En.memoizedState.tag&1){if(m.flags|=2048,Ao(9,hd(),yb.bind(null,m,b,f,l),null),qt===null)throw Error(r(349));C||(ws&124)!==0||gb(m,l,f)}return f}function gb(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=mt.updateQueue,l===null?(l=dm(),mt.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function yb(a,l,f,m){l.value=f,l.getSnapshot=m,xb(l)&&bb(a)}function vb(a,l,f){return f(function(){xb(l)&&bb(a)})}function xb(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!mr(a,f)}catch{return!0}}function bb(a){var l=mo(a,2);l!==null&&Sr(l,a,2)}function mm(a){var l=rr();if(typeof a=="function"){var f=a;if(a=f(),Sa){Ie(!0);try{f()}finally{Ie(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},l}function Sb(a,l,f,m){return a.baseState=f,hm(a,Bt,typeof m=="function"?m:Yi)}function X2(a,l,f,m,b){if(md(a))throw Error(r(485));if(a=l.action,a!==null){var C={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(N){C.listeners.push(N)}};$.T!==null?f(!0):C.isTransition=!1,m(C),f=l.pending,f===null?(C.next=l.pending=C,Eb(l,C)):(C.next=f.next,l.pending=f.next=C)}}function Eb(a,l){var f=l.action,m=l.payload,b=a.state;if(l.isTransition){var C=$.T,N={};$.T=N;try{var U=f(b,m),X=$.S;X!==null&&X(N,U),Tb(a,l,U)}catch(ie){gm(a,l,ie)}finally{$.T=C}}else try{C=f(b,m),Tb(a,l,C)}catch(ie){gm(a,l,ie)}}function Tb(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Ab(a,l,m)},function(m){return gm(a,l,m)}):Ab(a,l,f)}function Ab(a,l,f){l.status="fulfilled",l.value=f,Cb(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,Eb(a,f)))}function gm(a,l,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,Cb(l),l=l.next;while(l!==m)}a.action=null}function Cb(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Rb(a,l){return l}function wb(a,l){if(Lt){var f=qt.formState;if(f!==null){e:{var m=mt;if(Lt){if(cn){t:{for(var b=cn,C=yi;b.nodeType!==8;){if(!C){b=null;break t}if(b=ni(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){cn=ni(b.nextSibling),m=b.data==="F!";break e}}ya(m)}m=!1}m&&(l=f[0])}}return f=rr(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rb,lastRenderedState:l},f.queue=m,f=Kb.bind(null,mt,m),m.dispatch=f,m=mm(!1),C=Sm.bind(null,mt,!1,m.queue),m=rr(),b={state:l,dispatch:null,action:a,pending:null},m.queue=b,f=X2.bind(null,mt,b,C,f),b.dispatch=f,m.memoizedState=a,[l,f,!1]}function Lb(a){var l=Tn();return Ib(l,Bt,a)}function Ib(a,l,f){if(l=hm(a,l,Rb)[0],a=fd(Yi)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=nc(l)}catch(N){throw N===Xl?ad:N}else m=l;l=Tn();var b=l.queue,C=b.dispatch;return f!==l.memoizedState&&(mt.flags|=2048,Ao(9,hd(),Q2.bind(null,b,f),null)),[m,C,a]}function Q2(a,l){a.action=l}function Db(a){var l=Tn(),f=Bt;if(f!==null)return Ib(l,f,a);Tn(),l=l.memoizedState,f=Tn();var m=f.queue.dispatch;return f.memoizedState=a,[l,m,!1]}function Ao(a,l,f,m){return a={tag:a,create:f,deps:m,inst:l,next:null},l=mt.updateQueue,l===null&&(l=dm(),mt.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,l.lastEffect=a),a}function hd(){return{destroy:void 0,resource:void 0}}function Pb(){return Tn().memoizedState}function pd(a,l,f,m){var b=rr();m=m===void 0?null:m,mt.flags|=a,b.memoizedState=Ao(1|l,hd(),f,m)}function rc(a,l,f,m){var b=Tn();m=m===void 0?null:m;var C=b.memoizedState.inst;Bt!==null&&m!==null&&am(m,Bt.memoizedState.deps)?b.memoizedState=Ao(l,C,f,m):(mt.flags|=a,b.memoizedState=Ao(1|l,C,f,m))}function _b(a,l){pd(8390656,8,a,l)}function Ob(a,l){rc(2048,8,a,l)}function kb(a,l){return rc(4,2,a,l)}function Mb(a,l){return rc(4,4,a,l)}function Nb(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Bb(a,l,f){f=f!=null?f.concat([a]):null,rc(4,4,Nb.bind(null,l,a),f)}function ym(){}function $b(a,l){var f=Tn();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&am(l,m[1])?m[0]:(f.memoizedState=[a,l],a)}function Fb(a,l){var f=Tn();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&am(l,m[1]))return m[0];if(m=a(),Sa){Ie(!0);try{a()}finally{Ie(!1)}}return f.memoizedState=[m,l],m}function vm(a,l,f){return f===void 0||(ws&1073741824)!==0?a.memoizedState=l:(a.memoizedState=f,a=zS(),mt.lanes|=a,ks|=a,f)}function Ub(a,l,f,m){return mr(f,l)?f:So.current!==null?(a=vm(a,f,m),mr(a,l)||(Dn=!0),a):(ws&42)===0?(Dn=!0,a.memoizedState=f):(a=zS(),mt.lanes|=a,ks|=a,l)}function jb(a,l,f,m,b){var C=W.p;W.p=C!==0&&8>C?C:8;var N=$.T,U={};$.T=U,Sm(a,!1,l,f);try{var X=b(),ie=$.S;if(ie!==null&&ie(U,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var pe=W2(X,m);ic(a,l,pe,br(a))}else ic(a,l,m,br(a))}catch(xe){ic(a,l,{then:function(){},status:"rejected",reason:xe},br())}finally{W.p=C,$.T=N}}function Z2(){}function xm(a,l,f,m){if(a.tag!==5)throw Error(r(476));var b=zb(a).queue;jb(a,b,l,G,f===null?Z2:function(){return Gb(a),f(m)})}function zb(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:G},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Gb(a){var l=zb(a).next.queue;ic(a,l,{},br())}function bm(){return Gn(Ec)}function Hb(){return Tn().memoizedState}function Vb(){return Tn().memoizedState}function J2(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=br();a=Cs(f);var m=Rs(l,a,f);m!==null&&(Sr(m,l,f),Zl(m,l,f)),l={cache:Xp()},a.payload=l;return}l=l.return}}function eD(a,l,f){var m=br();f={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},md(a)?Wb(l,f):(f=Up(a,l,f,m),f!==null&&(Sr(f,a,m),qb(f,l,m)))}function Kb(a,l,f){var m=br();ic(a,l,f,m)}function ic(a,l,f,m){var b={lane:m,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(md(a))Wb(l,b);else{var C=a.alternate;if(a.lanes===0&&(C===null||C.lanes===0)&&(C=l.lastRenderedReducer,C!==null))try{var N=l.lastRenderedState,U=C(N,f);if(b.hasEagerState=!0,b.eagerState=U,mr(U,N))return Zu(a,l,b,0),qt===null&&Qu(),!1}catch{}finally{}if(f=Up(a,l,b,m),f!==null)return Sr(f,a,m),qb(f,l,m),!0}return!1}function Sm(a,l,f,m){if(m={lane:2,revertLane:Jm(),action:m,hasEagerState:!1,eagerState:null,next:null},md(a)){if(l)throw Error(r(479))}else l=Up(a,f,m,2),l!==null&&Sr(l,a,2)}function md(a){var l=a.alternate;return a===mt||l!==null&&l===mt}function Wb(a,l){Eo=cd=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function qb(a,l,f){if((f&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,ji(a,f)}}var gd={readContext:Gn,use:dd,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn},Yb={readContext:Gn,use:dd,useCallback:function(a,l){return rr().memoizedState=[a,l===void 0?null:l],a},useContext:Gn,useEffect:_b,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,pd(4194308,4,Nb.bind(null,l,a),f)},useLayoutEffect:function(a,l){return pd(4194308,4,a,l)},useInsertionEffect:function(a,l){pd(4,2,a,l)},useMemo:function(a,l){var f=rr();l=l===void 0?null:l;var m=a();if(Sa){Ie(!0);try{a()}finally{Ie(!1)}}return f.memoizedState=[m,l],m},useReducer:function(a,l,f){var m=rr();if(f!==void 0){var b=f(l);if(Sa){Ie(!0);try{f(l)}finally{Ie(!1)}}}else b=l;return m.memoizedState=m.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},m.queue=a,a=a.dispatch=eD.bind(null,mt,a),[m.memoizedState,a]},useRef:function(a){var l=rr();return a={current:a},l.memoizedState=a},useState:function(a){a=mm(a);var l=a.queue,f=Kb.bind(null,mt,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:ym,useDeferredValue:function(a,l){var f=rr();return vm(f,a,l)},useTransition:function(){var a=mm(!1);return a=jb.bind(null,mt,a.queue,!0,!1),rr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var m=mt,b=rr();if(Lt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),qt===null)throw Error(r(349));(Ct&124)!==0||gb(m,l,f)}b.memoizedState=f;var C={value:f,getSnapshot:l};return b.queue=C,_b(vb.bind(null,m,C,a),[a]),m.flags|=2048,Ao(9,hd(),yb.bind(null,m,C,f,l),null),f},useId:function(){var a=rr(),l=qt.identifierPrefix;if(Lt){var f=Ki,m=Vi;f=(m&~(1<<32-Le(m)-1)).toString(32)+f,l=""+l+"R"+f,f=ud++,0<f&&(l+="H"+f.toString(32)),l+=""}else f=q2++,l=""+l+"r"+f.toString(32)+"";return a.memoizedState=l},useHostTransitionStatus:bm,useFormState:wb,useActionState:wb,useOptimistic:function(a){var l=rr();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Sm.bind(null,mt,!0,f),f.dispatch=l,[a,l]},useMemoCache:fm,useCacheRefresh:function(){return rr().memoizedState=J2.bind(null,mt)}},Xb={readContext:Gn,use:dd,useCallback:$b,useContext:Gn,useEffect:Ob,useImperativeHandle:Bb,useInsertionEffect:kb,useLayoutEffect:Mb,useMemo:Fb,useReducer:fd,useRef:Pb,useState:function(){return fd(Yi)},useDebugValue:ym,useDeferredValue:function(a,l){var f=Tn();return Ub(f,Bt.memoizedState,a,l)},useTransition:function(){var a=fd(Yi)[0],l=Tn().memoizedState;return[typeof a=="boolean"?a:nc(a),l]},useSyncExternalStore:mb,useId:Hb,useHostTransitionStatus:bm,useFormState:Lb,useActionState:Lb,useOptimistic:function(a,l){var f=Tn();return Sb(f,Bt,a,l)},useMemoCache:fm,useCacheRefresh:Vb},tD={readContext:Gn,use:dd,useCallback:$b,useContext:Gn,useEffect:Ob,useImperativeHandle:Bb,useInsertionEffect:kb,useLayoutEffect:Mb,useMemo:Fb,useReducer:pm,useRef:Pb,useState:function(){return pm(Yi)},useDebugValue:ym,useDeferredValue:function(a,l){var f=Tn();return Bt===null?vm(f,a,l):Ub(f,Bt.memoizedState,a,l)},useTransition:function(){var a=pm(Yi)[0],l=Tn().memoizedState;return[typeof a=="boolean"?a:nc(a),l]},useSyncExternalStore:mb,useId:Hb,useHostTransitionStatus:bm,useFormState:Db,useActionState:Db,useOptimistic:function(a,l){var f=Tn();return Bt!==null?Sb(f,Bt,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:fm,useCacheRefresh:Vb},Co=null,sc=0;function yd(a){var l=sc;return sc+=1,Co===null&&(Co=[]),ob(Co,a,l)}function ac(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function vd(a,l){throw l.$$typeof===p?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Qb(a){var l=a._init;return l(a._payload)}function Zb(a){function l(J,Z){if(a){var ne=J.deletions;ne===null?(J.deletions=[Z],J.flags|=16):ne.push(Z)}}function f(J,Z){if(!a)return null;for(;Z!==null;)l(J,Z),Z=Z.sibling;return null}function m(J){for(var Z=new Map;J!==null;)J.key!==null?Z.set(J.key,J):Z.set(J.index,J),J=J.sibling;return Z}function b(J,Z){return J=Hi(J,Z),J.index=0,J.sibling=null,J}function C(J,Z,ne){return J.index=ne,a?(ne=J.alternate,ne!==null?(ne=ne.index,ne<Z?(J.flags|=67108866,Z):ne):(J.flags|=67108866,Z)):(J.flags|=1048576,Z)}function N(J){return a&&J.alternate===null&&(J.flags|=67108866),J}function U(J,Z,ne,ye){return Z===null||Z.tag!==6?(Z=zp(ne,J.mode,ye),Z.return=J,Z):(Z=b(Z,ne),Z.return=J,Z)}function X(J,Z,ne,ye){var Fe=ne.type;return Fe===y?pe(J,Z,ne.props.children,ye,ne.key):Z!==null&&(Z.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===k&&Qb(Fe)===Z.type)?(Z=b(Z,ne.props),ac(Z,ne),Z.return=J,Z):(Z=ed(ne.type,ne.key,ne.props,null,J.mode,ye),ac(Z,ne),Z.return=J,Z)}function ie(J,Z,ne,ye){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==ne.containerInfo||Z.stateNode.implementation!==ne.implementation?(Z=Gp(ne,J.mode,ye),Z.return=J,Z):(Z=b(Z,ne.children||[]),Z.return=J,Z)}function pe(J,Z,ne,ye,Fe){return Z===null||Z.tag!==7?(Z=ha(ne,J.mode,ye,Fe),Z.return=J,Z):(Z=b(Z,ne),Z.return=J,Z)}function xe(J,Z,ne){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=zp(""+Z,J.mode,ne),Z.return=J,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case g:return ne=ed(Z.type,Z.key,Z.props,null,J.mode,ne),ac(ne,Z),ne.return=J,ne;case v:return Z=Gp(Z,J.mode,ne),Z.return=J,Z;case k:var ye=Z._init;return Z=ye(Z._payload),xe(J,Z,ne)}if(K(Z)||j(Z))return Z=ha(Z,J.mode,ne,null),Z.return=J,Z;if(typeof Z.then=="function")return xe(J,yd(Z),ne);if(Z.$$typeof===A)return xe(J,id(J,Z),ne);vd(J,Z)}return null}function ae(J,Z,ne,ye){var Fe=Z!==null?Z.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Fe!==null?null:U(J,Z,""+ne,ye);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:return ne.key===Fe?X(J,Z,ne,ye):null;case v:return ne.key===Fe?ie(J,Z,ne,ye):null;case k:return Fe=ne._init,ne=Fe(ne._payload),ae(J,Z,ne,ye)}if(K(ne)||j(ne))return Fe!==null?null:pe(J,Z,ne,ye,null);if(typeof ne.then=="function")return ae(J,Z,yd(ne),ye);if(ne.$$typeof===A)return ae(J,Z,id(J,ne),ye);vd(J,ne)}return null}function le(J,Z,ne,ye,Fe){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return J=J.get(ne)||null,U(Z,J,""+ye,Fe);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case g:return J=J.get(ye.key===null?ne:ye.key)||null,X(Z,J,ye,Fe);case v:return J=J.get(ye.key===null?ne:ye.key)||null,ie(Z,J,ye,Fe);case k:var vt=ye._init;return ye=vt(ye._payload),le(J,Z,ne,ye,Fe)}if(K(ye)||j(ye))return J=J.get(ne)||null,pe(Z,J,ye,Fe,null);if(typeof ye.then=="function")return le(J,Z,ne,yd(ye),Fe);if(ye.$$typeof===A)return le(J,Z,ne,id(Z,ye),Fe);vd(Z,ye)}return null}function rt(J,Z,ne,ye){for(var Fe=null,vt=null,Xe=Z,nt=Z=0,_n=null;Xe!==null&&nt<ne.length;nt++){Xe.index>nt?(_n=Xe,Xe=null):_n=Xe.sibling;var Rt=ae(J,Xe,ne[nt],ye);if(Rt===null){Xe===null&&(Xe=_n);break}a&&Xe&&Rt.alternate===null&&l(J,Xe),Z=C(Rt,Z,nt),vt===null?Fe=Rt:vt.sibling=Rt,vt=Rt,Xe=_n}if(nt===ne.length)return f(J,Xe),Lt&&ma(J,nt),Fe;if(Xe===null){for(;nt<ne.length;nt++)Xe=xe(J,ne[nt],ye),Xe!==null&&(Z=C(Xe,Z,nt),vt===null?Fe=Xe:vt.sibling=Xe,vt=Xe);return Lt&&ma(J,nt),Fe}for(Xe=m(Xe);nt<ne.length;nt++)_n=le(Xe,J,nt,ne[nt],ye),_n!==null&&(a&&_n.alternate!==null&&Xe.delete(_n.key===null?nt:_n.key),Z=C(_n,Z,nt),vt===null?Fe=_n:vt.sibling=_n,vt=_n);return a&&Xe.forEach(function(Gs){return l(J,Gs)}),Lt&&ma(J,nt),Fe}function tt(J,Z,ne,ye){if(ne==null)throw Error(r(151));for(var Fe=null,vt=null,Xe=Z,nt=Z=0,_n=null,Rt=ne.next();Xe!==null&&!Rt.done;nt++,Rt=ne.next()){Xe.index>nt?(_n=Xe,Xe=null):_n=Xe.sibling;var Gs=ae(J,Xe,Rt.value,ye);if(Gs===null){Xe===null&&(Xe=_n);break}a&&Xe&&Gs.alternate===null&&l(J,Xe),Z=C(Gs,Z,nt),vt===null?Fe=Gs:vt.sibling=Gs,vt=Gs,Xe=_n}if(Rt.done)return f(J,Xe),Lt&&ma(J,nt),Fe;if(Xe===null){for(;!Rt.done;nt++,Rt=ne.next())Rt=xe(J,Rt.value,ye),Rt!==null&&(Z=C(Rt,Z,nt),vt===null?Fe=Rt:vt.sibling=Rt,vt=Rt);return Lt&&ma(J,nt),Fe}for(Xe=m(Xe);!Rt.done;nt++,Rt=ne.next())Rt=le(Xe,J,nt,Rt.value,ye),Rt!==null&&(a&&Rt.alternate!==null&&Xe.delete(Rt.key===null?nt:Rt.key),Z=C(Rt,Z,nt),vt===null?Fe=Rt:vt.sibling=Rt,vt=Rt);return a&&Xe.forEach(function(nP){return l(J,nP)}),Lt&&ma(J,nt),Fe}function Ft(J,Z,ne,ye){if(typeof ne=="object"&&ne!==null&&ne.type===y&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case g:e:{for(var Fe=ne.key;Z!==null;){if(Z.key===Fe){if(Fe=ne.type,Fe===y){if(Z.tag===7){f(J,Z.sibling),ye=b(Z,ne.props.children),ye.return=J,J=ye;break e}}else if(Z.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===k&&Qb(Fe)===Z.type){f(J,Z.sibling),ye=b(Z,ne.props),ac(ye,ne),ye.return=J,J=ye;break e}f(J,Z);break}else l(J,Z);Z=Z.sibling}ne.type===y?(ye=ha(ne.props.children,J.mode,ye,ne.key),ye.return=J,J=ye):(ye=ed(ne.type,ne.key,ne.props,null,J.mode,ye),ac(ye,ne),ye.return=J,J=ye)}return N(J);case v:e:{for(Fe=ne.key;Z!==null;){if(Z.key===Fe)if(Z.tag===4&&Z.stateNode.containerInfo===ne.containerInfo&&Z.stateNode.implementation===ne.implementation){f(J,Z.sibling),ye=b(Z,ne.children||[]),ye.return=J,J=ye;break e}else{f(J,Z);break}else l(J,Z);Z=Z.sibling}ye=Gp(ne,J.mode,ye),ye.return=J,J=ye}return N(J);case k:return Fe=ne._init,ne=Fe(ne._payload),Ft(J,Z,ne,ye)}if(K(ne))return rt(J,Z,ne,ye);if(j(ne)){if(Fe=j(ne),typeof Fe!="function")throw Error(r(150));return ne=Fe.call(ne),tt(J,Z,ne,ye)}if(typeof ne.then=="function")return Ft(J,Z,yd(ne),ye);if(ne.$$typeof===A)return Ft(J,Z,id(J,ne),ye);vd(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,Z!==null&&Z.tag===6?(f(J,Z.sibling),ye=b(Z,ne),ye.return=J,J=ye):(f(J,Z),ye=zp(ne,J.mode,ye),ye.return=J,J=ye),N(J)):f(J,Z)}return function(J,Z,ne,ye){try{sc=0;var Fe=Ft(J,Z,ne,ye);return Co=null,Fe}catch(Xe){if(Xe===Xl||Xe===ad)throw Xe;var vt=gr(29,Xe,null,J.mode);return vt.lanes=ye,vt.return=J,vt}finally{}}}var Ro=Zb(!0),Jb=Zb(!1),Mr=H(null),vi=null;function Ls(a){var l=a.alternate;ee(wn,wn.current&1),ee(Mr,a),vi===null&&(l===null||So.current!==null||l.memoizedState!==null)&&(vi=a)}function eS(a){if(a.tag===22){if(ee(wn,wn.current),ee(Mr,a),vi===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(vi=a)}}else Is()}function Is(){ee(wn,wn.current),ee(Mr,Mr.current)}function Xi(a){Q(Mr),vi===a&&(vi=null),Q(wn)}var wn=H(0);function xd(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||dg(f)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function Em(a,l,f,m){l=a.memoizedState,f=f(m,l),f=f==null?l:h({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var Tm={enqueueSetState:function(a,l,f){a=a._reactInternals;var m=br(),b=Cs(m);b.payload=l,f!=null&&(b.callback=f),l=Rs(a,b,m),l!==null&&(Sr(l,a,m),Zl(l,a,m))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var m=br(),b=Cs(m);b.tag=1,b.payload=l,f!=null&&(b.callback=f),l=Rs(a,b,m),l!==null&&(Sr(l,a,m),Zl(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=br(),m=Cs(f);m.tag=2,l!=null&&(m.callback=l),l=Rs(a,m,f),l!==null&&(Sr(l,a,f),Zl(l,a,f))}};function tS(a,l,f,m,b,C,N){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,C,N):l.prototype&&l.prototype.isPureReactComponent?!zl(f,m)||!zl(b,C):!0}function nS(a,l,f,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==a&&Tm.enqueueReplaceState(l,l.state,null)}function Ea(a,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(a=a.defaultProps){f===l&&(f=h({},f));for(var b in a)f[b]===void 0&&(f[b]=a[b])}return f}var bd=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function rS(a){bd(a)}function iS(a){console.error(a)}function sS(a){bd(a)}function Sd(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function aS(a,l,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Am(a,l,f){return f=Cs(f),f.tag=3,f.payload={element:null},f.callback=function(){Sd(a,l)},f}function oS(a){return a=Cs(a),a.tag=3,a}function lS(a,l,f,m){var b=f.type.getDerivedStateFromError;if(typeof b=="function"){var C=m.value;a.payload=function(){return b(C)},a.callback=function(){aS(l,f,m)}}var N=f.stateNode;N!==null&&typeof N.componentDidCatch=="function"&&(a.callback=function(){aS(l,f,m),typeof b!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var U=m.stack;this.componentDidCatch(m.value,{componentStack:U!==null?U:""})})}function nD(a,l,f,m,b){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Wl(l,f,b,!0),f=Mr.current,f!==null){switch(f.tag){case 13:return vi===null?qm():f.alternate===null&&un===0&&(un=3),f.flags&=-257,f.flags|=65536,f.lanes=b,m===Jp?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),Xm(a,m,b)),!1;case 22:return f.flags|=65536,m===Jp?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),Xm(a,m,b)),!1}throw Error(r(435,f.tag))}return Xm(a,m,b),qm(),!1}if(Lt)return l=Mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,m!==Kp&&(a=Error(r(422),{cause:m}),Kl(Pr(a,f)))):(m!==Kp&&(l=Error(r(423),{cause:m}),Kl(Pr(l,f))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,m=Pr(m,f),b=Am(a.stateNode,m,b),nm(a,b),un!==4&&(un=2)),!1;var C=Error(r(520),{cause:m});if(C=Pr(C,f),hc===null?hc=[C]:hc.push(C),un!==4&&(un=2),l===null)return!0;m=Pr(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=b&-b,f.lanes|=a,a=Am(f.stateNode,m,a),nm(f,a),!1;case 1:if(l=f.type,C=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ms===null||!Ms.has(C))))return f.flags|=65536,b&=-b,f.lanes|=b,b=oS(b),lS(b,a,f,m),nm(f,b),!1}f=f.return}while(f!==null);return!1}var cS=Error(r(461)),Dn=!1;function Bn(a,l,f,m){l.child=a===null?Jb(l,null,f,m):Ro(l,a.child,f,m)}function uS(a,l,f,m,b){f=f.render;var C=l.ref;if("ref"in m){var N={};for(var U in m)U!=="ref"&&(N[U]=m[U])}else N=m;return xa(l),m=om(a,l,f,N,C,b),U=lm(),a!==null&&!Dn?(cm(a,l,b),Qi(a,l,b)):(Lt&&U&&Hp(l),l.flags|=1,Bn(a,l,m,b),l.child)}function dS(a,l,f,m,b){if(a===null){var C=f.type;return typeof C=="function"&&!jp(C)&&C.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=C,fS(a,l,C,m,b)):(a=ed(f.type,null,m,l,l.mode,b),a.ref=l.ref,a.return=l,l.child=a)}if(C=a.child,!_m(a,b)){var N=C.memoizedProps;if(f=f.compare,f=f!==null?f:zl,f(N,m)&&a.ref===l.ref)return Qi(a,l,b)}return l.flags|=1,a=Hi(C,m),a.ref=l.ref,a.return=l,l.child=a}function fS(a,l,f,m,b){if(a!==null){var C=a.memoizedProps;if(zl(C,m)&&a.ref===l.ref)if(Dn=!1,l.pendingProps=m=C,_m(a,b))(a.flags&131072)!==0&&(Dn=!0);else return l.lanes=a.lanes,Qi(a,l,b)}return Cm(a,l,f,m,b)}function hS(a,l,f){var m=l.pendingProps,b=m.children,C=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((l.flags&128)!==0){if(m=C!==null?C.baseLanes|f:f,a!==null){for(b=l.child=a.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;l.childLanes=C&~m}else l.childLanes=0,l.child=null;return pS(a,l,m,f)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&sd(l,C!==null?C.cachePool:null),C!==null?fb(l,C):im(),eS(l);else return l.lanes=l.childLanes=536870912,pS(a,l,C!==null?C.baseLanes|f:f,f)}else C!==null?(sd(l,C.cachePool),fb(l,C),Is(),l.memoizedState=null):(a!==null&&sd(l,null),im(),Is());return Bn(a,l,b,f),l.child}function pS(a,l,f,m){var b=Zp();return b=b===null?null:{parent:Rn._currentValue,pool:b},l.memoizedState={baseLanes:f,cachePool:b},a!==null&&sd(l,null),im(),eS(l),a!==null&&Wl(a,l,m,!0),null}function Ed(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function Cm(a,l,f,m,b){return xa(l),f=om(a,l,f,m,void 0,b),m=lm(),a!==null&&!Dn?(cm(a,l,b),Qi(a,l,b)):(Lt&&m&&Hp(l),l.flags|=1,Bn(a,l,f,b),l.child)}function mS(a,l,f,m,b,C){return xa(l),l.updateQueue=null,f=pb(l,m,f,b),hb(a),m=lm(),a!==null&&!Dn?(cm(a,l,C),Qi(a,l,C)):(Lt&&m&&Hp(l),l.flags|=1,Bn(a,l,f,C),l.child)}function gS(a,l,f,m,b){if(xa(l),l.stateNode===null){var C=go,N=f.contextType;typeof N=="object"&&N!==null&&(C=Gn(N)),C=new f(m,C),l.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=Tm,l.stateNode=C,C._reactInternals=l,C=l.stateNode,C.props=m,C.state=l.memoizedState,C.refs={},em(l),N=f.contextType,C.context=typeof N=="object"&&N!==null?Gn(N):go,C.state=l.memoizedState,N=f.getDerivedStateFromProps,typeof N=="function"&&(Em(l,f,N,m),C.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(N=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),N!==C.state&&Tm.enqueueReplaceState(C,C.state,null),ec(l,m,C,b),Jl(),C.state=l.memoizedState),typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){C=l.stateNode;var U=l.memoizedProps,X=Ea(f,U);C.props=X;var ie=C.context,pe=f.contextType;N=go,typeof pe=="object"&&pe!==null&&(N=Gn(pe));var xe=f.getDerivedStateFromProps;pe=typeof xe=="function"||typeof C.getSnapshotBeforeUpdate=="function",U=l.pendingProps!==U,pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(U||ie!==N)&&nS(l,C,m,N),As=!1;var ae=l.memoizedState;C.state=ae,ec(l,m,C,b),Jl(),ie=l.memoizedState,U||ae!==ie||As?(typeof xe=="function"&&(Em(l,f,xe,m),ie=l.memoizedState),(X=As||tS(l,f,X,m,ae,ie,N))?(pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(l.flags|=4194308)):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=ie),C.props=m,C.state=ie,C.context=N,m=X):(typeof C.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{C=l.stateNode,tm(a,l),N=l.memoizedProps,pe=Ea(f,N),C.props=pe,xe=l.pendingProps,ae=C.context,ie=f.contextType,X=go,typeof ie=="object"&&ie!==null&&(X=Gn(ie)),U=f.getDerivedStateFromProps,(ie=typeof U=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(N!==xe||ae!==X)&&nS(l,C,m,X),As=!1,ae=l.memoizedState,C.state=ae,ec(l,m,C,b),Jl();var le=l.memoizedState;N!==xe||ae!==le||As||a!==null&&a.dependencies!==null&&rd(a.dependencies)?(typeof U=="function"&&(Em(l,f,U,m),le=l.memoizedState),(pe=As||tS(l,f,pe,m,ae,le,X)||a!==null&&a.dependencies!==null&&rd(a.dependencies))?(ie||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(m,le,X),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(m,le,X)),typeof C.componentDidUpdate=="function"&&(l.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof C.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=le),C.props=m,C.state=le,C.context=X,m=pe):(typeof C.componentDidUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(l.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||N===a.memoizedProps&&ae===a.memoizedState||(l.flags|=1024),m=!1)}return C=m,Ed(a,l),m=(l.flags&128)!==0,C||m?(C=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:C.render(),l.flags|=1,a!==null&&m?(l.child=Ro(l,a.child,null,b),l.child=Ro(l,null,f,b)):Bn(a,l,f,b),l.memoizedState=C.state,a=l.child):a=Qi(a,l,b),a}function yS(a,l,f,m){return Vl(),l.flags|=256,Bn(a,l,f,m),l.child}var Rm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wm(a){return{baseLanes:a,cachePool:ib()}}function Lm(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Nr),a}function vS(a,l,f){var m=l.pendingProps,b=!1,C=(l.flags&128)!==0,N;if((N=C)||(N=a!==null&&a.memoizedState===null?!1:(wn.current&2)!==0),N&&(b=!0,l.flags&=-129),N=(l.flags&32)!==0,l.flags&=-33,a===null){if(Lt){if(b?Ls(l):Is(),Lt){var U=cn,X;if(X=U){e:{for(X=U,U=yi;X.nodeType!==8;){if(!U){U=null;break e}if(X=ni(X.nextSibling),X===null){U=null;break e}}U=X}U!==null?(l.memoizedState={dehydrated:U,treeContext:pa!==null?{id:Vi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},X=gr(18,null,null,0),X.stateNode=U,X.return=l,l.child=X,Qn=l,cn=null,X=!0):X=!1}X||ya(l)}if(U=l.memoizedState,U!==null&&(U=U.dehydrated,U!==null))return dg(U)?l.lanes=32:l.lanes=536870912,null;Xi(l)}return U=m.children,m=m.fallback,b?(Is(),b=l.mode,U=Td({mode:"hidden",children:U},b),m=ha(m,b,f,null),U.return=l,m.return=l,U.sibling=m,l.child=U,b=l.child,b.memoizedState=wm(f),b.childLanes=Lm(a,N,f),l.memoizedState=Rm,m):(Ls(l),Im(l,U))}if(X=a.memoizedState,X!==null&&(U=X.dehydrated,U!==null)){if(C)l.flags&256?(Ls(l),l.flags&=-257,l=Dm(a,l,f)):l.memoizedState!==null?(Is(),l.child=a.child,l.flags|=128,l=null):(Is(),b=m.fallback,U=l.mode,m=Td({mode:"visible",children:m.children},U),b=ha(b,U,f,null),b.flags|=2,m.return=l,b.return=l,m.sibling=b,l.child=m,Ro(l,a.child,null,f),m=l.child,m.memoizedState=wm(f),m.childLanes=Lm(a,N,f),l.memoizedState=Rm,l=b);else if(Ls(l),dg(U)){if(N=U.nextSibling&&U.nextSibling.dataset,N)var ie=N.dgst;N=ie,m=Error(r(419)),m.stack="",m.digest=N,Kl({value:m,source:null,stack:null}),l=Dm(a,l,f)}else if(Dn||Wl(a,l,f,!1),N=(f&a.childLanes)!==0,Dn||N){if(N=qt,N!==null&&(m=f&-f,m=(m&42)!==0?1:Xn(m),m=(m&(N.suspendedLanes|f))!==0?0:m,m!==0&&m!==X.retryLane))throw X.retryLane=m,mo(a,m),Sr(N,a,m),cS;U.data==="$?"||qm(),l=Dm(a,l,f)}else U.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=X.treeContext,cn=ni(U.nextSibling),Qn=l,Lt=!0,ga=null,yi=!1,a!==null&&(Or[kr++]=Vi,Or[kr++]=Ki,Or[kr++]=pa,Vi=a.id,Ki=a.overflow,pa=l),l=Im(l,m.children),l.flags|=4096);return l}return b?(Is(),b=m.fallback,U=l.mode,X=a.child,ie=X.sibling,m=Hi(X,{mode:"hidden",children:m.children}),m.subtreeFlags=X.subtreeFlags&65011712,ie!==null?b=Hi(ie,b):(b=ha(b,U,f,null),b.flags|=2),b.return=l,m.return=l,m.sibling=b,l.child=m,m=b,b=l.child,U=a.child.memoizedState,U===null?U=wm(f):(X=U.cachePool,X!==null?(ie=Rn._currentValue,X=X.parent!==ie?{parent:ie,pool:ie}:X):X=ib(),U={baseLanes:U.baseLanes|f,cachePool:X}),b.memoizedState=U,b.childLanes=Lm(a,N,f),l.memoizedState=Rm,m):(Ls(l),f=a.child,a=f.sibling,f=Hi(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,a!==null&&(N=l.deletions,N===null?(l.deletions=[a],l.flags|=16):N.push(a)),l.child=f,l.memoizedState=null,f)}function Im(a,l){return l=Td({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Td(a,l){return a=gr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Dm(a,l,f){return Ro(l,a.child,null,f),a=Im(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function xS(a,l,f){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),qp(a.return,l,f)}function Pm(a,l,f,m,b){var C=a.memoizedState;C===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:b}:(C.isBackwards=l,C.rendering=null,C.renderingStartTime=0,C.last=m,C.tail=f,C.tailMode=b)}function bS(a,l,f){var m=l.pendingProps,b=m.revealOrder,C=m.tail;if(Bn(a,l,m.children,f),m=wn.current,(m&2)!==0)m=m&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&xS(a,f,l);else if(a.tag===19)xS(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(ee(wn,m),b){case"forwards":for(f=l.child,b=null;f!==null;)a=f.alternate,a!==null&&xd(a)===null&&(b=f),f=f.sibling;f=b,f===null?(b=l.child,l.child=null):(b=f.sibling,f.sibling=null),Pm(l,!1,b,f,C);break;case"backwards":for(f=null,b=l.child,l.child=null;b!==null;){if(a=b.alternate,a!==null&&xd(a)===null){l.child=b;break}a=b.sibling,b.sibling=f,f=b,b=a}Pm(l,!0,f,null,C);break;case"together":Pm(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qi(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),ks|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Wl(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=Hi(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=Hi(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function _m(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&rd(a)))}function rD(a,l,f){switch(l.tag){case 3:me(l,l.stateNode.containerInfo),Ts(l,Rn,a.memoizedState.cache),Vl();break;case 27:case 5:Te(l);break;case 4:me(l,l.stateNode.containerInfo);break;case 10:Ts(l,l.type,l.memoizedProps.value);break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ls(l),l.flags|=128,null):(f&l.child.childLanes)!==0?vS(a,l,f):(Ls(l),a=Qi(a,l,f),a!==null?a.sibling:null);Ls(l);break;case 19:var b=(a.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Wl(a,l,f,!1),m=(f&l.childLanes)!==0),b){if(m)return bS(a,l,f);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),ee(wn,wn.current),m)break;return null;case 22:case 23:return l.lanes=0,hS(a,l,f);case 24:Ts(l,Rn,a.memoizedState.cache)}return Qi(a,l,f)}function SS(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)Dn=!0;else{if(!_m(a,f)&&(l.flags&128)===0)return Dn=!1,rD(a,l,f);Dn=(a.flags&131072)!==0}else Dn=!1,Lt&&(l.flags&1048576)!==0&&Qx(l,nd,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var m=l.elementType,b=m._init;if(m=b(m._payload),l.type=m,typeof m=="function")jp(m)?(a=Ea(m,a),l.tag=1,l=gS(null,l,m,a,f)):(l.tag=0,l=Cm(null,l,m,a,f));else{if(m!=null){if(b=m.$$typeof,b===L){l.tag=11,l=uS(null,l,m,a,f);break e}else if(b===P){l.tag=14,l=dS(null,l,m,a,f);break e}}throw l=q(m)||m,Error(r(306,l,""))}}return l;case 0:return Cm(a,l,l.type,l.pendingProps,f);case 1:return m=l.type,b=Ea(m,l.pendingProps),gS(a,l,m,b,f);case 3:e:{if(me(l,l.stateNode.containerInfo),a===null)throw Error(r(387));m=l.pendingProps;var C=l.memoizedState;b=C.element,tm(a,l),ec(l,m,null,f);var N=l.memoizedState;if(m=N.cache,Ts(l,Rn,m),m!==C.cache&&Yp(l,[Rn],f,!0),Jl(),m=N.element,C.isDehydrated)if(C={element:m,isDehydrated:!1,cache:N.cache},l.updateQueue.baseState=C,l.memoizedState=C,l.flags&256){l=yS(a,l,m,f);break e}else if(m!==b){b=Pr(Error(r(424)),l),Kl(b),l=yS(a,l,m,f);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(cn=ni(a.firstChild),Qn=l,Lt=!0,ga=null,yi=!0,f=Jb(l,null,m,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Vl(),m===b){l=Qi(a,l,f);break e}Bn(a,l,m,f)}l=l.child}return l;case 26:return Ed(a,l),a===null?(f=CE(l.type,null,l.pendingProps,null))?l.memoizedState=f:Lt||(f=l.type,a=l.pendingProps,m=Bd(V.current).createElement(f),m[zn]=l,m[tr]=a,Fn(m,f,a),In(m),l.stateNode=m):l.memoizedState=CE(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Te(l),a===null&&Lt&&(m=l.stateNode=EE(l.type,l.pendingProps,V.current),Qn=l,yi=!0,b=cn,$s(l.type)?(fg=b,cn=ni(m.firstChild)):cn=b),Bn(a,l,l.pendingProps.children,f),Ed(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Lt&&((b=m=cn)&&(m=PD(m,l.type,l.pendingProps,yi),m!==null?(l.stateNode=m,Qn=l,cn=ni(m.firstChild),yi=!1,b=!0):b=!1),b||ya(l)),Te(l),b=l.type,C=l.pendingProps,N=a!==null?a.memoizedProps:null,m=C.children,lg(b,C)?m=null:N!==null&&lg(b,N)&&(l.flags|=32),l.memoizedState!==null&&(b=om(a,l,Y2,null,null,f),Ec._currentValue=b),Ed(a,l),Bn(a,l,m,f),l.child;case 6:return a===null&&Lt&&((a=f=cn)&&(f=_D(f,l.pendingProps,yi),f!==null?(l.stateNode=f,Qn=l,cn=null,a=!0):a=!1),a||ya(l)),null;case 13:return vS(a,l,f);case 4:return me(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Ro(l,null,m,f):Bn(a,l,m,f),l.child;case 11:return uS(a,l,l.type,l.pendingProps,f);case 7:return Bn(a,l,l.pendingProps,f),l.child;case 8:return Bn(a,l,l.pendingProps.children,f),l.child;case 12:return Bn(a,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,Ts(l,l.type,m.value),Bn(a,l,m.children,f),l.child;case 9:return b=l.type._context,m=l.pendingProps.children,xa(l),b=Gn(b),m=m(b),l.flags|=1,Bn(a,l,m,f),l.child;case 14:return dS(a,l,l.type,l.pendingProps,f);case 15:return fS(a,l,l.type,l.pendingProps,f);case 19:return bS(a,l,f);case 31:return m=l.pendingProps,f=l.mode,m={mode:m.mode,children:m.children},a===null?(f=Td(m,f),f.ref=l.ref,l.child=f,f.return=l,l=f):(f=Hi(a.child,m),f.ref=l.ref,l.child=f,f.return=l,l=f),l;case 22:return hS(a,l,f);case 24:return xa(l),m=Gn(Rn),a===null?(b=Zp(),b===null&&(b=qt,C=Xp(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=f),b=C),l.memoizedState={parent:m,cache:b},em(l),Ts(l,Rn,b)):((a.lanes&f)!==0&&(tm(a,l),ec(l,null,null,f),Jl()),b=a.memoizedState,C=l.memoizedState,b.parent!==m?(b={parent:m,cache:m},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),Ts(l,Rn,m)):(m=C.cache,Ts(l,Rn,m),m!==b.cache&&Yp(l,[Rn],f,!0))),Bn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Zi(a){a.flags|=4}function ES(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!DE(l)){if(l=Mr.current,l!==null&&((Ct&4194048)===Ct?vi!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||l!==vi))throw Ql=Jp,sb;a.flags|=8192}}function Ad(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?xs():536870912,a.lanes|=l,Do|=l)}function oc(a,l){if(!Lt)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function rn(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(l)for(var b=a.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags&65011712,m|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)f|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=m,a.childLanes=f,l}function iD(a,l,f){var m=l.pendingProps;switch(Vp(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(l),null;case 1:return rn(l),null;case 3:return f=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),qi(Rn),we(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Hl(l)?Zi(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,eb())),rn(l),null;case 26:return f=l.memoizedState,a===null?(Zi(l),f!==null?(rn(l),ES(l,f)):(rn(l),l.flags&=-16777217)):f?f!==a.memoizedState?(Zi(l),rn(l),ES(l,f)):(rn(l),l.flags&=-16777217):(a.memoizedProps!==m&&Zi(l),rn(l),l.flags&=-16777217),null;case 27:Pe(l),f=V.current;var b=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Zi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return rn(l),null}a=ce.current,Hl(l)?Zx(l):(a=EE(b,m,f),l.stateNode=a,Zi(l))}return rn(l),null;case 5:if(Pe(l),f=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&Zi(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return rn(l),null}if(a=ce.current,Hl(l))Zx(l);else{switch(b=Bd(V.current),a){case 1:a=b.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:a=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":a=b.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":a=b.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":a=b.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?b.createElement("select",{is:m.is}):b.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?b.createElement(f,{is:m.is}):b.createElement(f)}}a[zn]=l,a[tr]=m;e:for(b=l.child;b!==null;){if(b.tag===5||b.tag===6)a.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===l)break e;for(;b.sibling===null;){if(b.return===null||b.return===l)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}l.stateNode=a;e:switch(Fn(a,f,m),f){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Zi(l)}}return rn(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&Zi(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(a=V.current,Hl(l)){if(a=l.stateNode,f=l.memoizedProps,m=null,b=Qn,b!==null)switch(b.tag){case 27:case 5:m=b.memoizedProps}a[zn]=l,a=!!(a.nodeValue===f||m!==null&&m.suppressHydrationWarning===!0||mE(a.nodeValue,f)),a||ya(l)}else a=Bd(a).createTextNode(m),a[zn]=l,l.stateNode=a}return rn(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Hl(l),m!==null&&m.dehydrated!==null){if(a===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[zn]=l}else Vl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;rn(l),b=!1}else b=eb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Xi(l),l):(Xi(l),null)}if(Xi(l),(l.flags&128)!==0)return l.lanes=f,l;if(f=m!==null,a=a!==null&&a.memoizedState!==null,f){m=l.child,b=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(b=m.alternate.memoizedState.cachePool.pool);var C=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),C!==b&&(m.flags|=2048)}return f!==a&&f&&(l.child.flags|=8192),Ad(l,l.updateQueue),rn(l),null;case 4:return we(),a===null&&rg(l.stateNode.containerInfo),rn(l),null;case 10:return qi(l.type),rn(l),null;case 19:if(Q(wn),b=l.memoizedState,b===null)return rn(l),null;if(m=(l.flags&128)!==0,C=b.rendering,C===null)if(m)oc(b,!1);else{if(un!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(C=xd(a),C!==null){for(l.flags|=128,oc(b,!1),a=C.updateQueue,l.updateQueue=a,Ad(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)Xx(f,a),f=f.sibling;return ee(wn,wn.current&1|2),l.child}a=a.sibling}b.tail!==null&&Oe()>wd&&(l.flags|=128,m=!0,oc(b,!1),l.lanes=4194304)}else{if(!m)if(a=xd(C),a!==null){if(l.flags|=128,m=!0,a=a.updateQueue,l.updateQueue=a,Ad(l,a),oc(b,!0),b.tail===null&&b.tailMode==="hidden"&&!C.alternate&&!Lt)return rn(l),null}else 2*Oe()-b.renderingStartTime>wd&&f!==536870912&&(l.flags|=128,m=!0,oc(b,!1),l.lanes=4194304);b.isBackwards?(C.sibling=l.child,l.child=C):(a=b.last,a!==null?a.sibling=C:l.child=C,b.last=C)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=Oe(),l.sibling=null,a=wn.current,ee(wn,m?a&1|2:a&1),l):(rn(l),null);case 22:case 23:return Xi(l),sm(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(rn(l),l.subtreeFlags&6&&(l.flags|=8192)):rn(l),f=l.updateQueue,f!==null&&Ad(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),a!==null&&Q(ba),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),qi(Rn),rn(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function sD(a,l){switch(Vp(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return qi(Rn),we(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Pe(l),null;case 13:if(Xi(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));Vl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return Q(wn),null;case 4:return we(),null;case 10:return qi(l.type),null;case 22:case 23:return Xi(l),sm(),a!==null&&Q(ba),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return qi(Rn),null;case 25:return null;default:return null}}function TS(a,l){switch(Vp(l),l.tag){case 3:qi(Rn),we();break;case 26:case 27:case 5:Pe(l);break;case 4:we();break;case 13:Xi(l);break;case 19:Q(wn);break;case 10:qi(l.type);break;case 22:case 23:Xi(l),sm(),a!==null&&Q(ba);break;case 24:qi(Rn)}}function lc(a,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var b=m.next;f=b;do{if((f.tag&a)===a){m=void 0;var C=f.create,N=f.inst;m=C(),N.destroy=m}f=f.next}while(f!==b)}}catch(U){Gt(l,l.return,U)}}function Ds(a,l,f){try{var m=l.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var C=b.next;m=C;do{if((m.tag&a)===a){var N=m.inst,U=N.destroy;if(U!==void 0){N.destroy=void 0,b=l;var X=f,ie=U;try{ie()}catch(pe){Gt(b,X,pe)}}}m=m.next}while(m!==C)}}catch(pe){Gt(l,l.return,pe)}}function AS(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{db(l,f)}catch(m){Gt(a,a.return,m)}}}function CS(a,l,f){f.props=Ea(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){Gt(a,l,m)}}function cc(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof f=="function"?a.refCleanup=f(m):f.current=m}}catch(b){Gt(a,l,b)}}function xi(a,l){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(b){Gt(a,l,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(b){Gt(a,l,b)}else f.current=null}function RS(a){var l=a.type,f=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&m.focus();break e;case"img":f.src?m.src=f.src:f.srcSet&&(m.srcset=f.srcSet)}}catch(b){Gt(a,a.return,b)}}function Om(a,l,f){try{var m=a.stateNode;RD(m,a.type,f,l),m[tr]=l}catch(b){Gt(a,a.return,b)}}function wS(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&$s(a.type)||a.tag===4}function km(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||wS(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&$s(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Mm(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Nd));else if(m!==4&&(m===27&&$s(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(Mm(a,l,f),a=a.sibling;a!==null;)Mm(a,l,f),a=a.sibling}function Cd(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(m!==4&&(m===27&&$s(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Cd(a,l,f),a=a.sibling;a!==null;)Cd(a,l,f),a=a.sibling}function LS(a){var l=a.stateNode,f=a.memoizedProps;try{for(var m=a.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Fn(l,m,f),l[zn]=a,l[tr]=f}catch(C){Gt(a,a.return,C)}}var Ji=!1,yn=!1,Nm=!1,IS=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function aD(a,l){if(a=a.containerInfo,ag=Gd,a=Ux(a),kp(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var b=m.anchorOffset,C=m.focusNode;m=m.focusOffset;try{f.nodeType,C.nodeType}catch{f=null;break e}var N=0,U=-1,X=-1,ie=0,pe=0,xe=a,ae=null;t:for(;;){for(var le;xe!==f||b!==0&&xe.nodeType!==3||(U=N+b),xe!==C||m!==0&&xe.nodeType!==3||(X=N+m),xe.nodeType===3&&(N+=xe.nodeValue.length),(le=xe.firstChild)!==null;)ae=xe,xe=le;for(;;){if(xe===a)break t;if(ae===f&&++ie===b&&(U=N),ae===C&&++pe===m&&(X=N),(le=xe.nextSibling)!==null)break;xe=ae,ae=xe.parentNode}xe=le}f=U===-1||X===-1?null:{start:U,end:X}}else f=null}f=f||{start:0,end:0}}else f=null;for(og={focusedElem:a,selectionRange:f},Gd=!1,Pn=l;Pn!==null;)if(l=Pn,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Pn=a;else for(;Pn!==null;){switch(l=Pn,C=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&C!==null){a=void 0,f=l,b=C.memoizedProps,C=C.memoizedState,m=f.stateNode;try{var rt=Ea(f.type,b,f.elementType===f.type);a=m.getSnapshotBeforeUpdate(rt,C),m.__reactInternalSnapshotBeforeUpdate=a}catch(tt){Gt(f,f.return,tt)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)ug(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ug(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,Pn=a;break}Pn=l.return}}function DS(a,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Ps(a,f),m&4&&lc(5,f);break;case 1:if(Ps(a,f),m&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(N){Gt(f,f.return,N)}else{var b=Ea(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(b,l,a.__reactInternalSnapshotBeforeUpdate)}catch(N){Gt(f,f.return,N)}}m&64&&AS(f),m&512&&cc(f,f.return);break;case 3:if(Ps(a,f),m&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{db(a,l)}catch(N){Gt(f,f.return,N)}}break;case 27:l===null&&m&4&&LS(f);case 26:case 5:Ps(a,f),l===null&&m&4&&RS(f),m&512&&cc(f,f.return);break;case 12:Ps(a,f);break;case 13:Ps(a,f),m&4&&OS(a,f),m&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=mD.bind(null,f),OD(a,f))));break;case 22:if(m=f.memoizedState!==null||Ji,!m){l=l!==null&&l.memoizedState!==null||yn,b=Ji;var C=yn;Ji=m,(yn=l)&&!C?_s(a,f,(f.subtreeFlags&8772)!==0):Ps(a,f),Ji=b,yn=C}break;case 30:break;default:Ps(a,f)}}function PS(a){var l=a.alternate;l!==null&&(a.alternate=null,PS(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&mp(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Qt=null,ir=!1;function es(a,l,f){for(f=f.child;f!==null;)_S(a,l,f),f=f.sibling}function _S(a,l,f){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(be,f)}catch{}switch(f.tag){case 26:yn||xi(f,l),es(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:yn||xi(f,l);var m=Qt,b=ir;$s(f.type)&&(Qt=f.stateNode,ir=!1),es(a,l,f),vc(f.stateNode),Qt=m,ir=b;break;case 5:yn||xi(f,l);case 6:if(m=Qt,b=ir,Qt=null,es(a,l,f),Qt=m,ir=b,Qt!==null)if(ir)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(f.stateNode)}catch(C){Gt(f,l,C)}else try{Qt.removeChild(f.stateNode)}catch(C){Gt(f,l,C)}break;case 18:Qt!==null&&(ir?(a=Qt,bE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),Rc(a)):bE(Qt,f.stateNode));break;case 4:m=Qt,b=ir,Qt=f.stateNode.containerInfo,ir=!0,es(a,l,f),Qt=m,ir=b;break;case 0:case 11:case 14:case 15:yn||Ds(2,f,l),yn||Ds(4,f,l),es(a,l,f);break;case 1:yn||(xi(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&CS(f,l,m)),es(a,l,f);break;case 21:es(a,l,f);break;case 22:yn=(m=yn)||f.memoizedState!==null,es(a,l,f),yn=m;break;default:es(a,l,f)}}function OS(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Rc(a)}catch(f){Gt(l,l.return,f)}}function oD(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new IS),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new IS),l;default:throw Error(r(435,a.tag))}}function Bm(a,l){var f=oD(a);l.forEach(function(m){var b=gD.bind(null,a,m);f.has(m)||(f.add(m),m.then(b,b))})}function yr(a,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var b=f[m],C=a,N=l,U=N;e:for(;U!==null;){switch(U.tag){case 27:if($s(U.type)){Qt=U.stateNode,ir=!1;break e}break;case 5:Qt=U.stateNode,ir=!1;break e;case 3:case 4:Qt=U.stateNode.containerInfo,ir=!0;break e}U=U.return}if(Qt===null)throw Error(r(160));_S(C,N,b),Qt=null,ir=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)kS(l,a),l=l.sibling}var ti=null;function kS(a,l){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:yr(l,a),vr(a),m&4&&(Ds(3,a,a.return),lc(3,a),Ds(5,a,a.return));break;case 1:yr(l,a),vr(a),m&512&&(yn||f===null||xi(f,f.return)),m&64&&Ji&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:var b=ti;if(yr(l,a),vr(a),m&512&&(yn||f===null||xi(f,f.return)),m&4){var C=f!==null?f.memoizedState:null;if(m=a.memoizedState,f===null)if(m===null)if(a.stateNode===null){e:{m=a.type,f=a.memoizedProps,b=b.ownerDocument||b;t:switch(m){case"title":C=b.getElementsByTagName("title")[0],(!C||C[Ol]||C[zn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(m),b.head.insertBefore(C,b.querySelector("head > title"))),Fn(C,m,f),C[zn]=a,In(C),m=C;break e;case"link":var N=LE("link","href",b).get(m+(f.href||""));if(N){for(var U=0;U<N.length;U++)if(C=N[U],C.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&C.getAttribute("rel")===(f.rel==null?null:f.rel)&&C.getAttribute("title")===(f.title==null?null:f.title)&&C.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){N.splice(U,1);break t}}C=b.createElement(m),Fn(C,m,f),b.head.appendChild(C);break;case"meta":if(N=LE("meta","content",b).get(m+(f.content||""))){for(U=0;U<N.length;U++)if(C=N[U],C.getAttribute("content")===(f.content==null?null:""+f.content)&&C.getAttribute("name")===(f.name==null?null:f.name)&&C.getAttribute("property")===(f.property==null?null:f.property)&&C.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&C.getAttribute("charset")===(f.charSet==null?null:f.charSet)){N.splice(U,1);break t}}C=b.createElement(m),Fn(C,m,f),b.head.appendChild(C);break;default:throw Error(r(468,m))}C[zn]=a,In(C),m=C}a.stateNode=m}else IE(b,a.type,a.stateNode);else a.stateNode=wE(b,m,a.memoizedProps);else C!==m?(C===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):C.count--,m===null?IE(b,a.type,a.stateNode):wE(b,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Om(a,a.memoizedProps,f.memoizedProps)}break;case 27:yr(l,a),vr(a),m&512&&(yn||f===null||xi(f,f.return)),f!==null&&m&4&&Om(a,a.memoizedProps,f.memoizedProps);break;case 5:if(yr(l,a),vr(a),m&512&&(yn||f===null||xi(f,f.return)),a.flags&32){b=a.stateNode;try{oo(b,"")}catch(le){Gt(a,a.return,le)}}m&4&&a.stateNode!=null&&(b=a.memoizedProps,Om(a,b,f!==null?f.memoizedProps:b)),m&1024&&(Nm=!0);break;case 6:if(yr(l,a),vr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,f=a.stateNode;try{f.nodeValue=m}catch(le){Gt(a,a.return,le)}}break;case 3:if(Ud=null,b=ti,ti=$d(l.containerInfo),yr(l,a),ti=b,vr(a),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Rc(l.containerInfo)}catch(le){Gt(a,a.return,le)}Nm&&(Nm=!1,MS(a));break;case 4:m=ti,ti=$d(a.stateNode.containerInfo),yr(l,a),vr(a),ti=m;break;case 12:yr(l,a),vr(a);break;case 13:yr(l,a),vr(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Gm=Oe()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Bm(a,m)));break;case 22:b=a.memoizedState!==null;var X=f!==null&&f.memoizedState!==null,ie=Ji,pe=yn;if(Ji=ie||b,yn=pe||X,yr(l,a),yn=pe,Ji=ie,vr(a),m&8192)e:for(l=a.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(f===null||X||Ji||yn||Ta(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){X=f=l;try{if(C=X.stateNode,b)N=C.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none";else{U=X.stateNode;var xe=X.memoizedProps.style,ae=xe!=null&&xe.hasOwnProperty("display")?xe.display:null;U.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(le){Gt(X,X.return,le)}}}else if(l.tag===6){if(f===null){X=l;try{X.stateNode.nodeValue=b?"":X.memoizedProps}catch(le){Gt(X,X.return,le)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,Bm(a,f))));break;case 19:yr(l,a),vr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,Bm(a,m)));break;case 30:break;case 21:break;default:yr(l,a),vr(a)}}function vr(a){var l=a.flags;if(l&2){try{for(var f,m=a.return;m!==null;){if(wS(m)){f=m;break}m=m.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var b=f.stateNode,C=km(a);Cd(a,C,b);break;case 5:var N=f.stateNode;f.flags&32&&(oo(N,""),f.flags&=-33);var U=km(a);Cd(a,U,N);break;case 3:case 4:var X=f.stateNode.containerInfo,ie=km(a);Mm(a,ie,X);break;default:throw Error(r(161))}}catch(pe){Gt(a,a.return,pe)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function MS(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;MS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Ps(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)DS(a,l.alternate,l),l=l.sibling}function Ta(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ds(4,l,l.return),Ta(l);break;case 1:xi(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&CS(l,l.return,f),Ta(l);break;case 27:vc(l.stateNode);case 26:case 5:xi(l,l.return),Ta(l);break;case 22:l.memoizedState===null&&Ta(l);break;case 30:Ta(l);break;default:Ta(l)}a=a.sibling}}function _s(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,b=a,C=l,N=C.flags;switch(C.tag){case 0:case 11:case 15:_s(b,C,f),lc(4,C);break;case 1:if(_s(b,C,f),m=C,b=m.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(ie){Gt(m,m.return,ie)}if(m=C,b=m.updateQueue,b!==null){var U=m.stateNode;try{var X=b.shared.hiddenCallbacks;if(X!==null)for(b.shared.hiddenCallbacks=null,b=0;b<X.length;b++)ub(X[b],U)}catch(ie){Gt(m,m.return,ie)}}f&&N&64&&AS(C),cc(C,C.return);break;case 27:LS(C);case 26:case 5:_s(b,C,f),f&&m===null&&N&4&&RS(C),cc(C,C.return);break;case 12:_s(b,C,f);break;case 13:_s(b,C,f),f&&N&4&&OS(b,C);break;case 22:C.memoizedState===null&&_s(b,C,f),cc(C,C.return);break;case 30:break;default:_s(b,C,f)}l=l.sibling}}function $m(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&ql(f))}function Fm(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ql(a))}function bi(a,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)NS(a,l,f,m),l=l.sibling}function NS(a,l,f,m){var b=l.flags;switch(l.tag){case 0:case 11:case 15:bi(a,l,f,m),b&2048&&lc(9,l);break;case 1:bi(a,l,f,m);break;case 3:bi(a,l,f,m),b&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&ql(a)));break;case 12:if(b&2048){bi(a,l,f,m),a=l.stateNode;try{var C=l.memoizedProps,N=C.id,U=C.onPostCommit;typeof U=="function"&&U(N,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(X){Gt(l,l.return,X)}}else bi(a,l,f,m);break;case 13:bi(a,l,f,m);break;case 23:break;case 22:C=l.stateNode,N=l.alternate,l.memoizedState!==null?C._visibility&2?bi(a,l,f,m):uc(a,l):C._visibility&2?bi(a,l,f,m):(C._visibility|=2,wo(a,l,f,m,(l.subtreeFlags&10256)!==0)),b&2048&&$m(N,l);break;case 24:bi(a,l,f,m),b&2048&&Fm(l.alternate,l);break;default:bi(a,l,f,m)}}function wo(a,l,f,m,b){for(b=b&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var C=a,N=l,U=f,X=m,ie=N.flags;switch(N.tag){case 0:case 11:case 15:wo(C,N,U,X,b),lc(8,N);break;case 23:break;case 22:var pe=N.stateNode;N.memoizedState!==null?pe._visibility&2?wo(C,N,U,X,b):uc(C,N):(pe._visibility|=2,wo(C,N,U,X,b)),b&&ie&2048&&$m(N.alternate,N);break;case 24:wo(C,N,U,X,b),b&&ie&2048&&Fm(N.alternate,N);break;default:wo(C,N,U,X,b)}l=l.sibling}}function uc(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,m=l,b=m.flags;switch(m.tag){case 22:uc(f,m),b&2048&&$m(m.alternate,m);break;case 24:uc(f,m),b&2048&&Fm(m.alternate,m);break;default:uc(f,m)}l=l.sibling}}var dc=8192;function Lo(a){if(a.subtreeFlags&dc)for(a=a.child;a!==null;)BS(a),a=a.sibling}function BS(a){switch(a.tag){case 26:Lo(a),a.flags&dc&&a.memoizedState!==null&&KD(ti,a.memoizedState,a.memoizedProps);break;case 5:Lo(a);break;case 3:case 4:var l=ti;ti=$d(a.stateNode.containerInfo),Lo(a),ti=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=dc,dc=16777216,Lo(a),dc=l):Lo(a));break;default:Lo(a)}}function $S(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function fc(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Pn=m,US(m,a)}$S(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)FS(a),a=a.sibling}function FS(a){switch(a.tag){case 0:case 11:case 15:fc(a),a.flags&2048&&Ds(9,a,a.return);break;case 3:fc(a);break;case 12:fc(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Rd(a)):fc(a);break;default:fc(a)}}function Rd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Pn=m,US(m,a)}$S(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ds(8,l,l.return),Rd(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Rd(l));break;default:Rd(l)}a=a.sibling}}function US(a,l){for(;Pn!==null;){var f=Pn;switch(f.tag){case 0:case 11:case 15:Ds(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:ql(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Pn=m;else e:for(f=a;Pn!==null;){m=Pn;var b=m.sibling,C=m.return;if(PS(m),m===f){Pn=null;break e}if(b!==null){b.return=C,Pn=b;break e}Pn=C}}}var lD={getCacheForType:function(a){var l=Gn(Rn),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f}},cD=typeof WeakMap=="function"?WeakMap:Map,Ot=0,qt=null,St=null,Ct=0,kt=0,xr=null,Os=!1,Io=!1,Um=!1,ts=0,un=0,ks=0,Aa=0,jm=0,Nr=0,Do=0,hc=null,sr=null,zm=!1,Gm=0,wd=1/0,Ld=null,Ms=null,$n=0,Ns=null,Po=null,_o=0,Hm=0,Vm=null,jS=null,pc=0,Km=null;function br(){if((Ot&2)!==0&&Ct!==0)return Ct&-Ct;if($.T!==null){var a=xo;return a!==0?a:Jm()}return Jr()}function zS(){Nr===0&&(Nr=(Ct&536870912)===0||Lt?Zr():536870912);var a=Mr.current;return a!==null&&(a.flags|=32),Nr}function Sr(a,l,f){(a===qt&&(kt===2||kt===9)||a.cancelPendingCommit!==null)&&(Oo(a,0),Bs(a,Ct,Nr,!1)),Nt(a,f),((Ot&2)===0||a!==qt)&&(a===qt&&((Ot&2)===0&&(Aa|=f),un===4&&Bs(a,Ct,Nr,!1)),Si(a))}function GS(a,l,f){if((Ot&6)!==0)throw Error(r(327));var m=!f&&(l&124)===0&&(l&a.expiredLanes)===0||_t(a,l),b=m?fD(a,l):Ym(a,l,!0),C=m;do{if(b===0){Io&&!m&&Bs(a,l,0,!1);break}else{if(f=a.current.alternate,C&&!uD(f)){b=Ym(a,l,!1),C=!1;continue}if(b===2){if(C=l,a.errorRecoveryDisabledLanes&C)var N=0;else N=a.pendingLanes&-536870913,N=N!==0?N:N&536870912?536870912:0;if(N!==0){l=N;e:{var U=a;b=hc;var X=U.current.memoizedState.isDehydrated;if(X&&(Oo(U,N).flags|=256),N=Ym(U,N,!1),N!==2){if(Um&&!X){U.errorRecoveryDisabledLanes|=C,Aa|=C,b=4;break e}C=sr,sr=b,C!==null&&(sr===null?sr=C:sr.push.apply(sr,C))}b=N}if(C=!1,b!==2)continue}}if(b===1){Oo(a,0),Bs(a,l,0,!0);break}e:{switch(m=a,C=b,C){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Bs(m,l,Nr,!Os);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Gm+300-Oe(),10<b)){if(Bs(m,l,Nr,!Os),At(m,0,!0)!==0)break e;m.timeoutHandle=vE(HS.bind(null,m,f,sr,Ld,zm,l,Nr,Aa,Do,Os,C,2,-0,0),b);break e}HS(m,f,sr,Ld,zm,l,Nr,Aa,Do,Os,C,0,-0,0)}}break}while(!0);Si(a)}function HS(a,l,f,m,b,C,N,U,X,ie,pe,xe,ae,le){if(a.timeoutHandle=-1,xe=l.subtreeFlags,(xe&8192||(xe&16785408)===16785408)&&(Sc={stylesheets:null,count:0,unsuspend:VD},BS(l),xe=WD(),xe!==null)){a.cancelPendingCommit=xe(QS.bind(null,a,l,C,f,m,b,N,U,X,pe,1,ae,le)),Bs(a,C,N,!ie);return}QS(a,l,C,f,m,b,N,U,X)}function uD(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var b=f[m],C=b.getSnapshot;b=b.value;try{if(!mr(C(),b))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Bs(a,l,f,m){l&=~jm,l&=~Aa,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var b=l;0<b;){var C=31-Le(b),N=1<<C;m[C]=-1,b&=~N}f!==0&&bs(a,f,l)}function Id(){return(Ot&6)===0?(mc(0),!1):!0}function Wm(){if(St!==null){if(kt===0)var a=St.return;else a=St,Wi=va=null,um(a),Co=null,sc=0,a=St;for(;a!==null;)TS(a.alternate,a),a=a.return;St=null}}function Oo(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,LD(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Wm(),qt=a,St=f=Hi(a.current,null),Ct=l,kt=0,xr=null,Os=!1,Io=_t(a,l),Um=!1,Do=Nr=jm=Aa=ks=un=0,sr=hc=null,zm=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var b=31-Le(m),C=1<<b;l|=a[b],m&=~C}return ts=l,Qu(),f}function VS(a,l){mt=null,$.H=gd,l===Xl||l===ad?(l=lb(),kt=3):l===sb?(l=lb(),kt=4):kt=l===cS?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,xr=l,St===null&&(un=1,Sd(a,Pr(l,a.current)))}function KS(){var a=$.H;return $.H=gd,a===null?gd:a}function WS(){var a=$.A;return $.A=lD,a}function qm(){un=4,Os||(Ct&4194048)!==Ct&&Mr.current!==null||(Io=!0),(ks&134217727)===0&&(Aa&134217727)===0||qt===null||Bs(qt,Ct,Nr,!1)}function Ym(a,l,f){var m=Ot;Ot|=2;var b=KS(),C=WS();(qt!==a||Ct!==l)&&(Ld=null,Oo(a,l)),l=!1;var N=un;e:do try{if(kt!==0&&St!==null){var U=St,X=xr;switch(kt){case 8:Wm(),N=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(l=!0);var ie=kt;if(kt=0,xr=null,ko(a,U,X,ie),f&&Io){N=0;break e}break;default:ie=kt,kt=0,xr=null,ko(a,U,X,ie)}}dD(),N=un;break}catch(pe){VS(a,pe)}while(!0);return l&&a.shellSuspendCounter++,Wi=va=null,Ot=m,$.H=b,$.A=C,St===null&&(qt=null,Ct=0,Qu()),N}function dD(){for(;St!==null;)qS(St)}function fD(a,l){var f=Ot;Ot|=2;var m=KS(),b=WS();qt!==a||Ct!==l?(Ld=null,wd=Oe()+500,Oo(a,l)):Io=_t(a,l);e:do try{if(kt!==0&&St!==null){l=St;var C=xr;t:switch(kt){case 1:kt=0,xr=null,ko(a,l,C,1);break;case 2:case 9:if(ab(C)){kt=0,xr=null,YS(l);break}l=function(){kt!==2&&kt!==9||qt!==a||(kt=7),Si(a)},C.then(l,l);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:ab(C)?(kt=0,xr=null,YS(l)):(kt=0,xr=null,ko(a,l,C,7));break;case 5:var N=null;switch(St.tag){case 26:N=St.memoizedState;case 5:case 27:var U=St;if(!N||DE(N)){kt=0,xr=null;var X=U.sibling;if(X!==null)St=X;else{var ie=U.return;ie!==null?(St=ie,Dd(ie)):St=null}break t}}kt=0,xr=null,ko(a,l,C,5);break;case 6:kt=0,xr=null,ko(a,l,C,6);break;case 8:Wm(),un=6;break e;default:throw Error(r(462))}}hD();break}catch(pe){VS(a,pe)}while(!0);return Wi=va=null,$.H=m,$.A=b,Ot=f,St!==null?0:(qt=null,Ct=0,Qu(),un)}function hD(){for(;St!==null&&!ct();)qS(St)}function qS(a){var l=SS(a.alternate,a,ts);a.memoizedProps=a.pendingProps,l===null?Dd(a):St=l}function YS(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=mS(f,l,l.pendingProps,l.type,void 0,Ct);break;case 11:l=mS(f,l,l.pendingProps,l.type.render,l.ref,Ct);break;case 5:um(l);default:TS(f,l),l=St=Xx(l,ts),l=SS(f,l,ts)}a.memoizedProps=a.pendingProps,l===null?Dd(a):St=l}function ko(a,l,f,m){Wi=va=null,um(l),Co=null,sc=0;var b=l.return;try{if(nD(a,b,l,f,Ct)){un=1,Sd(a,Pr(f,a.current)),St=null;return}}catch(C){if(b!==null)throw St=b,C;un=1,Sd(a,Pr(f,a.current)),St=null;return}l.flags&32768?(Lt||m===1?a=!0:Io||(Ct&536870912)!==0?a=!1:(Os=a=!0,(m===2||m===9||m===3||m===6)&&(m=Mr.current,m!==null&&m.tag===13&&(m.flags|=16384))),XS(l,a)):Dd(l)}function Dd(a){var l=a;do{if((l.flags&32768)!==0){XS(l,Os);return}a=l.return;var f=iD(l.alternate,l,ts);if(f!==null){St=f;return}if(l=l.sibling,l!==null){St=l;return}St=l=a}while(l!==null);un===0&&(un=5)}function XS(a,l){do{var f=sD(a.alternate,a);if(f!==null){f.flags&=32767,St=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){St=a;return}St=a=f}while(a!==null);un=6,St=null}function QS(a,l,f,m,b,C,N,U,X){a.cancelPendingCommit=null;do Pd();while($n!==0);if((Ot&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(C=l.lanes|l.childLanes,C|=Fp,mn(a,f,C,N,U,X),a===qt&&(St=qt=null,Ct=0),Po=l,Ns=a,_o=f,Hm=C,Vm=b,jS=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,yD(De,function(){return nE(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=$.T,$.T=null,b=W.p,W.p=2,N=Ot,Ot|=4;try{aD(a,l,f)}finally{Ot=N,W.p=b,$.T=m}}$n=1,ZS(),JS(),eE()}}function ZS(){if($n===1){$n=0;var a=Ns,l=Po,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=$.T,$.T=null;var m=W.p;W.p=2;var b=Ot;Ot|=4;try{kS(l,a);var C=og,N=Ux(a.containerInfo),U=C.focusedElem,X=C.selectionRange;if(N!==U&&U&&U.ownerDocument&&Fx(U.ownerDocument.documentElement,U)){if(X!==null&&kp(U)){var ie=X.start,pe=X.end;if(pe===void 0&&(pe=ie),"selectionStart"in U)U.selectionStart=ie,U.selectionEnd=Math.min(pe,U.value.length);else{var xe=U.ownerDocument||document,ae=xe&&xe.defaultView||window;if(ae.getSelection){var le=ae.getSelection(),rt=U.textContent.length,tt=Math.min(X.start,rt),Ft=X.end===void 0?tt:Math.min(X.end,rt);!le.extend&&tt>Ft&&(N=Ft,Ft=tt,tt=N);var J=$x(U,tt),Z=$x(U,Ft);if(J&&Z&&(le.rangeCount!==1||le.anchorNode!==J.node||le.anchorOffset!==J.offset||le.focusNode!==Z.node||le.focusOffset!==Z.offset)){var ne=xe.createRange();ne.setStart(J.node,J.offset),le.removeAllRanges(),tt>Ft?(le.addRange(ne),le.extend(Z.node,Z.offset)):(ne.setEnd(Z.node,Z.offset),le.addRange(ne))}}}}for(xe=[],le=U;le=le.parentNode;)le.nodeType===1&&xe.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<xe.length;U++){var ye=xe[U];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}Gd=!!ag,og=ag=null}finally{Ot=b,W.p=m,$.T=f}}a.current=l,$n=2}}function JS(){if($n===2){$n=0;var a=Ns,l=Po,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=$.T,$.T=null;var m=W.p;W.p=2;var b=Ot;Ot|=4;try{DS(a,l.alternate,l)}finally{Ot=b,W.p=m,$.T=f}}$n=3}}function eE(){if($n===4||$n===3){$n=0,Ue();var a=Ns,l=Po,f=_o,m=jS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?$n=5:($n=0,Po=Ns=null,tE(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Ms=null),dt(f),l=l.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(be,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=$.T,b=W.p,W.p=2,$.T=null;try{for(var C=a.onRecoverableError,N=0;N<m.length;N++){var U=m[N];C(U.value,{componentStack:U.stack})}}finally{$.T=l,W.p=b}}(_o&3)!==0&&Pd(),Si(a),b=a.pendingLanes,(f&4194090)!==0&&(b&42)!==0?a===Km?pc++:(pc=0,Km=a):pc=0,mc(0)}}function tE(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,ql(l)))}function Pd(a){return ZS(),JS(),eE(),nE()}function nE(){if($n!==5)return!1;var a=Ns,l=Hm;Hm=0;var f=dt(_o),m=$.T,b=W.p;try{W.p=32>f?32:f,$.T=null,f=Vm,Vm=null;var C=Ns,N=_o;if($n=0,Po=Ns=null,_o=0,(Ot&6)!==0)throw Error(r(331));var U=Ot;if(Ot|=4,FS(C.current),NS(C,C.current,N,f),Ot=U,mc(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(be,C)}catch{}return!0}finally{W.p=b,$.T=m,tE(a,l)}}function rE(a,l,f){l=Pr(f,l),l=Am(a.stateNode,l,2),a=Rs(a,l,2),a!==null&&(Nt(a,2),Si(a))}function Gt(a,l,f){if(a.tag===3)rE(a,a,f);else for(;l!==null;){if(l.tag===3){rE(l,a,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ms===null||!Ms.has(m))){a=Pr(f,a),f=oS(2),m=Rs(l,f,2),m!==null&&(lS(f,m,l,a),Nt(m,2),Si(m));break}}l=l.return}}function Xm(a,l,f){var m=a.pingCache;if(m===null){m=a.pingCache=new cD;var b=new Set;m.set(l,b)}else b=m.get(l),b===void 0&&(b=new Set,m.set(l,b));b.has(f)||(Um=!0,b.add(f),a=pD.bind(null,a,l,f),l.then(a,a))}function pD(a,l,f){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,qt===a&&(Ct&f)===f&&(un===4||un===3&&(Ct&62914560)===Ct&&300>Oe()-Gm?(Ot&2)===0&&Oo(a,0):jm|=f,Do===Ct&&(Do=0)),Si(a)}function iE(a,l){l===0&&(l=xs()),a=mo(a,l),a!==null&&(Nt(a,l),Si(a))}function mD(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),iE(a,f)}function gD(a,l){var f=0;switch(a.tag){case 13:var m=a.stateNode,b=a.memoizedState;b!==null&&(f=b.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),iE(a,f)}function yD(a,l){return Be(a,l)}var _d=null,Mo=null,Qm=!1,Od=!1,Zm=!1,Ca=0;function Si(a){a!==Mo&&a.next===null&&(Mo===null?_d=Mo=a:Mo=Mo.next=a),Od=!0,Qm||(Qm=!0,xD())}function mc(a,l){if(!Zm&&Od){Zm=!0;do for(var f=!1,m=_d;m!==null;){if(a!==0){var b=m.pendingLanes;if(b===0)var C=0;else{var N=m.suspendedLanes,U=m.pingedLanes;C=(1<<31-Le(42|a)+1)-1,C&=b&~(N&~U),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(f=!0,lE(m,C))}else C=Ct,C=At(m,m===qt?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(C&3)===0||_t(m,C)||(f=!0,lE(m,C));m=m.next}while(f);Zm=!1}}function vD(){sE()}function sE(){Od=Qm=!1;var a=0;Ca!==0&&(wD()&&(a=Ca),Ca=0);for(var l=Oe(),f=null,m=_d;m!==null;){var b=m.next,C=aE(m,l);C===0?(m.next=null,f===null?_d=b:f.next=b,b===null&&(Mo=f)):(f=m,(a!==0||(C&3)!==0)&&(Od=!0)),m=b}mc(a)}function aE(a,l){for(var f=a.suspendedLanes,m=a.pingedLanes,b=a.expirationTimes,C=a.pendingLanes&-62914561;0<C;){var N=31-Le(C),U=1<<N,X=b[N];X===-1?((U&f)===0||(U&m)!==0)&&(b[N]=Yn(U,l)):X<=l&&(a.expiredLanes|=U),C&=~U}if(l=qt,f=Ct,f=At(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,f===0||a===l&&(kt===2||kt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&Me(m),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||_t(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(m!==null&&Me(m),dt(f)){case 2:case 8:f=Je;break;case 32:f=De;break;case 268435456:f=ht;break;default:f=De}return m=oE.bind(null,a),f=Be(f,m),a.callbackPriority=l,a.callbackNode=f,l}return m!==null&&m!==null&&Me(m),a.callbackPriority=2,a.callbackNode=null,2}function oE(a,l){if($n!==0&&$n!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Pd()&&a.callbackNode!==f)return null;var m=Ct;return m=At(a,a===qt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(GS(a,m,l),aE(a,Oe()),a.callbackNode!=null&&a.callbackNode===f?oE.bind(null,a):null)}function lE(a,l){if(Pd())return null;GS(a,l,!0)}function xD(){ID(function(){(Ot&6)!==0?Be(at,vD):sE()})}function Jm(){return Ca===0&&(Ca=Zr()),Ca}function cE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Hu(""+a)}function uE(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function bD(a,l,f,m,b){if(l==="submit"&&f&&f.stateNode===b){var C=cE((b[tr]||null).action),N=m.submitter;N&&(l=(l=N[tr]||null)?cE(l.formAction):N.getAttribute("formAction"),l!==null&&(C=l,N=null));var U=new qu("action","action",null,m,b);a.push({event:U,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ca!==0){var X=N?uE(b,N):new FormData(b);xm(f,{pending:!0,data:X,method:b.method,action:C},null,X)}}else typeof C=="function"&&(U.preventDefault(),X=N?uE(b,N):new FormData(b),xm(f,{pending:!0,data:X,method:b.method,action:C},C,X))},currentTarget:b}]})}}for(var eg=0;eg<$p.length;eg++){var tg=$p[eg],SD=tg.toLowerCase(),ED=tg[0].toUpperCase()+tg.slice(1);ei(SD,"on"+ED)}ei(Gx,"onAnimationEnd"),ei(Hx,"onAnimationIteration"),ei(Vx,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(F2,"onTransitionRun"),ei(U2,"onTransitionStart"),ei(j2,"onTransitionCancel"),ei(Kx,"onTransitionEnd"),io("onMouseEnter",["mouseout","mouseover"]),io("onMouseLeave",["mouseout","mouseover"]),io("onPointerEnter",["pointerout","pointerover"]),io("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function dE(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var m=a[f],b=m.event;m=m.listeners;e:{var C=void 0;if(l)for(var N=m.length-1;0<=N;N--){var U=m[N],X=U.instance,ie=U.currentTarget;if(U=U.listener,X!==C&&b.isPropagationStopped())break e;C=U,b.currentTarget=ie;try{C(b)}catch(pe){bd(pe)}b.currentTarget=null,C=X}else for(N=0;N<m.length;N++){if(U=m[N],X=U.instance,ie=U.currentTarget,U=U.listener,X!==C&&b.isPropagationStopped())break e;C=U,b.currentTarget=ie;try{C(b)}catch(pe){bd(pe)}b.currentTarget=null,C=X}}}}function Et(a,l){var f=l[pp];f===void 0&&(f=l[pp]=new Set);var m=a+"__bubble";f.has(m)||(fE(l,a,2,!1),f.add(m))}function ng(a,l,f){var m=0;l&&(m|=4),fE(f,a,m,l)}var kd="_reactListening"+Math.random().toString(36).slice(2);function rg(a){if(!a[kd]){a[kd]=!0,sx.forEach(function(f){f!=="selectionchange"&&(TD.has(f)||ng(f,!1,a),ng(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[kd]||(l[kd]=!0,ng("selectionchange",!1,l))}}function fE(a,l,f,m){switch(NE(l)){case 2:var b=XD;break;case 8:b=QD;break;default:b=yg}f=b.bind(null,l,f,a),b=void 0,!Cp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),m?b!==void 0?a.addEventListener(l,f,{capture:!0,passive:b}):a.addEventListener(l,f,!0):b!==void 0?a.addEventListener(l,f,{passive:b}):a.addEventListener(l,f,!1)}function ig(a,l,f,m,b){var C=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var N=m.tag;if(N===3||N===4){var U=m.stateNode.containerInfo;if(U===b)break;if(N===4)for(N=m.return;N!==null;){var X=N.tag;if((X===3||X===4)&&N.stateNode.containerInfo===b)return;N=N.return}for(;U!==null;){if(N=to(U),N===null)return;if(X=N.tag,X===5||X===6||X===26||X===27){m=C=N;continue e}U=U.parentNode}}m=m.return}xx(function(){var ie=C,pe=Tp(f),xe=[];e:{var ae=Wx.get(a);if(ae!==void 0){var le=qu,rt=a;switch(a){case"keypress":if(Ku(f)===0)break e;case"keydown":case"keyup":le=y2;break;case"focusin":rt="focus",le=Ip;break;case"focusout":rt="blur",le=Ip;break;case"beforeblur":case"afterblur":le=Ip;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ex;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=s2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=b2;break;case Gx:case Hx:case Vx:le=l2;break;case Kx:le=E2;break;case"scroll":case"scrollend":le=r2;break;case"wheel":le=A2;break;case"copy":case"cut":case"paste":le=u2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=Ax;break;case"toggle":case"beforetoggle":le=R2}var tt=(l&4)!==0,Ft=!tt&&(a==="scroll"||a==="scrollend"),J=tt?ae!==null?ae+"Capture":null:ae;tt=[];for(var Z=ie,ne;Z!==null;){var ye=Z;if(ne=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||ne===null||J===null||(ye=Ml(Z,J),ye!=null&&tt.push(yc(Z,ye,ne))),Ft)break;Z=Z.return}0<tt.length&&(ae=new le(ae,rt,null,f,pe),xe.push({event:ae,listeners:tt}))}}if((l&7)===0){e:{if(ae=a==="mouseover"||a==="pointerover",le=a==="mouseout"||a==="pointerout",ae&&f!==Ep&&(rt=f.relatedTarget||f.fromElement)&&(to(rt)||rt[eo]))break e;if((le||ae)&&(ae=pe.window===pe?pe:(ae=pe.ownerDocument)?ae.defaultView||ae.parentWindow:window,le?(rt=f.relatedTarget||f.toElement,le=ie,rt=rt?to(rt):null,rt!==null&&(Ft=s(rt),tt=rt.tag,rt!==Ft||tt!==5&&tt!==27&&tt!==6)&&(rt=null)):(le=null,rt=ie),le!==rt)){if(tt=Ex,ye="onMouseLeave",J="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(tt=Ax,ye="onPointerLeave",J="onPointerEnter",Z="pointer"),Ft=le==null?ae:kl(le),ne=rt==null?ae:kl(rt),ae=new tt(ye,Z+"leave",le,f,pe),ae.target=Ft,ae.relatedTarget=ne,ye=null,to(pe)===ie&&(tt=new tt(J,Z+"enter",rt,f,pe),tt.target=ne,tt.relatedTarget=Ft,ye=tt),Ft=ye,le&&rt)t:{for(tt=le,J=rt,Z=0,ne=tt;ne;ne=No(ne))Z++;for(ne=0,ye=J;ye;ye=No(ye))ne++;for(;0<Z-ne;)tt=No(tt),Z--;for(;0<ne-Z;)J=No(J),ne--;for(;Z--;){if(tt===J||J!==null&&tt===J.alternate)break t;tt=No(tt),J=No(J)}tt=null}else tt=null;le!==null&&hE(xe,ae,le,tt,!1),rt!==null&&Ft!==null&&hE(xe,Ft,rt,tt,!0)}}e:{if(ae=ie?kl(ie):window,le=ae.nodeName&&ae.nodeName.toLowerCase(),le==="select"||le==="input"&&ae.type==="file")var Fe=_x;else if(Dx(ae))if(Ox)Fe=N2;else{Fe=k2;var vt=O2}else le=ae.nodeName,!le||le.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?ie&&Sp(ie.elementType)&&(Fe=_x):Fe=M2;if(Fe&&(Fe=Fe(a,ie))){Px(xe,Fe,f,pe);break e}vt&&vt(a,ae,ie),a==="focusout"&&ie&&ae.type==="number"&&ie.memoizedProps.value!=null&&bp(ae,"number",ae.value)}switch(vt=ie?kl(ie):window,a){case"focusin":(Dx(vt)||vt.contentEditable==="true")&&(fo=vt,Mp=ie,Gl=null);break;case"focusout":Gl=Mp=fo=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,jx(xe,f,pe);break;case"selectionchange":if($2)break;case"keydown":case"keyup":jx(xe,f,pe)}var Xe;if(Pp)e:{switch(a){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else uo?Lx(a,f)&&(nt="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(nt="onCompositionStart");nt&&(Cx&&f.locale!=="ko"&&(uo||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&uo&&(Xe=bx()):(Es=pe,Rp="value"in Es?Es.value:Es.textContent,uo=!0)),vt=Md(ie,nt),0<vt.length&&(nt=new Tx(nt,a,null,f,pe),xe.push({event:nt,listeners:vt}),Xe?nt.data=Xe:(Xe=Ix(f),Xe!==null&&(nt.data=Xe)))),(Xe=L2?I2(a,f):D2(a,f))&&(nt=Md(ie,"onBeforeInput"),0<nt.length&&(vt=new Tx("onBeforeInput","beforeinput",null,f,pe),xe.push({event:vt,listeners:nt}),vt.data=Xe)),bD(xe,a,ie,f,pe)}dE(xe,l)})}function yc(a,l,f){return{instance:a,listener:l,currentTarget:f}}function Md(a,l){for(var f=l+"Capture",m=[];a!==null;){var b=a,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=Ml(a,f),b!=null&&m.unshift(yc(a,b,C)),b=Ml(a,l),b!=null&&m.push(yc(a,b,C))),a.tag===3)return m;a=a.return}return[]}function No(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function hE(a,l,f,m,b){for(var C=l._reactName,N=[];f!==null&&f!==m;){var U=f,X=U.alternate,ie=U.stateNode;if(U=U.tag,X!==null&&X===m)break;U!==5&&U!==26&&U!==27||ie===null||(X=ie,b?(ie=Ml(f,C),ie!=null&&N.unshift(yc(f,ie,X))):b||(ie=Ml(f,C),ie!=null&&N.push(yc(f,ie,X)))),f=f.return}N.length!==0&&a.push({event:l,listeners:N})}var AD=/\r\n?/g,CD=/\u0000|\uFFFD/g;function pE(a){return(typeof a=="string"?a:""+a).replace(AD,`
`).replace(CD,"")}function mE(a,l){return l=pE(l),pE(a)===l}function Nd(){}function $t(a,l,f,m,b,C){switch(f){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||oo(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&oo(a,""+m);break;case"className":ju(a,"class",m);break;case"tabIndex":ju(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ju(a,f,m);break;case"style":yx(a,m,C);break;case"data":if(l!=="object"){ju(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=Hu(""+m),a.setAttribute(f,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(f==="formAction"?(l!=="input"&&$t(a,l,"name",b.name,b,null),$t(a,l,"formEncType",b.formEncType,b,null),$t(a,l,"formMethod",b.formMethod,b,null),$t(a,l,"formTarget",b.formTarget,b,null)):($t(a,l,"encType",b.encType,b,null),$t(a,l,"method",b.method,b,null),$t(a,l,"target",b.target,b,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(f);break}m=Hu(""+m),a.setAttribute(f,m);break;case"onClick":m!=null&&(a.onclick=Nd);break;case"onScroll":m!=null&&Et("scroll",a);break;case"onScrollEnd":m!=null&&Et("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}f=Hu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""+m):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":m===!0?a.setAttribute(f,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(f,m):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(f,m):a.removeAttribute(f);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(f):a.setAttribute(f,m);break;case"popover":Et("beforetoggle",a),Et("toggle",a),Uu(a,"popover",m);break;case"xlinkActuate":zi(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":zi(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":zi(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":zi(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":zi(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":zi(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":zi(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":zi(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":zi(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Uu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=t2.get(f)||f,Uu(a,f,m))}}function sg(a,l,f,m,b,C){switch(f){case"style":yx(a,m,C);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(f=m.__html,f!=null){if(b.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof m=="string"?oo(a,m):(typeof m=="number"||typeof m=="bigint")&&oo(a,""+m);break;case"onScroll":m!=null&&Et("scroll",a);break;case"onScrollEnd":m!=null&&Et("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Nd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ax.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(b=f.endsWith("Capture"),l=f.slice(2,b?f.length-7:void 0),C=a[tr]||null,C=C!=null?C[f]:null,typeof C=="function"&&a.removeEventListener(l,C,b),typeof m=="function")){typeof C!="function"&&C!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,m,b);break e}f in a?a[f]=m:m===!0?a.setAttribute(f,""):Uu(a,f,m)}}}function Fn(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Et("error",a),Et("load",a);var m=!1,b=!1,C;for(C in f)if(f.hasOwnProperty(C)){var N=f[C];if(N!=null)switch(C){case"src":m=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:$t(a,l,C,N,f,null)}}b&&$t(a,l,"srcSet",f.srcSet,f,null),m&&$t(a,l,"src",f.src,f,null);return;case"input":Et("invalid",a);var U=C=N=b=null,X=null,ie=null;for(m in f)if(f.hasOwnProperty(m)){var pe=f[m];if(pe!=null)switch(m){case"name":b=pe;break;case"type":N=pe;break;case"checked":X=pe;break;case"defaultChecked":ie=pe;break;case"value":C=pe;break;case"defaultValue":U=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,l));break;default:$t(a,l,m,pe,f,null)}}hx(a,C,U,X,ie,N,b,!1),zu(a);return;case"select":Et("invalid",a),m=N=C=null;for(b in f)if(f.hasOwnProperty(b)&&(U=f[b],U!=null))switch(b){case"value":C=U;break;case"defaultValue":N=U;break;case"multiple":m=U;default:$t(a,l,b,U,f,null)}l=C,f=N,a.multiple=!!m,l!=null?ao(a,!!m,l,!1):f!=null&&ao(a,!!m,f,!0);return;case"textarea":Et("invalid",a),C=b=m=null;for(N in f)if(f.hasOwnProperty(N)&&(U=f[N],U!=null))switch(N){case"value":m=U;break;case"defaultValue":b=U;break;case"children":C=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:$t(a,l,N,U,f,null)}mx(a,m,b,C),zu(a);return;case"option":for(X in f)if(f.hasOwnProperty(X)&&(m=f[X],m!=null))switch(X){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:$t(a,l,X,m,f,null)}return;case"dialog":Et("beforetoggle",a),Et("toggle",a),Et("cancel",a),Et("close",a);break;case"iframe":case"object":Et("load",a);break;case"video":case"audio":for(m=0;m<gc.length;m++)Et(gc[m],a);break;case"image":Et("error",a),Et("load",a);break;case"details":Et("toggle",a);break;case"embed":case"source":case"link":Et("error",a),Et("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in f)if(f.hasOwnProperty(ie)&&(m=f[ie],m!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:$t(a,l,ie,m,f,null)}return;default:if(Sp(l)){for(pe in f)f.hasOwnProperty(pe)&&(m=f[pe],m!==void 0&&sg(a,l,pe,m,f,void 0));return}}for(U in f)f.hasOwnProperty(U)&&(m=f[U],m!=null&&$t(a,l,U,m,f,null))}function RD(a,l,f,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,N=null,U=null,X=null,ie=null,pe=null;for(le in f){var xe=f[le];if(f.hasOwnProperty(le)&&xe!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":X=xe;default:m.hasOwnProperty(le)||$t(a,l,le,null,m,xe)}}for(var ae in m){var le=m[ae];if(xe=f[ae],m.hasOwnProperty(ae)&&(le!=null||xe!=null))switch(ae){case"type":C=le;break;case"name":b=le;break;case"checked":ie=le;break;case"defaultChecked":pe=le;break;case"value":N=le;break;case"defaultValue":U=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,l));break;default:le!==xe&&$t(a,l,ae,le,m,xe)}}xp(a,N,U,X,ie,pe,C,b);return;case"select":le=N=U=ae=null;for(C in f)if(X=f[C],f.hasOwnProperty(C)&&X!=null)switch(C){case"value":break;case"multiple":le=X;default:m.hasOwnProperty(C)||$t(a,l,C,null,m,X)}for(b in m)if(C=m[b],X=f[b],m.hasOwnProperty(b)&&(C!=null||X!=null))switch(b){case"value":ae=C;break;case"defaultValue":U=C;break;case"multiple":N=C;default:C!==X&&$t(a,l,b,C,m,X)}l=U,f=N,m=le,ae!=null?ao(a,!!f,ae,!1):!!m!=!!f&&(l!=null?ao(a,!!f,l,!0):ao(a,!!f,f?[]:"",!1));return;case"textarea":le=ae=null;for(U in f)if(b=f[U],f.hasOwnProperty(U)&&b!=null&&!m.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:$t(a,l,U,null,m,b)}for(N in m)if(b=m[N],C=f[N],m.hasOwnProperty(N)&&(b!=null||C!=null))switch(N){case"value":ae=b;break;case"defaultValue":le=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==C&&$t(a,l,N,b,m,C)}px(a,ae,le);return;case"option":for(var rt in f)if(ae=f[rt],f.hasOwnProperty(rt)&&ae!=null&&!m.hasOwnProperty(rt))switch(rt){case"selected":a.selected=!1;break;default:$t(a,l,rt,null,m,ae)}for(X in m)if(ae=m[X],le=f[X],m.hasOwnProperty(X)&&ae!==le&&(ae!=null||le!=null))switch(X){case"selected":a.selected=ae&&typeof ae!="function"&&typeof ae!="symbol";break;default:$t(a,l,X,ae,m,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in f)ae=f[tt],f.hasOwnProperty(tt)&&ae!=null&&!m.hasOwnProperty(tt)&&$t(a,l,tt,null,m,ae);for(ie in m)if(ae=m[ie],le=f[ie],m.hasOwnProperty(ie)&&ae!==le&&(ae!=null||le!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:$t(a,l,ie,ae,m,le)}return;default:if(Sp(l)){for(var Ft in f)ae=f[Ft],f.hasOwnProperty(Ft)&&ae!==void 0&&!m.hasOwnProperty(Ft)&&sg(a,l,Ft,void 0,m,ae);for(pe in m)ae=m[pe],le=f[pe],!m.hasOwnProperty(pe)||ae===le||ae===void 0&&le===void 0||sg(a,l,pe,ae,m,le);return}}for(var J in f)ae=f[J],f.hasOwnProperty(J)&&ae!=null&&!m.hasOwnProperty(J)&&$t(a,l,J,null,m,ae);for(xe in m)ae=m[xe],le=f[xe],!m.hasOwnProperty(xe)||ae===le||ae==null&&le==null||$t(a,l,xe,ae,m,le)}var ag=null,og=null;function Bd(a){return a.nodeType===9?a:a.ownerDocument}function gE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yE(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function lg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var cg=null;function wD(){var a=window.event;return a&&a.type==="popstate"?a===cg?!1:(cg=a,!0):(cg=null,!1)}var vE=typeof setTimeout=="function"?setTimeout:void 0,LD=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,ID=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(a){return xE.resolve(null).then(a).catch(DD)}:vE;function DD(a){setTimeout(function(){throw a})}function $s(a){return a==="head"}function bE(a,l){var f=l,m=0,b=0;do{var C=f.nextSibling;if(a.removeChild(f),C&&C.nodeType===8)if(f=C.data,f==="/$"){if(0<m&&8>m){f=m;var N=a.ownerDocument;if(f&1&&vc(N.documentElement),f&2&&vc(N.body),f&4)for(f=N.head,vc(f),N=f.firstChild;N;){var U=N.nextSibling,X=N.nodeName;N[Ol]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=U}}if(b===0){a.removeChild(C),Rc(l);return}b--}else f==="$"||f==="$?"||f==="$!"?b++:m=f.charCodeAt(0)-48;else m=0;f=C}while(f);Rc(l)}function ug(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":ug(f),mp(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function PD(a,l,f,m){for(;a.nodeType===1;){var b=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[Ol])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(C=a.getAttribute("rel"),C==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(C!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(C=a.getAttribute("src"),(C!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===C)return a}else return a;if(a=ni(a.nextSibling),a===null)break}return null}function _D(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=ni(a.nextSibling),a===null))return null;return a}function dg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function OD(a,l){var f=a.ownerDocument;if(a.data!=="$?"||f.readyState==="complete")l();else{var m=function(){l(),f.removeEventListener("DOMContentLoaded",m)};f.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function ni(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var fg=null;function SE(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"){if(l===0)return a;l--}else f==="/$"&&l++}a=a.previousSibling}return null}function EE(a,l,f){switch(l=Bd(f),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function vc(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);mp(a)}var Br=new Map,TE=new Set;function $d(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ns=W.d;W.d={f:kD,r:MD,D:ND,C:BD,L:$D,m:FD,X:jD,S:UD,M:zD};function kD(){var a=ns.f(),l=Id();return a||l}function MD(a){var l=no(a);l!==null&&l.tag===5&&l.type==="form"?Gb(l):ns.r(a)}var Bo=typeof document>"u"?null:document;function AE(a,l,f){var m=Bo;if(m&&typeof l=="string"&&l){var b=Dr(l);b='link[rel="'+a+'"][href="'+b+'"]',typeof f=="string"&&(b+='[crossorigin="'+f+'"]'),TE.has(b)||(TE.add(b),a={rel:a,crossOrigin:f,href:l},m.querySelector(b)===null&&(l=m.createElement("link"),Fn(l,"link",a),In(l),m.head.appendChild(l)))}}function ND(a){ns.D(a),AE("dns-prefetch",a,null)}function BD(a,l){ns.C(a,l),AE("preconnect",a,l)}function $D(a,l,f){ns.L(a,l,f);var m=Bo;if(m&&a&&l){var b='link[rel="preload"][as="'+Dr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(b+='[imagesrcset="'+Dr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(b+='[imagesizes="'+Dr(f.imageSizes)+'"]')):b+='[href="'+Dr(a)+'"]';var C=b;switch(l){case"style":C=$o(a);break;case"script":C=Fo(a)}Br.has(C)||(a=h({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),Br.set(C,a),m.querySelector(b)!==null||l==="style"&&m.querySelector(xc(C))||l==="script"&&m.querySelector(bc(C))||(l=m.createElement("link"),Fn(l,"link",a),In(l),m.head.appendChild(l)))}}function FD(a,l){ns.m(a,l);var f=Bo;if(f&&a){var m=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Dr(m)+'"][href="'+Dr(a)+'"]',C=b;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Fo(a)}if(!Br.has(C)&&(a=h({rel:"modulepreload",href:a},l),Br.set(C,a),f.querySelector(b)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(bc(C)))return}m=f.createElement("link"),Fn(m,"link",a),In(m),f.head.appendChild(m)}}}function UD(a,l,f){ns.S(a,l,f);var m=Bo;if(m&&a){var b=ro(m).hoistableStyles,C=$o(a);l=l||"default";var N=b.get(C);if(!N){var U={loading:0,preload:null};if(N=m.querySelector(xc(C)))U.loading=5;else{a=h({rel:"stylesheet",href:a,"data-precedence":l},f),(f=Br.get(C))&&hg(a,f);var X=N=m.createElement("link");In(X),Fn(X,"link",a),X._p=new Promise(function(ie,pe){X.onload=ie,X.onerror=pe}),X.addEventListener("load",function(){U.loading|=1}),X.addEventListener("error",function(){U.loading|=2}),U.loading|=4,Fd(N,l,m)}N={type:"stylesheet",instance:N,count:1,state:U},b.set(C,N)}}}function jD(a,l){ns.X(a,l);var f=Bo;if(f&&a){var m=ro(f).hoistableScripts,b=Fo(a),C=m.get(b);C||(C=f.querySelector(bc(b)),C||(a=h({src:a,async:!0},l),(l=Br.get(b))&&pg(a,l),C=f.createElement("script"),In(C),Fn(C,"link",a),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(b,C))}}function zD(a,l){ns.M(a,l);var f=Bo;if(f&&a){var m=ro(f).hoistableScripts,b=Fo(a),C=m.get(b);C||(C=f.querySelector(bc(b)),C||(a=h({src:a,async:!0,type:"module"},l),(l=Br.get(b))&&pg(a,l),C=f.createElement("script"),In(C),Fn(C,"link",a),f.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},m.set(b,C))}}function CE(a,l,f,m){var b=(b=V.current)?$d(b):null;if(!b)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=$o(f.href),f=ro(b).hoistableStyles,m=f.get(l),m||(m={type:"style",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=$o(f.href);var C=ro(b).hoistableStyles,N=C.get(a);if(N||(b=b.ownerDocument||b,N={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(a,N),(C=b.querySelector(xc(a)))&&!C._p&&(N.instance=C,N.state.loading=5),Br.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Br.set(a,f),C||GD(b,a,f,N.state))),l&&m===null)throw Error(r(528,""));return N}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Fo(f),f=ro(b).hoistableScripts,m=f.get(l),m||(m={type:"script",instance:null,count:0,state:null},f.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function $o(a){return'href="'+Dr(a)+'"'}function xc(a){return'link[rel="stylesheet"]['+a+"]"}function RE(a){return h({},a,{"data-precedence":a.precedence,precedence:null})}function GD(a,l,f,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),Fn(l,"link",f),In(l),a.head.appendChild(l))}function Fo(a){return'[src="'+Dr(a)+'"]'}function bc(a){return"script[async]"+a}function wE(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+Dr(f.href)+'"]');if(m)return l.instance=m,In(m),m;var b=h({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),In(m),Fn(m,"style",b),Fd(m,f.precedence,a),l.instance=m;case"stylesheet":b=$o(f.href);var C=a.querySelector(xc(b));if(C)return l.state.loading|=4,l.instance=C,In(C),C;m=RE(f),(b=Br.get(b))&&hg(m,b),C=(a.ownerDocument||a).createElement("link"),In(C);var N=C;return N._p=new Promise(function(U,X){N.onload=U,N.onerror=X}),Fn(C,"link",m),l.state.loading|=4,Fd(C,f.precedence,a),l.instance=C;case"script":return C=Fo(f.src),(b=a.querySelector(bc(C)))?(l.instance=b,In(b),b):(m=f,(b=Br.get(C))&&(m=h({},f),pg(m,b)),a=a.ownerDocument||a,b=a.createElement("script"),In(b),Fn(b,"link",m),a.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Fd(m,f.precedence,a));return l.instance}function Fd(a,l,f){for(var m=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=m.length?m[m.length-1]:null,C=b,N=0;N<m.length;N++){var U=m[N];if(U.dataset.precedence===l)C=U;else if(C!==b)break}C?C.parentNode.insertBefore(a,C.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function hg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function pg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Ud=null;function LE(a,l,f){if(Ud===null){var m=new Map,b=Ud=new Map;b.set(f,m)}else b=Ud,m=b.get(f),m||(m=new Map,b.set(f,m));if(m.has(a))return m;for(m.set(a,null),f=f.getElementsByTagName(a),b=0;b<f.length;b++){var C=f[b];if(!(C[Ol]||C[zn]||a==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var N=C.getAttribute(l)||"";N=a+N;var U=m.get(N);U?U.push(C):m.set(N,[C])}}return m}function IE(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function HD(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function DE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Sc=null;function VD(){}function KD(a,l,f){if(Sc===null)throw Error(r(475));var m=Sc;if(l.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var b=$o(f.href),C=a.querySelector(xc(b));if(C){a=C._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=jd.bind(m),a.then(m,m)),l.state.loading|=4,l.instance=C,In(C);return}C=a.ownerDocument||a,f=RE(f),(b=Br.get(b))&&hg(f,b),C=C.createElement("link"),In(C);var N=C;N._p=new Promise(function(U,X){N.onload=U,N.onerror=X}),Fn(C,"link",f),l.instance=C}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(m.count++,l=jd.bind(m),a.addEventListener("load",l),a.addEventListener("error",l))}}function WD(){if(Sc===null)throw Error(r(475));var a=Sc;return a.stylesheets&&a.count===0&&mg(a,a.stylesheets),0<a.count?function(l){var f=setTimeout(function(){if(a.stylesheets&&mg(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(f)}}:null}function jd(){if(this.count--,this.count===0){if(this.stylesheets)mg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var zd=null;function mg(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,zd=new Map,l.forEach(qD,a),zd=null,jd.call(a))}function qD(a,l){if(!(l.state.loading&4)){var f=zd.get(a);if(f)var m=f.get(null);else{f=new Map,zd.set(a,f);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var N=b[C];(N.nodeName==="LINK"||N.getAttribute("media")!=="not all")&&(f.set(N.dataset.precedence,N),m=N)}m&&f.set(null,m)}b=l.instance,N=b.getAttribute("data-precedence"),C=f.get(N)||m,C===m&&f.set(null,b),f.set(N,b),this.count++,m=jd.bind(this),b.addEventListener("load",m),b.addEventListener("error",m),C?C.parentNode.insertBefore(b,C.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),l.state.loading|=4}}var Ec={$$typeof:A,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function YD(a,l,f,m,b,C,N,U){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=m,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=N,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function PE(a,l,f,m,b,C,N,U,X,ie,pe,xe){return a=new YD(a,l,f,N,U,X,ie,xe),l=1,C===!0&&(l|=24),C=gr(3,null,null,l),a.current=C,C.stateNode=a,l=Xp(),l.refCount++,a.pooledCache=l,l.refCount++,C.memoizedState={element:m,isDehydrated:f,cache:l},em(C),a}function _E(a){return a?(a=go,a):go}function OE(a,l,f,m,b,C){b=_E(b),m.context===null?m.context=b:m.pendingContext=b,m=Cs(l),m.payload={element:f},C=C===void 0?null:C,C!==null&&(m.callback=C),f=Rs(a,m,l),f!==null&&(Sr(f,a,l),Zl(f,a,l))}function kE(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function gg(a,l){kE(a,l),(a=a.alternate)&&kE(a,l)}function ME(a){if(a.tag===13){var l=mo(a,67108864);l!==null&&Sr(l,a,67108864),gg(a,67108864)}}var Gd=!0;function XD(a,l,f,m){var b=$.T;$.T=null;var C=W.p;try{W.p=2,yg(a,l,f,m)}finally{W.p=C,$.T=b}}function QD(a,l,f,m){var b=$.T;$.T=null;var C=W.p;try{W.p=8,yg(a,l,f,m)}finally{W.p=C,$.T=b}}function yg(a,l,f,m){if(Gd){var b=vg(m);if(b===null)ig(a,l,m,Hd,f),BE(a,m);else if(JD(b,a,l,f,m))m.stopPropagation();else if(BE(a,m),l&4&&-1<ZD.indexOf(a)){for(;b!==null;){var C=no(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var N=$e(C.pendingLanes);if(N!==0){var U=C;for(U.pendingLanes|=2,U.entangledLanes|=2;N;){var X=1<<31-Le(N);U.entanglements[1]|=X,N&=~X}Si(C),(Ot&6)===0&&(wd=Oe()+500,mc(0))}}break;case 13:U=mo(C,2),U!==null&&Sr(U,C,2),Id(),gg(C,2)}if(C=vg(m),C===null&&ig(a,l,m,Hd,f),C===b)break;b=C}b!==null&&m.stopPropagation()}else ig(a,l,m,null,f)}}function vg(a){return a=Tp(a),xg(a)}var Hd=null;function xg(a){if(Hd=null,a=to(a),a!==null){var l=s(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=o(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Hd=a,null}function NE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(et()){case at:return 2;case Je:return 8;case De:case Se:return 32;case ht:return 268435456;default:return 32}default:return 32}}var bg=!1,Fs=null,Us=null,js=null,Tc=new Map,Ac=new Map,zs=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BE(a,l){switch(a){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":Tc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ac.delete(l.pointerId)}}function Cc(a,l,f,m,b,C){return a===null||a.nativeEvent!==C?(a={blockedOn:l,domEventName:f,eventSystemFlags:m,nativeEvent:C,targetContainers:[b]},l!==null&&(l=no(l),l!==null&&ME(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),a)}function JD(a,l,f,m,b){switch(l){case"focusin":return Fs=Cc(Fs,a,l,f,m,b),!0;case"dragenter":return Us=Cc(Us,a,l,f,m,b),!0;case"mouseover":return js=Cc(js,a,l,f,m,b),!0;case"pointerover":var C=b.pointerId;return Tc.set(C,Cc(Tc.get(C)||null,a,l,f,m,b)),!0;case"gotpointercapture":return C=b.pointerId,Ac.set(C,Cc(Ac.get(C)||null,a,l,f,m,b)),!0}return!1}function $E(a){var l=to(a.target);if(l!==null){var f=s(l);if(f!==null){if(l=f.tag,l===13){if(l=o(f),l!==null){a.blockedOn=l,KI(a.priority,function(){if(f.tag===13){var m=br();m=Xn(m);var b=mo(f,m);b!==null&&Sr(b,f,m),gg(f,m)}});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Vd(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=vg(a.nativeEvent);if(f===null){f=a.nativeEvent;var m=new f.constructor(f.type,f);Ep=m,f.target.dispatchEvent(m),Ep=null}else return l=no(f),l!==null&&ME(l),a.blockedOn=f,!1;l.shift()}return!0}function FE(a,l,f){Vd(a)&&f.delete(l)}function eP(){bg=!1,Fs!==null&&Vd(Fs)&&(Fs=null),Us!==null&&Vd(Us)&&(Us=null),js!==null&&Vd(js)&&(js=null),Tc.forEach(FE),Ac.forEach(FE)}function Kd(a,l){a.blockedOn===l&&(a.blockedOn=null,bg||(bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,eP)))}var Wd=null;function UE(a){Wd!==a&&(Wd=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wd===a&&(Wd=null);for(var l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],b=a[l+2];if(typeof m!="function"){if(xg(m||f)===null)continue;break}var C=no(f);C!==null&&(a.splice(l,3),l-=3,xm(C,{pending:!0,data:b,method:f.method,action:m},m,b))}}))}function Rc(a){function l(X){return Kd(X,a)}Fs!==null&&Kd(Fs,a),Us!==null&&Kd(Us,a),js!==null&&Kd(js,a),Tc.forEach(l),Ac.forEach(l);for(var f=0;f<zs.length;f++){var m=zs[f];m.blockedOn===a&&(m.blockedOn=null)}for(;0<zs.length&&(f=zs[0],f.blockedOn===null);)$E(f),f.blockedOn===null&&zs.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(m=0;m<f.length;m+=3){var b=f[m],C=f[m+1],N=b[tr]||null;if(typeof C=="function")N||UE(f);else if(N){var U=null;if(C&&C.hasAttribute("formAction")){if(b=C,N=C[tr]||null)U=N.formAction;else if(xg(b)!==null)continue}else U=N.action;typeof U=="function"?f[m+1]=U:(f.splice(m,3),m-=3),UE(f)}}}function Sg(a){this._internalRoot=a}qd.prototype.render=Sg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,m=br();OE(f,m,a,l,null,null)},qd.prototype.unmount=Sg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;OE(a.current,2,null,a,null,null),Id(),l[eo]=null}};function qd(a){this._internalRoot=a}qd.prototype.unstable_scheduleHydration=function(a){if(a){var l=Jr();a={blockedOn:null,target:a,priority:l};for(var f=0;f<zs.length&&l!==0&&l<zs[f].priority;f++);zs.splice(f,0,a),f===0&&$E(a)}};var jE=e.version;if(jE!=="19.1.0")throw Error(r(527,jE,"19.1.0"));W.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?u(a):null,a=a===null?null:a.stateNode,a};var tP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{be=Yd.inject(tP),Ee=Yd}catch{}}return Lc.createRoot=function(a,l){if(!i(a))throw Error(r(299));var f=!1,m="",b=rS,C=iS,N=sS,U=null;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(N=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(U=l.unstable_transitionCallbacks)),l=PE(a,1,!1,null,null,f,m,b,C,N,U,null),a[eo]=l.current,rg(a),new Sg(l)},Lc.hydrateRoot=function(a,l,f){if(!i(a))throw Error(r(299));var m=!1,b="",C=rS,N=iS,U=sS,X=null,ie=null;return f!=null&&(f.unstable_strictMode===!0&&(m=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(C=f.onUncaughtError),f.onCaughtError!==void 0&&(N=f.onCaughtError),f.onRecoverableError!==void 0&&(U=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(X=f.unstable_transitionCallbacks),f.formState!==void 0&&(ie=f.formState)),l=PE(a,1,!0,l,f??null,m,b,C,N,U,X,ie),l.context=_E(null),f=l.current,m=br(),m=Xn(m),b=Cs(m),b.callback=null,Rs(f,b,m),f=m,l.current.lanes=f,Nt(l,f),Si(l),a[eo]=l.current,rg(a),new qd(l)},Lc.version="19.1.0",Lc}var QE;function dP(){if(QE)return Ag.exports;QE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ag.exports=uP(),Ag.exports}var fP=dP(),Ic={},ZE;function hP(){if(ZE)return Ic;ZE=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.parse=o,Ic.serialize=u;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,v){const y=new s,x=g.length;if(x<2)return y;const S=v?.decode||h;let E=0;do{const R=g.indexOf("=",E);if(R===-1)break;const A=g.indexOf(";",E),L=A===-1?x:A;if(R>L){E=g.lastIndexOf(";",R-1)+1;continue}const I=c(g,E,R),M=d(g,R,I),P=g.slice(I,M);if(y[P]===void 0){let k=c(g,R+1,L),_=d(g,L,k);const w=S(g.slice(k,_));y[P]=w}E=L+1}while(E<x);return y}function c(g,v,y){do{const x=g.charCodeAt(v);if(x!==32&&x!==9)return v}while(++v<y);return y}function d(g,v,y){for(;v>y;){const x=g.charCodeAt(--v);if(x!==32&&x!==9)return v+1}return y}function u(g,v,y){const x=y?.encode||encodeURIComponent;if(!n.test(g))throw new TypeError(`argument name is invalid: ${g}`);const S=x(v);if(!e.test(S))throw new TypeError(`argument val is invalid: ${v}`);let E=g+"="+S;if(!y)return E;if(y.maxAge!==void 0){if(!Number.isInteger(y.maxAge))throw new TypeError(`option maxAge is invalid: ${y.maxAge}`);E+="; Max-Age="+y.maxAge}if(y.domain){if(!t.test(y.domain))throw new TypeError(`option domain is invalid: ${y.domain}`);E+="; Domain="+y.domain}if(y.path){if(!r.test(y.path))throw new TypeError(`option path is invalid: ${y.path}`);E+="; Path="+y.path}if(y.expires){if(!p(y.expires)||!Number.isFinite(y.expires.valueOf()))throw new TypeError(`option expires is invalid: ${y.expires}`);E+="; Expires="+y.expires.toUTCString()}if(y.httpOnly&&(E+="; HttpOnly"),y.secure&&(E+="; Secure"),y.partitioned&&(E+="; Partitioned"),y.priority)switch(typeof y.priority=="string"?y.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${y.priority}`)}if(y.sameSite)switch(typeof y.sameSite=="string"?y.sameSite.toLowerCase():y.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${y.sameSite}`)}return E}function h(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return Ic}hP();var JE="popstate";function pP(n={}){function e(r,i){let{pathname:s,search:o,hash:c}=r.location;return O0("",{pathname:s,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:lu(i)}return gP(e,t,null,n)}function nn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function li(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mP(){return Math.random().toString(36).substring(2,10)}function eT(n,e){return{usr:n.state,key:n.key,idx:e}}function O0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:t,key:e&&e.key||r||mP()}}function lu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function El(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function gP(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,c="POP",d=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function p(){c="POP";let S=h(),E=S==null?null:S-u;u=S,d&&d({action:c,location:x.location,delta:E})}function g(S,E){c="PUSH";let R=O0(x.location,S,E);u=h()+1;let A=eT(R,u),L=x.createHref(R);try{o.pushState(A,"",L)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(L)}s&&d&&d({action:c,location:x.location,delta:1})}function v(S,E){c="REPLACE";let R=O0(x.location,S,E);u=h();let A=eT(R,u),L=x.createHref(R);o.replaceState(A,"",L),s&&d&&d({action:c,location:x.location,delta:0})}function y(S){return yP(S)}let x={get action(){return c},get location(){return n(i,o)},listen(S){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(JE,p),d=S,()=>{i.removeEventListener(JE,p),d=null}},createHref(S){return e(i,S)},createURL:y,encodeLocation(S){let E=y(S);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:v,go(S){return o.go(S)}};return x}function yP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:lu(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function _C(n,e,t="/"){return vP(n,e,t,!1)}function vP(n,e,t,r){let i=typeof e=="string"?El(e):e,s=ps(i.pathname||"/",t);if(s==null)return null;let o=OC(n);xP(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let u=DP(s);c=LP(o[d],u,r)}return c}function OC(n,e=[],t=[],r=""){let i=(s,o,c)=>{let d={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};d.relativePath.startsWith("/")&&(nn(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let u=ds([r,d.relativePath]),h=t.concat(d);s.children&&s.children.length>0&&(nn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),OC(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:RP(u,s.index),routesMeta:h})};return n.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let c of kC(s.path))i(s,o,c)}),e}function kC(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=kC(r.join("/")),c=[];return c.push(...o.map(d=>d===""?s:[s,d].join("/"))),i&&c.push(...o),c.map(d=>n.startsWith("/")&&d===""?"/":d)}function xP(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:wP(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var bP=/^:[\w-]+$/,SP=3,EP=2,TP=1,AP=10,CP=-2,tT=n=>n==="*";function RP(n,e){let t=n.split("/"),r=t.length;return t.some(tT)&&(r+=CP),e&&(r+=EP),t.filter(i=>!tT(i)).reduce((i,s)=>i+(bP.test(s)?SP:s===""?TP:AP),r)}function wP(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function LP(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],u=c===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",p=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:u},h),g=d.route;if(!p&&u&&t&&!r[r.length-1].route.index&&(p=Qf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},h)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:ds([s,p.pathname]),pathnameBase:kP(ds([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=ds([s,p.pathnameBase]))}return o}function Qf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=IP(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((u,{paramName:h,isOptional:p},g)=>{if(h==="*"){let y=c[g]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=c[g];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:n}}function IP(n,e=!1,t=!0){li(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DP(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ps(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function PP(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?El(n):n;return{pathname:t?t.startsWith("/")?t:_P(t,e):e,search:MP(r),hash:NP(i)}}function _P(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Lg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OP(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function By(n){let e=OP(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $y(n,e,t,r=!1){let i;typeof n=="string"?i=El(n):(i={...n},nn(!i.pathname||!i.pathname.includes("?"),Lg("?","pathname","search",i)),nn(!i.pathname||!i.pathname.includes("#"),Lg("#","pathname","hash",i)),nn(!i.search||!i.search.includes("#"),Lg("#","search","hash",i)));let s=n===""||i.pathname==="",o=s?"/":i.pathname,c;if(o==null)c=t;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}c=p>=0?e[p]:"/"}let d=PP(i,c),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(u||h)&&(d.pathname+="/"),d}var ds=n=>n.join("/").replace(/\/\/+/g,"/"),kP=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),MP=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,NP=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function BP(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var MC=["POST","PUT","PATCH","DELETE"];new Set(MC);var $P=["GET",...MC];new Set($P);var Tl=D.createContext(null);Tl.displayName="DataRouter";var _h=D.createContext(null);_h.displayName="DataRouterState";var NC=D.createContext({isTransitioning:!1});NC.displayName="ViewTransition";var FP=D.createContext(new Map);FP.displayName="Fetchers";var UP=D.createContext(null);UP.displayName="Await";var ui=D.createContext(null);ui.displayName="Navigation";var Cu=D.createContext(null);Cu.displayName="Location";var di=D.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Fy=D.createContext(null);Fy.displayName="RouteError";function jP(n,{relative:e}={}){nn(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=D.useContext(ui),{hash:i,pathname:s,search:o}=Ru(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:ds([t,s])),r.createHref({pathname:c,search:o,hash:i})}function Al(){return D.useContext(Cu)!=null}function ia(){return nn(Al(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Cu).location}var BC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $C(n){D.useContext(ui).static||D.useLayoutEffect(n)}function fi(){let{isDataRoute:n}=D.useContext(di);return n?e_():zP()}function zP(){nn(Al(),"useNavigate() may be used only in the context of a <Router> component.");let n=D.useContext(Tl),{basename:e,navigator:t}=D.useContext(ui),{matches:r}=D.useContext(di),{pathname:i}=ia(),s=JSON.stringify(By(r)),o=D.useRef(!1);return $C(()=>{o.current=!0}),D.useCallback((d,u={})=>{if(li(o.current,BC),!o.current)return;if(typeof d=="number"){t.go(d);return}let h=$y(d,JSON.parse(s),i,u.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ds([e,h.pathname])),(u.replace?t.replace:t.push)(h,u.state,u)},[e,t,s,i,n])}D.createContext(null);function FC(){let{matches:n}=D.useContext(di),e=n[n.length-1];return e?e.params:{}}function Ru(n,{relative:e}={}){let{matches:t}=D.useContext(di),{pathname:r}=ia(),i=JSON.stringify(By(t));return D.useMemo(()=>$y(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function GP(n,e){return UC(n,e)}function UC(n,e,t,r){nn(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=D.useContext(ui),{matches:s}=D.useContext(di),o=s[s.length-1],c=o?o.params:{},d=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let E=h&&h.path||"";jC(d,!h||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let p=ia(),g;if(e){let E=typeof e=="string"?El(e):e;nn(u==="/"||E.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=p;let v=g.pathname||"/",y=v;if(u!=="/"){let E=u.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=_C(n,{pathname:y});li(h||x!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),li(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=qP(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},c,E.params),pathname:ds([u,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?u:ds([u,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,t,r);return e&&S?D.createElement(Cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},S):S}function HP(){let n=JP(),e=BP(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:s},"ErrorBoundary")," or"," ",D.createElement("code",{style:s},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),t?D.createElement("pre",{style:i},t):null,o)}var VP=D.createElement(HP,null),KP=class extends D.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?D.createElement(di.Provider,{value:this.props.routeContext},D.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WP({routeContext:n,match:e,children:t}){let r=D.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(di.Provider,{value:n},t)}function qP(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t?.errors;if(s!=null){let d=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);nn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let o=!1,c=-1;if(t)for(let d=0;d<i.length;d++){let u=i[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=d),u.route.id){let{loaderData:h,errors:p}=t,g=u.route.loader&&!h.hasOwnProperty(u.route.id)&&(!p||p[u.route.id]===void 0);if(u.route.lazy||g){o=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,u,h)=>{let p,g=!1,v=null,y=null;t&&(p=s&&u.route.id?s[u.route.id]:void 0,v=u.route.errorElement||VP,o&&(c<0&&h===0?(jC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,y=null):c===h&&(g=!0,y=u.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,h+1)),S=()=>{let E;return p?E=v:g?E=y:u.route.Component?E=D.createElement(u.route.Component,null):u.route.element?E=u.route.element:E=d,D.createElement(WP,{match:u,routeContext:{outlet:d,matches:x,isDataRoute:t!=null},children:E})};return t&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?D.createElement(KP,{location:t.location,revalidation:t.revalidation,component:v,error:p,children:S(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):S()},null)}function Uy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YP(n){let e=D.useContext(Tl);return nn(e,Uy(n)),e}function XP(n){let e=D.useContext(_h);return nn(e,Uy(n)),e}function QP(n){let e=D.useContext(di);return nn(e,Uy(n)),e}function jy(n){let e=QP(n),t=e.matches[e.matches.length-1];return nn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZP(){return jy("useRouteId")}function JP(){let n=D.useContext(Fy),e=XP("useRouteError"),t=jy("useRouteError");return n!==void 0?n:e.errors?.[t]}function e_(){let{router:n}=YP("useNavigate"),e=jy("useNavigate"),t=D.useRef(!1);return $C(()=>{t.current=!0}),D.useCallback(async(i,s={})=>{li(t.current,BC),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var nT={};function jC(n,e,t){!e&&!nT[n]&&(nT[n]=!0,li(!1,t))}D.memo(t_);function t_({routes:n,future:e,state:t}){return UC(n,void 0,t,e)}function n_({to:n,replace:e,state:t,relative:r}){nn(Al(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=D.useContext(ui);li(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=D.useContext(di),{pathname:o}=ia(),c=fi(),d=$y(n,By(s),o,r==="path"),u=JSON.stringify(d);return D.useEffect(()=>{c(JSON.parse(u),{replace:e,state:t,relative:r})},[c,u,r,e,t]),null}function or(n){nn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function r_({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){nn(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=El(t));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:g="default"}=t,v=D.useMemo(()=>{let y=ps(d,o);return y==null?null:{location:{pathname:y,search:u,hash:h,state:p,key:g},navigationType:r}},[o,d,u,h,p,g,r]);return li(v!=null,`<Router basename="${o}"> is not able to match the URL "${d}${u}${h}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:D.createElement(ui.Provider,{value:c},D.createElement(Cu.Provider,{children:e,value:v}))}function i_({children:n,location:e}){return GP(k0(n),e)}function k0(n,e=[]){let t=[];return D.Children.forEach(n,(r,i)=>{if(!D.isValidElement(r))return;let s=[...e,i];if(r.type===D.Fragment){t.push.apply(t,k0(r.props.children,s));return}nn(r.type===or,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=k0(r.props.children,s)),t.push(o)}),t}var Df="get",Pf="application/x-www-form-urlencoded";function Oh(n){return n!=null&&typeof n.tagName=="string"}function s_(n){return Oh(n)&&n.tagName.toLowerCase()==="button"}function a_(n){return Oh(n)&&n.tagName.toLowerCase()==="form"}function o_(n){return Oh(n)&&n.tagName.toLowerCase()==="input"}function l_(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function c_(n,e){return n.button===0&&(!e||e==="_self")&&!l_(n)}var Xd=null;function u_(){if(Xd===null)try{new FormData(document.createElement("form"),0),Xd=!1}catch{Xd=!0}return Xd}var d_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(n){return n!=null&&!d_.has(n)?(li(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pf}"`),null):n}function f_(n,e){let t,r,i,s,o;if(a_(n)){let c=n.getAttribute("action");r=c?ps(c,e):null,t=n.getAttribute("method")||Df,i=Ig(n.getAttribute("enctype"))||Pf,s=new FormData(n)}else if(s_(n)||o_(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||c.getAttribute("action");if(r=d?ps(d,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Df,i=Ig(n.getAttribute("formenctype"))||Ig(c.getAttribute("enctype"))||Pf,s=new FormData(c,n),!u_()){let{name:u,type:h,value:p}=n;if(h==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,p)}}else{if(Oh(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Df,r=null,i=Pf,o=n}return s&&i==="text/plain"&&(o=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:o}}function zy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function h_(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p_(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function m_(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await h_(s,t);return o.links?o.links():[]}return[]}));return x_(r.flat(1).filter(p_).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function rT(n,e,t,r,i,s){let o=(d,u)=>t[u]?d.route.id!==t[u].route.id:!0,c=(d,u)=>t[u].pathname!==d.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==d.params["*"];return s==="assets"?e.filter((d,u)=>o(d,u)||c(d,u)):s==="data"?e.filter((d,u)=>{let h=r.routes[d.route.id];if(!h||!h.hasLoader)return!1;if(o(d,u)||c(d,u))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function g_(n,e,{includeHydrateFallback:t}={}){return y_(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function y_(n){return[...new Set(n)]}function v_(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function x_(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(v_(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b_=new Set([100,101,204,205]);function S_(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ps(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function zC(){let n=D.useContext(Tl);return zy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function E_(){let n=D.useContext(_h);return zy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Gy=D.createContext(void 0);Gy.displayName="FrameworkContext";function GC(){let n=D.useContext(Gy);return zy(n,"You must render this element inside a <HydratedRouter> element"),n}function T_(n,e){let t=D.useContext(Gy),[r,i]=D.useState(!1),[s,o]=D.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:u,onMouseLeave:h,onTouchStart:p}=e,g=D.useRef(null);D.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=E=>{E.forEach(R=>{o(R.isIntersecting)})},S=new IntersectionObserver(x,{threshold:.5});return g.current&&S.observe(g.current),()=>{S.disconnect()}}},[n]),D.useEffect(()=>{if(r){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[r]);let v=()=>{i(!0)},y=()=>{i(!1),o(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:Dc(c,v),onBlur:Dc(d,y),onMouseEnter:Dc(u,v),onMouseLeave:Dc(h,y),onTouchStart:Dc(p,v)}]:[!1,g,{}]}function Dc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function A_({page:n,...e}){let{router:t}=zC(),r=D.useMemo(()=>_C(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?D.createElement(R_,{page:n,matches:r,...e}):null}function C_(n){let{manifest:e,routeModules:t}=GC(),[r,i]=D.useState([]);return D.useEffect(()=>{let s=!1;return m_(n,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[n,e,t]),r}function R_({page:n,matches:e,...t}){let r=ia(),{manifest:i,routeModules:s}=GC(),{basename:o}=zC(),{loaderData:c,matches:d}=E_(),u=D.useMemo(()=>rT(n,e,d,i,r,"data"),[n,e,d,i,r]),h=D.useMemo(()=>rT(n,e,d,i,r,"assets"),[n,e,d,i,r]),p=D.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let y=new Set,x=!1;if(e.forEach(E=>{let R=i.routes[E.route.id];!R||!R.hasLoader||(!u.some(A=>A.route.id===E.route.id)&&E.route.id in c&&s[E.route.id]?.shouldRevalidate||R.hasClientLoader?x=!0:y.add(E.route.id))}),y.size===0)return[];let S=S_(n,o);return x&&y.size>0&&S.searchParams.set("_routes",e.filter(E=>y.has(E.route.id)).map(E=>E.route.id).join(",")),[S.pathname+S.search]},[o,c,r,i,u,e,n,s]),g=D.useMemo(()=>g_(h,i),[h,i]),v=C_(h);return D.createElement(D.Fragment,null,p.map(y=>D.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),g.map(y=>D.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),v.map(({key:y,link:x})=>D.createElement("link",{key:y,...x})))}function w_(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var HC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HC&&(window.__reactRouterVersion="7.6.3")}catch{}function L_({basename:n,children:e,window:t}){let r=D.useRef();r.current==null&&(r.current=pP({window:t,v5Compat:!0}));let i=r.current,[s,o]=D.useState({action:i.action,location:i.location}),c=D.useCallback(d=>{D.startTransition(()=>o(d))},[o]);return D.useLayoutEffect(()=>i.listen(c),[i,c]),D.createElement(r_,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kh=D.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:o,state:c,target:d,to:u,preventScrollReset:h,viewTransition:p,...g},v){let{basename:y}=D.useContext(ui),x=typeof u=="string"&&VC.test(u),S,E=!1;if(typeof u=="string"&&x&&(S=u,HC))try{let _=new URL(window.location.href),w=u.startsWith("//")?new URL(_.protocol+u):new URL(u),B=ps(w.pathname,y);w.origin===_.origin&&B!=null?u=B+w.search+w.hash:E=!0}catch{li(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let R=jP(u,{relative:i}),[A,L,I]=T_(r,g),M=__(u,{replace:o,state:c,target:d,preventScrollReset:h,relative:i,viewTransition:p});function P(_){e&&e(_),_.defaultPrevented||M(_)}let k=D.createElement("a",{...g,...I,href:S||R,onClick:E||s?e:P,ref:w_(v,L),target:d,"data-discover":!x&&t==="render"?"true":void 0});return A&&!x?D.createElement(D.Fragment,null,k,D.createElement(A_,{page:R})):k});kh.displayName="Link";var I_=D.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:o,viewTransition:c,children:d,...u},h){let p=Ru(o,{relative:u.relative}),g=ia(),v=D.useContext(_h),{navigator:y,basename:x}=D.useContext(ui),S=v!=null&&B_(p)&&c===!0,E=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,R=g.pathname,A=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(R=R.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&x&&(A=ps(A,x)||A);const L=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let I=R===E||!i&&R.startsWith(E)&&R.charAt(L)==="/",M=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),P={isActive:I,isPending:M,isTransitioning:S},k=I?e:void 0,_;typeof r=="function"?_=r(P):_=[r,I?"active":null,M?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let w=typeof s=="function"?s(P):s;return D.createElement(kh,{...u,"aria-current":k,className:_,ref:h,style:w,to:o,viewTransition:c},typeof d=="function"?d(P):d)});I_.displayName="NavLink";var D_=D.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:o=Df,action:c,onSubmit:d,relative:u,preventScrollReset:h,viewTransition:p,...g},v)=>{let y=M_(),x=N_(c,{relative:u}),S=o.toLowerCase()==="get"?"get":"post",E=typeof c=="string"&&VC.test(c),R=A=>{if(d&&d(A),A.defaultPrevented)return;A.preventDefault();let L=A.nativeEvent.submitter,I=L?.getAttribute("formmethod")||o;y(L||A.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:i,state:s,relative:u,preventScrollReset:h,viewTransition:p})};return D.createElement("form",{ref:v,method:S,action:x,onSubmit:r?d:R,...g,"data-discover":!E&&n==="render"?"true":void 0})});D_.displayName="Form";function P_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KC(n){let e=D.useContext(Tl);return nn(e,P_(n)),e}function __(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:o}={}){let c=fi(),d=ia(),u=Ru(n,{relative:s});return D.useCallback(h=>{if(c_(h,e)){h.preventDefault();let p=t!==void 0?t:lu(d)===lu(u);c(n,{replace:p,state:r,preventScrollReset:i,relative:s,viewTransition:o})}},[d,c,u,t,r,e,n,i,s,o])}var O_=0,k_=()=>`__${String(++O_)}__`;function M_(){let{router:n}=KC("useSubmit"),{basename:e}=D.useContext(ui),t=ZP();return D.useCallback(async(r,i={})=>{let{action:s,method:o,encType:c,formData:d,body:u}=f_(r,e);if(i.navigate===!1){let h=i.fetcherKey||k_();await n.fetch(h,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:d,body:u,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function N_(n,{relative:e}={}){let{basename:t}=D.useContext(ui),r=D.useContext(di);nn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Ru(n||".",{relative:e})},o=ia();if(n==null){s.search=o.search;let c=new URLSearchParams(s.search),d=c.getAll("index");if(d.some(h=>h==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let h=c.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ds([t,s.pathname])),lu(s)}function B_(n,e={}){let t=D.useContext(NC);nn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=KC("useViewTransitionState"),i=Ru(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=ps(t.currentLocation.pathname,r)||t.currentLocation.pathname,o=ps(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Qf(i.pathname,o)!=null||Qf(i.pathname,s)!=null}[...b_];var WC=PC();const Qd=My(WC),cu={black:"#000",white:"#fff"},Uo={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},jo={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},zo={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Go={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ho={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},Pc={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},$_={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function ms(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(r=>t.searchParams.append("args[]",r)),`Minified MUI error #${n}; visit ${t} for the full message.`}const oi="$$material";function Zf(){return Zf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Zf.apply(null,arguments)}function F_(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function U_(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var j_=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(U_(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=F_(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},n}(),Vn="-ms-",Jf="-moz-",It="-webkit-",qC="comm",Hy="rule",Vy="decl",z_="@import",YC="@keyframes",G_="@layer",H_=Math.abs,Mh=String.fromCharCode,V_=Object.assign;function K_(n,e){return Un(n,0)^45?(((e<<2^Un(n,0))<<2^Un(n,1))<<2^Un(n,2))<<2^Un(n,3):0}function XC(n){return n.trim()}function W_(n,e){return(n=e.exec(n))?n[0]:n}function Dt(n,e,t){return n.replace(e,t)}function M0(n,e){return n.indexOf(e)}function Un(n,e){return n.charCodeAt(e)|0}function uu(n,e,t){return n.slice(e,t)}function Li(n){return n.length}function Ky(n){return n.length}function Zd(n,e){return e.push(n),n}function q_(n,e){return n.map(e).join("")}var Nh=1,dl=1,QC=0,hr=0,An=0,Cl="";function Bh(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:Nh,column:dl,length:o,return:""}}function _c(n,e){return V_(Bh("",null,null,"",null,null,0),n,{length:-n.length},e)}function Y_(){return An}function X_(){return An=hr>0?Un(Cl,--hr):0,dl--,An===10&&(dl=1,Nh--),An}function Rr(){return An=hr<QC?Un(Cl,hr++):0,dl++,An===10&&(dl=1,Nh++),An}function Mi(){return Un(Cl,hr)}function _f(){return hr}function wu(n,e){return uu(Cl,n,e)}function du(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZC(n){return Nh=dl=1,QC=Li(Cl=n),hr=0,[]}function JC(n){return Cl="",n}function Of(n){return XC(wu(hr-1,N0(n===91?n+2:n===40?n+1:n)))}function Q_(n){for(;(An=Mi())&&An<33;)Rr();return du(n)>2||du(An)>3?"":" "}function Z_(n,e){for(;--e&&Rr()&&!(An<48||An>102||An>57&&An<65||An>70&&An<97););return wu(n,_f()+(e<6&&Mi()==32&&Rr()==32))}function N0(n){for(;Rr();)switch(An){case n:return hr;case 34:case 39:n!==34&&n!==39&&N0(An);break;case 40:n===41&&N0(n);break;case 92:Rr();break}return hr}function J_(n,e){for(;Rr()&&n+An!==57;)if(n+An===84&&Mi()===47)break;return"/*"+wu(e,hr-1)+"*"+Mh(n===47?n:Rr())}function eO(n){for(;!du(Mi());)Rr();return wu(n,hr)}function tO(n){return JC(kf("",null,null,null,[""],n=ZC(n),0,[0],n))}function kf(n,e,t,r,i,s,o,c,d){for(var u=0,h=0,p=o,g=0,v=0,y=0,x=1,S=1,E=1,R=0,A="",L=i,I=s,M=r,P=A;S;)switch(y=R,R=Rr()){case 40:if(y!=108&&Un(P,p-1)==58){M0(P+=Dt(Of(R),"&","&\f"),"&\f")!=-1&&(E=-1);break}case 34:case 39:case 91:P+=Of(R);break;case 9:case 10:case 13:case 32:P+=Q_(y);break;case 92:P+=Z_(_f()-1,7);continue;case 47:switch(Mi()){case 42:case 47:Zd(nO(J_(Rr(),_f()),e,t),d);break;default:P+="/"}break;case 123*x:c[u++]=Li(P)*E;case 125*x:case 59:case 0:switch(R){case 0:case 125:S=0;case 59+h:E==-1&&(P=Dt(P,/\f/g,"")),v>0&&Li(P)-p&&Zd(v>32?sT(P+";",r,t,p-1):sT(Dt(P," ","")+";",r,t,p-2),d);break;case 59:P+=";";default:if(Zd(M=iT(P,e,t,u,h,i,c,A,L=[],I=[],p),s),R===123)if(h===0)kf(P,e,M,M,L,s,p,c,I);else switch(g===99&&Un(P,3)===110?100:g){case 100:case 108:case 109:case 115:kf(n,M,M,r&&Zd(iT(n,M,M,0,0,i,c,A,i,L=[],p),I),i,I,p,c,r?L:I);break;default:kf(P,M,M,M,[""],I,0,c,I)}}u=h=v=0,x=E=1,A=P="",p=o;break;case 58:p=1+Li(P),v=y;default:if(x<1){if(R==123)--x;else if(R==125&&x++==0&&X_()==125)continue}switch(P+=Mh(R),R*x){case 38:E=h>0?1:(P+="\f",-1);break;case 44:c[u++]=(Li(P)-1)*E,E=1;break;case 64:Mi()===45&&(P+=Of(Rr())),g=Mi(),h=p=Li(A=P+=eO(_f())),R++;break;case 45:y===45&&Li(P)==2&&(x=0)}}return s}function iT(n,e,t,r,i,s,o,c,d,u,h){for(var p=i-1,g=i===0?s:[""],v=Ky(g),y=0,x=0,S=0;y<r;++y)for(var E=0,R=uu(n,p+1,p=H_(x=o[y])),A=n;E<v;++E)(A=XC(x>0?g[E]+" "+R:Dt(R,/&\f/g,g[E])))&&(d[S++]=A);return Bh(n,e,t,i===0?Hy:c,d,u,h)}function nO(n,e,t){return Bh(n,e,t,qC,Mh(Y_()),uu(n,2,-2),0)}function sT(n,e,t,r){return Bh(n,e,t,Vy,uu(n,0,r),uu(n,r+1,-1),r)}function rl(n,e){for(var t="",r=Ky(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function rO(n,e,t,r){switch(n.type){case G_:if(n.children.length)break;case z_:case Vy:return n.return=n.return||n.value;case qC:return"";case YC:return n.return=n.value+"{"+rl(n.children,r)+"}";case Hy:n.value=n.props.join(",")}return Li(t=rl(n.children,r))?n.return=n.value+"{"+t+"}":""}function iO(n){var e=Ky(n);return function(t,r,i,s){for(var o="",c=0;c<e;c++)o+=n[c](t,r,i,s)||"";return o}}function sO(n){return function(e){e.root||(e=e.return)&&n(e)}}function eR(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var aO=function(e,t,r){for(var i=0,s=0;i=s,s=Mi(),i===38&&s===12&&(t[r]=1),!du(s);)Rr();return wu(e,hr)},oO=function(e,t){var r=-1,i=44;do switch(du(i)){case 0:i===38&&Mi()===12&&(t[r]=1),e[r]+=aO(hr-1,t,r);break;case 2:e[r]+=Of(i);break;case 4:if(i===44){e[++r]=Mi()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=Mh(i)}while(i=Rr());return e},lO=function(e,t){return JC(oO(ZC(e),t))},aT=new WeakMap,cO=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!aT.get(r))&&!i){aT.set(e,!0);for(var s=[],o=lO(t,s),c=r.props,d=0,u=0;d<o.length;d++)for(var h=0;h<c.length;h++,u++)e.props[u]=s[d]?o[d].replace(/&\f/g,c[h]):c[h]+" "+o[d]}}},uO=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function tR(n,e){switch(K_(n,e)){case 5103:return It+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return It+n+Jf+n+Vn+n+n;case 6828:case 4268:return It+n+Vn+n+n;case 6165:return It+n+Vn+"flex-"+n+n;case 5187:return It+n+Dt(n,/(\w+).+(:[^]+)/,It+"box-$1$2"+Vn+"flex-$1$2")+n;case 5443:return It+n+Vn+"flex-item-"+Dt(n,/flex-|-self/,"")+n;case 4675:return It+n+Vn+"flex-line-pack"+Dt(n,/align-content|flex-|-self/,"")+n;case 5548:return It+n+Vn+Dt(n,"shrink","negative")+n;case 5292:return It+n+Vn+Dt(n,"basis","preferred-size")+n;case 6060:return It+"box-"+Dt(n,"-grow","")+It+n+Vn+Dt(n,"grow","positive")+n;case 4554:return It+Dt(n,/([^-])(transform)/g,"$1"+It+"$2")+n;case 6187:return Dt(Dt(Dt(n,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),n,"")+n;case 5495:case 3959:return Dt(n,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return Dt(Dt(n,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+Vn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+n+n;case 4095:case 3583:case 4068:case 2532:return Dt(n,/(.+)-inline(.+)/,It+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Li(n)-1-e>6)switch(Un(n,e+1)){case 109:if(Un(n,e+4)!==45)break;case 102:return Dt(n,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+Jf+(Un(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~M0(n,"stretch")?tR(Dt(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Un(n,e+1)!==115)break;case 6444:switch(Un(n,Li(n)-3-(~M0(n,"!important")&&10))){case 107:return Dt(n,":",":"+It)+n;case 101:return Dt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+It+(Un(n,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+Vn+"$2box$3")+n}break;case 5936:switch(Un(n,e+11)){case 114:return It+n+Vn+Dt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return It+n+Vn+Dt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return It+n+Vn+Dt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return It+n+Vn+n+n}return n}var dO=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case Vy:e.return=tR(e.value,e.length);break;case YC:return rl([_c(e,{value:Dt(e.value,"@","@"+It)})],i);case Hy:if(e.length)return q_(e.props,function(s){switch(W_(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return rl([_c(e,{props:[Dt(s,/:(read-\w+)/,":"+Jf+"$1")]})],i);case"::placeholder":return rl([_c(e,{props:[Dt(s,/:(plac\w+)/,":"+It+"input-$1")]}),_c(e,{props:[Dt(s,/:(plac\w+)/,":"+Jf+"$1")]}),_c(e,{props:[Dt(s,/:(plac\w+)/,Vn+"input-$1")]})],i)}return""})}},fO=[dO],hO=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(x){var S=x.getAttribute("data-emotion");S.indexOf(" ")!==-1&&(document.head.appendChild(x),x.setAttribute("data-s",""))})}var i=e.stylisPlugins||fO,s={},o,c=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(x){for(var S=x.getAttribute("data-emotion").split(" "),E=1;E<S.length;E++)s[S[E]]=!0;c.push(x)});var d,u=[cO,uO];{var h,p=[rO,sO(function(x){h.insert(x)})],g=iO(u.concat(i,p)),v=function(S){return rl(tO(S),g)};d=function(S,E,R,A){h=R,v(S?S+"{"+E.styles+"}":E.styles),A&&(y.inserted[E.name]=!0)}}var y={key:t,sheet:new j_({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:d};return y.sheet.hydrate(c),y},Dg={exports:{}},Pt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oT;function pO(){if(oT)return Pt;oT=1;var n=typeof Symbol=="function"&&Symbol.for,e=n?Symbol.for("react.element"):60103,t=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,o=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,S=n?Symbol.for("react.fundamental"):60117,E=n?Symbol.for("react.responder"):60118,R=n?Symbol.for("react.scope"):60119;function A(I){if(typeof I=="object"&&I!==null){var M=I.$$typeof;switch(M){case e:switch(I=I.type,I){case d:case u:case r:case s:case i:case p:return I;default:switch(I=I&&I.$$typeof,I){case c:case h:case y:case v:case o:return I;default:return M}}case t:return M}}}function L(I){return A(I)===u}return Pt.AsyncMode=d,Pt.ConcurrentMode=u,Pt.ContextConsumer=c,Pt.ContextProvider=o,Pt.Element=e,Pt.ForwardRef=h,Pt.Fragment=r,Pt.Lazy=y,Pt.Memo=v,Pt.Portal=t,Pt.Profiler=s,Pt.StrictMode=i,Pt.Suspense=p,Pt.isAsyncMode=function(I){return L(I)||A(I)===d},Pt.isConcurrentMode=L,Pt.isContextConsumer=function(I){return A(I)===c},Pt.isContextProvider=function(I){return A(I)===o},Pt.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===e},Pt.isForwardRef=function(I){return A(I)===h},Pt.isFragment=function(I){return A(I)===r},Pt.isLazy=function(I){return A(I)===y},Pt.isMemo=function(I){return A(I)===v},Pt.isPortal=function(I){return A(I)===t},Pt.isProfiler=function(I){return A(I)===s},Pt.isStrictMode=function(I){return A(I)===i},Pt.isSuspense=function(I){return A(I)===p},Pt.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===r||I===u||I===s||I===i||I===p||I===g||typeof I=="object"&&I!==null&&(I.$$typeof===y||I.$$typeof===v||I.$$typeof===o||I.$$typeof===c||I.$$typeof===h||I.$$typeof===S||I.$$typeof===E||I.$$typeof===R||I.$$typeof===x)},Pt.typeOf=A,Pt}var lT;function mO(){return lT||(lT=1,Dg.exports=pO()),Dg.exports}var Pg,cT;function gO(){if(cT)return Pg;cT=1;var n=mO(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[n.ForwardRef]=r,s[n.Memo]=i;function o(y){return n.isMemo(y)?i:s[y.$$typeof]||e}var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,g=Object.prototype;function v(y,x,S){if(typeof x!="string"){if(g){var E=p(x);E&&E!==g&&v(y,E,S)}var R=d(x);u&&(R=R.concat(u(x)));for(var A=o(y),L=o(x),I=0;I<R.length;++I){var M=R[I];if(!t[M]&&!(S&&S[M])&&!(L&&L[M])&&!(A&&A[M])){var P=h(x,M);try{c(y,M,P)}catch{}}}}return y}return Pg=v,Pg}gO();var yO=!0;function nR(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):i&&(r+=i+" ")}),r}var Wy=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||yO===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},qy=function(e,t,r){Wy(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function vO(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var xO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},bO=/[A-Z]|^ms/g,SO=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rR=function(e){return e.charCodeAt(1)===45},uT=function(e){return e!=null&&typeof e!="boolean"},_g=eR(function(n){return rR(n)?n:n.replace(bO,"-$&").toLowerCase()}),dT=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(SO,function(r,i,s){return Ii={name:i,styles:s,next:Ii},i})}return xO[e]!==1&&!rR(e)&&typeof t=="number"&&t!==0?t+"px":t};function fu(n,e,t){if(t==null)return"";var r=t;if(r.__emotion_styles!==void 0)return r;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return Ii={name:i.name,styles:i.styles,next:Ii},i.name;var s=t;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Ii={name:o.name,styles:o.styles,next:Ii},o=o.next;var c=s.styles+";";return c}return EO(n,e,t)}case"function":{if(n!==void 0){var d=Ii,u=t(n);return Ii=d,fu(n,e,u)}break}}var h=t;if(e==null)return h;var p=e[h];return p!==void 0?p:h}function EO(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=fu(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object"){var c=o;e!=null&&e[c]!==void 0?r+=s+"{"+e[c]+"}":uT(c)&&(r+=_g(s)+":"+dT(s,c)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var d=0;d<o.length;d++)uT(o[d])&&(r+=_g(s)+":"+dT(s,o[d])+";");else{var u=fu(n,e,o);switch(s){case"animation":case"animationName":{r+=_g(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}return r}var fT=/label:\s*([^\s;{]+)\s*(;|$)/g,Ii;function Lu(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,i="";Ii=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,i+=fu(t,e,s);else{var o=s;i+=o[0]}for(var c=1;c<n.length;c++)if(i+=fu(t,e,n[c]),r){var d=s;i+=d[c]}fT.lastIndex=0;for(var u="",h;(h=fT.exec(i))!==null;)u+="-"+h[1];var p=vO(i)+u;return{name:p,styles:i,next:Ii}}var TO=function(e){return e()},iR=Xf.useInsertionEffect?Xf.useInsertionEffect:!1,sR=iR||TO,hT=iR||D.useLayoutEffect,aR=D.createContext(typeof HTMLElement<"u"?hO({key:"css"}):null);aR.Provider;var Yy=function(e){return D.forwardRef(function(t,r){var i=D.useContext(aR);return e(t,i,r)})},Iu=D.createContext({}),Xy={}.hasOwnProperty,B0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",AO=function(e,t){var r={};for(var i in t)Xy.call(t,i)&&(r[i]=t[i]);return r[B0]=e,r},CO=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Wy(t,r,i),sR(function(){return qy(t,r,i)}),null},RO=Yy(function(n,e,t){var r=n.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var i=n[B0],s=[r],o="";typeof n.className=="string"?o=nR(e.registered,s,n.className):n.className!=null&&(o=n.className+" ");var c=Lu(s,void 0,D.useContext(Iu));o+=e.key+"-"+c.name;var d={};for(var u in n)Xy.call(n,u)&&u!=="css"&&u!==B0&&(d[u]=n[u]);return d.className=o,t&&(d.ref=t),D.createElement(D.Fragment,null,D.createElement(CO,{cache:e,serialized:c,isStringTag:typeof i=="string"}),D.createElement(i,d))}),wO=RO,pT=function(e,t){var r=arguments;if(t==null||!Xy.call(t,"css"))return D.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=wO,s[1]=AO(e,t);for(var o=2;o<i;o++)s[o]=r[o];return D.createElement.apply(null,s)};(function(n){var e;e||(e=n.JSX||(n.JSX={}))})(pT||(pT={}));var LO=Yy(function(n,e){var t=n.styles,r=Lu([t],void 0,D.useContext(Iu)),i=D.useRef();return hT(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),c=!1,d=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),d!==null&&(c=!0,d.setAttribute("data-emotion",s),o.hydrate([d])),i.current=[o,c],function(){o.flush()}},[e]),hT(function(){var s=i.current,o=s[0],c=s[1];if(c){s[1]=!1;return}if(r.next!==void 0&&qy(e,r.next,!0),o.tags.length){var d=o.tags[o.tags.length-1].nextElementSibling;o.before=d,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Qy(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Lu(e)}function Du(){var n=Qy.apply(void 0,arguments),e="animation-"+n.name;return{name:e,styles:"@keyframes "+e+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var IO=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DO=eR(function(n){return IO.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),PO=DO,_O=function(e){return e!=="theme"},mT=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?PO:_O},gT=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},OO=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return Wy(t,r,i),sR(function(){return qy(t,r,i)}),null},kO=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var c=gT(e,t,r),d=c||mT(i),u=!d("as");return function(){var h=arguments,p=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&p.push("label:"+s+";"),h[0]==null||h[0].raw===void 0)p.push.apply(p,h);else{var g=h[0];p.push(g[0]);for(var v=h.length,y=1;y<v;y++)p.push(h[y],g[y])}var x=Yy(function(S,E,R){var A=u&&S.as||i,L="",I=[],M=S;if(S.theme==null){M={};for(var P in S)M[P]=S[P];M.theme=D.useContext(Iu)}typeof S.className=="string"?L=nR(E.registered,I,S.className):S.className!=null&&(L=S.className+" ");var k=Lu(p.concat(I),E.registered,M);L+=E.key+"-"+k.name,o!==void 0&&(L+=" "+o);var _=u&&c===void 0?mT(A):d,w={};for(var B in S)u&&B==="as"||_(B)&&(w[B]=S[B]);return w.className=L,R&&(w.ref=R),D.createElement(D.Fragment,null,D.createElement(OO,{cache:E,serialized:k,isStringTag:typeof A=="string"}),D.createElement(A,w))});return x.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",x.defaultProps=e.defaultProps,x.__emotion_real=x,x.__emotion_base=i,x.__emotion_styles=p,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+o}}),x.withComponent=function(S,E){var R=n(S,Zf({},t,E,{shouldForwardProp:gT(x,E,!0)}));return R.apply(void 0,p)},x}},MO=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],$0=kO.bind(null);MO.forEach(function(n){$0[n]=$0(n)});function NO(n){return n==null||Object.keys(n).length===0}function oR(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(NO(i)?t:i):e;return T.jsx(LO,{styles:r})}function lR(n,e){return $0(n,e)}function BO(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const yT=[];function Js(n){return yT[0]=n,Lu(yT)}var Og={exports:{}},Ut={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function $O(){if(vT)return Ut;vT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function y(x){if(typeof x=="object"&&x!==null){var S=x.$$typeof;switch(S){case n:switch(x=x.type,x){case t:case i:case r:case d:case u:case g:return x;default:switch(x=x&&x.$$typeof,x){case o:case c:case p:case h:return x;case s:return x;default:return S}}case e:return S}}}return Ut.ContextConsumer=s,Ut.ContextProvider=o,Ut.Element=n,Ut.ForwardRef=c,Ut.Fragment=t,Ut.Lazy=p,Ut.Memo=h,Ut.Portal=e,Ut.Profiler=i,Ut.StrictMode=r,Ut.Suspense=d,Ut.SuspenseList=u,Ut.isContextConsumer=function(x){return y(x)===s},Ut.isContextProvider=function(x){return y(x)===o},Ut.isElement=function(x){return typeof x=="object"&&x!==null&&x.$$typeof===n},Ut.isForwardRef=function(x){return y(x)===c},Ut.isFragment=function(x){return y(x)===t},Ut.isLazy=function(x){return y(x)===p},Ut.isMemo=function(x){return y(x)===h},Ut.isPortal=function(x){return y(x)===e},Ut.isProfiler=function(x){return y(x)===i},Ut.isStrictMode=function(x){return y(x)===r},Ut.isSuspense=function(x){return y(x)===d},Ut.isSuspenseList=function(x){return y(x)===u},Ut.isValidElementType=function(x){return typeof x=="string"||typeof x=="function"||x===t||x===i||x===r||x===d||x===u||typeof x=="object"&&x!==null&&(x.$$typeof===p||x.$$typeof===h||x.$$typeof===o||x.$$typeof===s||x.$$typeof===c||x.$$typeof===v||x.getModuleId!==void 0)},Ut.typeOf=y,Ut}var xT;function FO(){return xT||(xT=1,Og.exports=$O()),Og.exports}var cR=FO();function Pi(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function uR(n){if(D.isValidElement(n)||cR.isValidElementType(n)||!Pi(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=uR(n[t])}),e}function Nn(n,e,t={clone:!0}){const r=t.clone?{...n}:n;return Pi(n)&&Pi(e)&&Object.keys(e).forEach(i=>{D.isValidElement(e[i])||cR.isValidElementType(e[i])?r[i]=e[i]:Pi(e[i])&&Object.prototype.hasOwnProperty.call(n,i)&&Pi(n[i])?r[i]=Nn(n[i],e[i],t):t.clone?r[i]=Pi(e[i])?uR(e[i]):e[i]:r[i]=e[i]}),r}const UO=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>({...t,[r.key]:r.val}),{})};function jO(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5,...i}=n,s=UO(e),o=Object.keys(s);function c(g){return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${t})`}function d(g){return`@media (max-width:${(typeof e[g]=="number"?e[g]:g)-r/100}${t})`}function u(g,v){const y=o.indexOf(v);return`@media (min-width:${typeof e[g]=="number"?e[g]:g}${t}) and (max-width:${(y!==-1&&typeof e[o[y]]=="number"?e[o[y]]:v)-r/100}${t})`}function h(g){return o.indexOf(g)+1<o.length?u(g,o[o.indexOf(g)+1]):c(g)}function p(g){const v=o.indexOf(g);return v===0?c(o[1]):v===o.length-1?d(o[v]):u(g,o[o.indexOf(g)+1]).replace("@media","@media not all and")}return{keys:o,values:s,up:c,down:d,between:u,only:h,not:p,unit:t,...i}}function bT(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(r=>r.startsWith("@container")).sort((r,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(r.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return t.length?t.reduce((r,i)=>{const s=e[i];return delete r[i],r[i]=s,r},{...e}):e}function zO(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function GO(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,r,i]=t,s=Number.isNaN(+r)?r||0:+r;return n.containerQueries(i).up(s)}function HO(n){const e=(s,o)=>s.replace("@media",o?`@container ${o}`:"@container");function t(s,o){s.up=(...c)=>e(n.breakpoints.up(...c),o),s.down=(...c)=>e(n.breakpoints.down(...c),o),s.between=(...c)=>e(n.breakpoints.between(...c),o),s.only=(...c)=>e(n.breakpoints.only(...c),o),s.not=(...c)=>{const d=e(n.breakpoints.not(...c),o);return d.includes("not all and")?d.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):d}}const r={},i=s=>(t(r,s),r);return t(i),{...n,containerQueries:i}}const VO={borderRadius:4};function qc(n,e){return e?Nn(n,e,{clone:!1}):n}const $h={xs:0,sm:600,md:900,lg:1200,xl:1536},ST={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${$h[n]}px)`},KO={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:$h[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ci(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||ST;return e.reduce((o,c,d)=>(o[s.up(s.keys[d])]=t(e[d]),o),{})}if(typeof e=="object"){const s=r.breakpoints||ST;return Object.keys(e).reduce((o,c)=>{if(zO(s.keys,c)){const d=GO(r.containerQueries?r:KO,c);d&&(o[d]=t(e[c],c))}else if(Object.keys(s.values||$h).includes(c)){const d=s.up(c);o[d]=t(e[c],c)}else{const d=c;o[d]=e[d]}return o},{})}return t(e)}function dR(n={}){return n.keys?.reduce((t,r)=>{const i=n.up(r);return t[i]={},t},{})||{}}function F0(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function WO(n,...e){const t=dR(n),r=[t,...e].reduce((i,s)=>Nn(i,s),{});return F0(Object.keys(t),r)}function qO(n,e){if(typeof n!="object")return{};const t={},r=Object.keys(e);return Array.isArray(n)?r.forEach((i,s)=>{s<n.length&&(t[i]=!0)}):r.forEach(i=>{n[i]!=null&&(t[i]=!0)}),t}function kg({values:n,breakpoints:e,base:t}){const r=t||qO(n,e),i=Object.keys(r);if(i.length===0)return n;let s;return i.reduce((o,c,d)=>(Array.isArray(n)?(o[c]=n[d]!=null?n[d]:n[s],s=d):typeof n=="object"?(o[c]=n[c]!=null?n[c]:n[s],s=c):o[c]=n,o),{})}function he(n){if(typeof n!="string")throw new Error(ms(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Xs(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function eh(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=Xs(n,t)||r,e&&(i=e(i,r,n)),i}function Sn(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const c=o[e],d=o.theme,u=Xs(d,r)||{};return ci(o,c,p=>{let g=eh(u,i,p);return p===g&&typeof p=="string"&&(g=eh(u,i,`${e}${p==="default"?"":he(p)}`,p)),t===!1?g:{[t]:g}})};return s.propTypes={},s.filterProps=[e],s}function YO(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const XO={m:"margin",p:"padding"},QO={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},ET={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ZO=YO(n=>{if(n.length>2)if(ET[n])n=ET[n];else return[n];const[e,t]=n.split(""),r=XO[e],i=QO[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),Zy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Jy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...Zy,...Jy];function Pu(n,e,t,r){const i=Xs(n,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const o=Math.abs(s),c=i[o];return s>=0?c:typeof c=="number"?-c:typeof c=="string"&&c.startsWith("var(")?`calc(-1 * ${c})`:`-${c}`}:typeof i=="function"?i:()=>{}}function Fh(n){return Pu(n,"spacing",8)}function Va(n,e){return typeof e=="string"||e==null?e:n(e)}function JO(n,e){return t=>n.reduce((r,i)=>(r[i]=Va(e,t),r),{})}function ek(n,e,t,r){if(!e.includes(t))return null;const i=ZO(t),s=JO(i,r),o=n[t];return ci(n,o,s)}function fR(n,e){const t=Fh(n.theme);return Object.keys(n).map(r=>ek(n,e,r,t)).reduce(qc,{})}function dn(n){return fR(n,Zy)}dn.propTypes={};dn.filterProps=Zy;function fn(n){return fR(n,Jy)}fn.propTypes={};fn.filterProps=Jy;function hR(n=8,e=Fh({spacing:n})){if(n.mui)return n;const t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function Uh(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?qc(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function jr(n){return typeof n!="number"?n:`${n}px solid`}function Xr(n,e){return Sn({prop:n,themeKey:"borders",transform:e})}const tk=Xr("border",jr),nk=Xr("borderTop",jr),rk=Xr("borderRight",jr),ik=Xr("borderBottom",jr),sk=Xr("borderLeft",jr),ak=Xr("borderColor"),ok=Xr("borderTopColor"),lk=Xr("borderRightColor"),ck=Xr("borderBottomColor"),uk=Xr("borderLeftColor"),dk=Xr("outline",jr),fk=Xr("outlineColor"),jh=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Pu(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Va(e,r)});return ci(n,n.borderRadius,t)}return null};jh.propTypes={};jh.filterProps=["borderRadius"];Uh(tk,nk,rk,ik,sk,ak,ok,lk,ck,uk,jh,dk,fk);const zh=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Pu(n.theme,"spacing",8),t=r=>({gap:Va(e,r)});return ci(n,n.gap,t)}return null};zh.propTypes={};zh.filterProps=["gap"];const Gh=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Pu(n.theme,"spacing",8),t=r=>({columnGap:Va(e,r)});return ci(n,n.columnGap,t)}return null};Gh.propTypes={};Gh.filterProps=["columnGap"];const Hh=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Pu(n.theme,"spacing",8),t=r=>({rowGap:Va(e,r)});return ci(n,n.rowGap,t)}return null};Hh.propTypes={};Hh.filterProps=["rowGap"];const hk=Sn({prop:"gridColumn"}),pk=Sn({prop:"gridRow"}),mk=Sn({prop:"gridAutoFlow"}),gk=Sn({prop:"gridAutoColumns"}),yk=Sn({prop:"gridAutoRows"}),vk=Sn({prop:"gridTemplateColumns"}),xk=Sn({prop:"gridTemplateRows"}),bk=Sn({prop:"gridTemplateAreas"}),Sk=Sn({prop:"gridArea"});Uh(zh,Gh,Hh,hk,pk,mk,gk,yk,vk,xk,bk,Sk);function il(n,e){return e==="grey"?e:n}const Ek=Sn({prop:"color",themeKey:"palette",transform:il}),Tk=Sn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:il}),Ak=Sn({prop:"backgroundColor",themeKey:"palette",transform:il});Uh(Ek,Tk,Ak);function Ar(n){return n<=1&&n!==0?`${n*100}%`:n}const Ck=Sn({prop:"width",transform:Ar}),ev=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{const r=n.theme?.breakpoints?.values?.[t]||$h[t];return r?n.theme?.breakpoints?.unit!=="px"?{maxWidth:`${r}${n.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ar(t)}};return ci(n,n.maxWidth,e)}return null};ev.filterProps=["maxWidth"];const Rk=Sn({prop:"minWidth",transform:Ar}),wk=Sn({prop:"height",transform:Ar}),Lk=Sn({prop:"maxHeight",transform:Ar}),Ik=Sn({prop:"minHeight",transform:Ar});Sn({prop:"size",cssProperty:"width",transform:Ar});Sn({prop:"size",cssProperty:"height",transform:Ar});const Dk=Sn({prop:"boxSizing"});Uh(Ck,ev,Rk,wk,Lk,Ik,Dk);const _u={border:{themeKey:"borders",transform:jr},borderTop:{themeKey:"borders",transform:jr},borderRight:{themeKey:"borders",transform:jr},borderBottom:{themeKey:"borders",transform:jr},borderLeft:{themeKey:"borders",transform:jr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:jr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:jh},color:{themeKey:"palette",transform:il},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:il},backgroundColor:{themeKey:"palette",transform:il},p:{style:fn},pt:{style:fn},pr:{style:fn},pb:{style:fn},pl:{style:fn},px:{style:fn},py:{style:fn},padding:{style:fn},paddingTop:{style:fn},paddingRight:{style:fn},paddingBottom:{style:fn},paddingLeft:{style:fn},paddingX:{style:fn},paddingY:{style:fn},paddingInline:{style:fn},paddingInlineStart:{style:fn},paddingInlineEnd:{style:fn},paddingBlock:{style:fn},paddingBlockStart:{style:fn},paddingBlockEnd:{style:fn},m:{style:dn},mt:{style:dn},mr:{style:dn},mb:{style:dn},ml:{style:dn},mx:{style:dn},my:{style:dn},margin:{style:dn},marginTop:{style:dn},marginRight:{style:dn},marginBottom:{style:dn},marginLeft:{style:dn},marginX:{style:dn},marginY:{style:dn},marginInline:{style:dn},marginInlineStart:{style:dn},marginInlineEnd:{style:dn},marginBlock:{style:dn},marginBlockStart:{style:dn},marginBlockEnd:{style:dn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:zh},rowGap:{style:Hh},columnGap:{style:Gh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ar},maxWidth:{style:ev},minWidth:{transform:Ar},height:{transform:Ar},maxHeight:{transform:Ar},minHeight:{transform:Ar},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Pk(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function _k(n,e){return typeof n=="function"?n(e):n}function Ok(){function n(t,r,i,s){const o={[t]:r,theme:i},c=s[t];if(!c)return{[t]:r};const{cssProperty:d=t,themeKey:u,transform:h,style:p}=c;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[t]:r};const g=Xs(i,u)||{};return p?p(o):ci(o,r,y=>{let x=eh(g,h,y);return y===x&&typeof y=="string"&&(x=eh(g,h,`${t}${y==="default"?"":he(y)}`,y)),d===!1?x:{[d]:x}})}function e(t){const{sx:r,theme:i={},nested:s}=t||{};if(!r)return null;const o=i.unstable_sxConfig??_u;function c(d){let u=d;if(typeof d=="function")u=d(i);else if(typeof d!="object")return d;if(!u)return null;const h=dR(i.breakpoints),p=Object.keys(h);let g=h;return Object.keys(u).forEach(v=>{const y=_k(u[v],i);if(y!=null)if(typeof y=="object")if(o[v])g=qc(g,n(v,y,i,o));else{const x=ci({theme:i},y,S=>({[v]:S}));Pk(x,y)?g[v]=e({sx:y,theme:i,nested:!0}):g=qc(g,x)}else g=qc(g,n(v,y,i,o))}),!s&&i.modularCssLayers?{"@layer sx":bT(i,F0(p,g))}:bT(i,F0(p,g))}return Array.isArray(r)?r.map(c):c(r)}return e}const ea=Ok();ea.filterProps=["sx"];function kk(n,e){const t=this;if(t.vars){if(!t.colorSchemes?.[n]||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function Rl(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={},...o}=n,c=jO(t),d=hR(i);let u=Nn({breakpoints:c,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:d,shape:{...VO,...s}},o);return u=HO(u),u.applyStyles=kk,u=e.reduce((h,p)=>Nn(h,p),u),u.unstable_sxConfig={..._u,...o?.unstable_sxConfig},u.unstable_sx=function(p){return ea({sx:p,theme:this})},u}function Mk(n){return Object.keys(n).length===0}function Vh(n=null){const e=D.useContext(Iu);return!e||Mk(e)?n:e}const Nk=Rl();function Ou(n=Nk){return Vh(n)}function Mg(n){const e=Js(n);return n!==e&&e.styles?(e.styles.match(/^@layer\s+[^{]*$/)||(e.styles=`@layer global{${e.styles}}`),e):n}function pR({styles:n,themeId:e,defaultTheme:t={}}){const r=Ou(t),i=e&&r[e]||r;let s=typeof n=="function"?n(i):n;return i.modularCssLayers&&(Array.isArray(s)?s=s.map(o=>Mg(typeof o=="function"?o(i):o)):s=Mg(s)),T.jsx(oR,{styles:s})}const Bk=n=>{const e={systemProps:{},otherProps:{}},t=n?.theme?.unstable_sxConfig??_u;return Object.keys(n).forEach(r=>{t[r]?e.systemProps[r]=n[r]:e.otherProps[r]=n[r]}),e};function Kh(n){const{sx:e,...t}=n,{systemProps:r,otherProps:i}=Bk(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const c=e(...o);return Pi(c)?{...r,...c}:r}:s={...r,...e},{...i,sx:s}}const TT=n=>n,$k=()=>{let n=TT;return{configure(e){n=e},generate(e){return n(e)},reset(){n=TT}}},mR=$k();function gR(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=gR(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Re(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=gR(n))&&(r&&(r+=" "),r+=e);return r}function Fk(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=lR("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(ea);return D.forwardRef(function(d,u){const h=Ou(t),{className:p,component:g="div",...v}=Kh(d);return T.jsx(s,{as:g,ref:u,className:Re(p,i?i(r):r),theme:e&&h[e]||h,...v})})}const Uk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function He(n,e,t="Mui"){const r=Uk[e];return r?`${t}-${r}`:`${mR.generate(n)}-${e}`}function qe(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=He(n,i,t)}),r}function yR(n){const{variants:e,...t}=n,r={variants:e,style:Js(t),isProcessed:!0};return r.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=Js(i.style))}),r}const jk=Rl();function Ng(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Ba(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function zk(n){return n?(e,t)=>t[n]:null}function Gk(n,e,t){n.theme=Vk(n.theme)?t:n.theme[e]||n.theme}function Mf(n,e,t){const r=typeof e=="function"?e(n):e;if(Array.isArray(r))return r.flatMap(i=>Mf(n,i,t));if(Array.isArray(r?.variants)){let i;if(r.isProcessed)i=t?Ba(r.style,t):r.style;else{const{variants:s,...o}=r;i=t?Ba(Js(o),t):o}return vR(n,r.variants,[i],t)}return r?.isProcessed?t?Ba(Js(r.style),t):r.style:t?Ba(Js(r),t):r}function vR(n,e,t=[],r=void 0){let i;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(i??={...n,...n.ownerState,ownerState:n.ownerState},!o.props(i))continue}else for(const c in o.props)if(n[c]!==o.props[c]&&n.ownerState?.[c]!==o.props[c])continue e;typeof o.style=="function"?(i??={...n,...n.ownerState,ownerState:n.ownerState},t.push(r?Ba(Js(o.style(i)),r):o.style(i))):t.push(r?Ba(Js(o.style),r):o.style)}return t}function xR(n={}){const{themeId:e,defaultTheme:t=jk,rootShouldForwardProp:r=Ng,slotShouldForwardProp:i=Ng}=n;function s(c){Gk(c,e,t)}return(c,d={})=>{BO(c,M=>M.filter(P=>P!==ea));const{name:u,slot:h,skipVariantsResolver:p,skipSx:g,overridesResolver:v=zk(Wk(h)),...y}=d,x=u&&u.startsWith("Mui")||h?"components":"custom",S=p!==void 0?p:h&&h!=="Root"&&h!=="root"||!1,E=g||!1;let R=Ng;h==="Root"||h==="root"?R=r:h?R=i:Kk(c)&&(R=void 0);const A=lR(c,{shouldForwardProp:R,label:Hk(),...y}),L=M=>{if(M.__emotion_real===M)return M;if(typeof M=="function")return function(k){return Mf(k,M,k.theme.modularCssLayers?x:void 0)};if(Pi(M)){const P=yR(M);return function(_){return P.variants?Mf(_,P,_.theme.modularCssLayers?x:void 0):_.theme.modularCssLayers?Ba(P.style,x):P.style}}return M},I=(...M)=>{const P=[],k=M.map(L),_=[];if(P.push(s),u&&v&&_.push(function(z){const K=z.theme.components?.[u]?.styleOverrides;if(!K)return null;const $={};for(const W in K)$[W]=Mf(z,K[W],z.theme.modularCssLayers?"theme":void 0);return v(z,$)}),u&&!S&&_.push(function(z){const K=z.theme?.components?.[u]?.variants;return K?vR(z,K,[],z.theme.modularCssLayers?"theme":void 0):null}),E||_.push(ea),Array.isArray(k[0])){const j=k.shift(),z=new Array(P.length).fill(""),q=new Array(_.length).fill("");let K;K=[...z,...j,...q],K.raw=[...z,...j.raw,...q],P.unshift(K)}const w=[...P,...k,..._],B=A(...w);return c.muiName&&(B.muiName=c.muiName),B};return A.withConfig&&(I.withConfig=A.withConfig),I}}function Hk(n,e){return void 0}function Vk(n){for(const e in n)return!1;return!0}function Kk(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Wk(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}const tv=xR();function hu(n,e,t=!1){const r={...e};for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=i;if(s==="components"||s==="slots")r[s]={...n[s],...r[s]};else if(s==="componentsProps"||s==="slotProps"){const o=n[s],c=e[s];if(!c)r[s]=o||{};else if(!o)r[s]=c;else{r[s]={...c};for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const u=d;r[s][u]=hu(o[u],c[u],t)}}}else s==="className"&&t&&e.className?r.className=Re(n?.className,e?.className):s==="style"&&t&&e.style?r.style={...n?.style,...e?.style}:r[s]===void 0&&(r[s]=n[s])}return r}function bR(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:hu(e.components[t].defaultProps,r)}function nv({props:n,name:e,defaultTheme:t,themeId:r}){let i=Ou(t);return r&&(i=i[r]||i),bR({theme:i,name:e,props:n})}const pr=typeof window<"u"?D.useLayoutEffect:D.useEffect;function qk(n,e,t,r,i){const[s,o]=D.useState(()=>i&&t?t(n).matches:r?r(n).matches:e);return pr(()=>{if(!t)return;const c=t(n),d=()=>{o(c.matches)};return d(),c.addEventListener("change",d),()=>{c.removeEventListener("change",d)}},[n,t]),s}const Yk={...Xf},SR=Yk.useSyncExternalStore;function Xk(n,e,t,r,i){const s=D.useCallback(()=>e,[e]),o=D.useMemo(()=>{if(i&&t)return()=>t(n).matches;if(r!==null){const{matches:h}=r(n);return()=>h}return s},[s,n,r,i,t]),[c,d]=D.useMemo(()=>{if(t===null)return[s,()=>()=>{}];const h=t(n);return[()=>h.matches,p=>(h.addEventListener("change",p),()=>{h.removeEventListener("change",p)})]},[s,t,n]);return SR(d,c,o)}function ER(n={}){const{themeId:e}=n;return function(r,i={}){let s=Vh();s&&e&&(s=s[e]||s);const o=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:d=o?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:h=!1}=bR({name:"MuiUseMediaQuery",props:i,theme:s});let p=typeof r=="function"?r(s):r;return p=p.replace(/^@media( ?)/m,""),p.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(SR!==void 0?Xk:qk)(p,c,d,u,h)}}ER();function Ma(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function rv(n,e=0,t=1){return Ma(n,e,t)}function Qk(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ta(n){if(n.type)return n;if(n.charAt(0)==="#")return ta(Qk(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(ms(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(ms(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}const Zk=n=>{const e=ta(n);return e.values.slice(0,3).map((t,r)=>e.type.includes("hsl")&&r!==0?`${t}%`:t).join(" ")},Hc=(n,e)=>{try{return Zk(n)}catch{return n}};function Wh(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.includes("color")?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function TR(n){n=ta(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,h=(u+t/30)%12)=>i-s*Math.max(Math.min(h-3,9-h,1),-1);let c="rgb";const d=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(c+="a",d.push(e[3])),Wh({type:c,values:d})}function U0(n){n=ta(n);let e=n.type==="hsl"||n.type==="hsla"?ta(TR(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Jk(n,e){const t=U0(n),r=U0(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function ot(n,e){return n=ta(n),e=rv(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,Wh(n)}function Jd(n,e,t){try{return ot(n,e)}catch{return n}}function Ka(n,e){if(n=ta(n),e=rv(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return Wh(n)}function Ht(n,e,t){try{return Ka(n,e)}catch{return n}}function Wa(n,e){if(n=ta(n),e=rv(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return Wh(n)}function Vt(n,e,t){try{return Wa(n,e)}catch{return n}}function eM(n,e=.15){return U0(n)>.5?Ka(n,e):Wa(n,e)}function ef(n,e,t){try{return eM(n,e)}catch{return n}}const AR=D.createContext(null);function iv(){return D.useContext(AR)}const tM=typeof Symbol=="function"&&Symbol.for,nM=tM?Symbol.for("mui.nested"):"__THEME_NESTED__";function rM(n,e){return typeof e=="function"?e(n):{...n,...e}}function iM(n){const{children:e,theme:t}=n,r=iv(),i=D.useMemo(()=>{const s=r===null?{...t}:rM(r,t);return s!=null&&(s[nM]=r!==null),s},[t,r]);return T.jsx(AR.Provider,{value:i,children:e})}const CR=D.createContext();function sM({value:n,...e}){return T.jsx(CR.Provider,{value:n??!0,...e})}const wl=()=>D.useContext(CR)??!1,RR=D.createContext(void 0);function aM({value:n,children:e}){return T.jsx(RR.Provider,{value:n,children:e})}function oM(n){const{theme:e,name:t,props:r}=n;if(!e||!e.components||!e.components[t])return r;const i=e.components[t];return i.defaultProps?hu(i.defaultProps,r,e.components.mergeClassNameAndStyle):!i.styleOverrides&&!i.variants?hu(i,r,e.components.mergeClassNameAndStyle):r}function lM({props:n,name:e}){const t=D.useContext(RR);return oM({props:n,name:e,theme:{components:t}})}let AT=0;function cM(n){const[e,t]=D.useState(n),r=n||e;return D.useEffect(()=>{e==null&&(AT+=1,t(`mui-${AT}`))},[e]),r}const uM={...Xf},CT=uM.useId;function vs(n){if(CT!==void 0){const e=CT();return n??e}return cM(n)}function dM(n){const e=Vh(),t=vs()||"",{modularCssLayers:r}=n;let i="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return!r||e!==null?i="":typeof r=="string"?i=r.replace(/mui(?!\.)/g,i):i=`@layer ${i};`,pr(()=>{const s=document.querySelector("head");if(!s)return;const o=s.firstChild;if(i){if(o&&o.hasAttribute?.("data-mui-layer-order")&&o.getAttribute("data-mui-layer-order")===t)return;const c=document.createElement("style");c.setAttribute("data-mui-layer-order",t),c.textContent=i,s.prepend(c)}else s.querySelector(`style[data-mui-layer-order="${t}"]`)?.remove()},[i,t]),i?T.jsx(pR,{styles:i}):null}const RT={};function wT(n,e,t,r=!1){return D.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const s=t(i),o=n?{...e,[n]:s}:s;return r?()=>o:o}return n?{...e,[n]:t}:{...e,...t}},[n,e,t,r])}function wR(n){const{children:e,theme:t,themeId:r}=n,i=Vh(RT),s=iv()||RT,o=wT(r,i,t),c=wT(r,s,t,!0),d=(r?o[r]:o).direction==="rtl",u=dM(o);return T.jsx(iM,{theme:c,children:T.jsx(Iu.Provider,{value:o,children:T.jsx(sM,{value:d,children:T.jsxs(aM,{value:r?o[r].components:o.components,children:[u,e]})})})})}const LT={theme:void 0};function fM(n){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(LT.theme=i.theme,s=yR(n(LT)),e=s,t=i.theme),s}}const sv="mode",av="color-scheme",hM="data-color-scheme";function pM(n){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:r="dark",modeStorageKey:i=sv,colorSchemeStorageKey:s=av,attribute:o=hM,colorSchemeNode:c="document.documentElement",nonce:d}=n||{};let u="",h=o;if(o==="class"&&(h=".%s"),o==="data"&&(h="[data-%s]"),h.startsWith(".")){const g=h.substring(1);u+=`${c}.classList.remove('${g}'.replace('%s', light), '${g}'.replace('%s', dark));
      ${c}.classList.add('${g}'.replace('%s', colorScheme));`}const p=h.match(/\[([^\]]+)\]/);if(p){const[g,v]=p[1].split("=");v||(u+=`${c}.removeAttribute('${g}'.replace('%s', light));
      ${c}.removeAttribute('${g}'.replace('%s', dark));`),u+=`
      ${c}.setAttribute('${g}'.replace('%s', colorScheme), ${v?`${v}.replace('%s', colorScheme)`:'""'});`}else u+=`${c}.setAttribute('${h}', colorScheme);`;return T.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${s}-dark') || '${r}';
  const light = localStorage.getItem('${s}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function mM(){}const gM=({key:n,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let r;try{r=e.localStorage.getItem(n)}catch{}return r||t},set:t=>{if(e)try{e.localStorage.setItem(n,t)}catch{}},subscribe:t=>{if(!e)return mM;const r=i=>{const s=i.newValue;i.key===n&&t(s)};return e.addEventListener("storage",r),()=>{e.removeEventListener("storage",r)}}});function Bg(){}function IT(n){if(typeof window<"u"&&typeof window.matchMedia=="function"&&n==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function LR(n,e){if(n.mode==="light"||n.mode==="system"&&n.systemMode==="light")return e("light");if(n.mode==="dark"||n.mode==="system"&&n.systemMode==="dark")return e("dark")}function yM(n){return LR(n,e=>{if(e==="light")return n.lightColorScheme;if(e==="dark")return n.darkColorScheme})}function vM(n){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:r,supportedColorSchemes:i=[],modeStorageKey:s=sv,colorSchemeStorageKey:o=av,storageWindow:c=typeof window>"u"?void 0:window,storageManager:d=gM,noSsr:u=!1}=n,h=i.join(","),p=i.length>1,g=D.useMemo(()=>d?.({key:s,storageWindow:c}),[d,s,c]),v=D.useMemo(()=>d?.({key:`${o}-light`,storageWindow:c}),[d,o,c]),y=D.useMemo(()=>d?.({key:`${o}-dark`,storageWindow:c}),[d,o,c]),[x,S]=D.useState(()=>{const k=g?.get(e)||e,_=v?.get(t)||t,w=y?.get(r)||r;return{mode:k,systemMode:IT(k),lightColorScheme:_,darkColorScheme:w}}),[E,R]=D.useState(u||!p);D.useEffect(()=>{R(!0)},[]);const A=yM(x),L=D.useCallback(k=>{S(_=>{if(k===_.mode)return _;const w=k??e;return g?.set(w),{..._,mode:w,systemMode:IT(w)}})},[g,e]),I=D.useCallback(k=>{k?typeof k=="string"?k&&!h.includes(k)?console.error(`\`${k}\` does not exist in \`theme.colorSchemes\`.`):S(_=>{const w={..._};return LR(_,B=>{B==="light"&&(v?.set(k),w.lightColorScheme=k),B==="dark"&&(y?.set(k),w.darkColorScheme=k)}),w}):S(_=>{const w={..._},B=k.light===null?t:k.light,j=k.dark===null?r:k.dark;return B&&(h.includes(B)?(w.lightColorScheme=B,v?.set(B)):console.error(`\`${B}\` does not exist in \`theme.colorSchemes\`.`)),j&&(h.includes(j)?(w.darkColorScheme=j,y?.set(j)):console.error(`\`${j}\` does not exist in \`theme.colorSchemes\`.`)),w}):S(_=>(v?.set(t),y?.set(r),{..._,lightColorScheme:t,darkColorScheme:r}))},[h,v,y,t,r]),M=D.useCallback(k=>{x.mode==="system"&&S(_=>{const w=k?.matches?"dark":"light";return _.systemMode===w?_:{..._,systemMode:w}})},[x.mode]),P=D.useRef(M);return P.current=M,D.useEffect(()=>{if(typeof window.matchMedia!="function"||!p)return;const k=(...w)=>P.current(...w),_=window.matchMedia("(prefers-color-scheme: dark)");return _.addListener(k),k(_),()=>{_.removeListener(k)}},[p]),D.useEffect(()=>{if(p){const k=g?.subscribe(B=>{(!B||["light","dark","system"].includes(B))&&L(B||e)})||Bg,_=v?.subscribe(B=>{(!B||h.match(B))&&I({light:B})})||Bg,w=y?.subscribe(B=>{(!B||h.match(B))&&I({dark:B})})||Bg;return()=>{k(),_(),w()}}},[I,L,h,e,c,p,g,v,y]),{...x,mode:E?x.mode:void 0,systemMode:E?x.systemMode:void 0,colorScheme:E?A:void 0,setMode:L,setColorScheme:I}}const xM="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function bM(n){const{themeId:e,theme:t={},modeStorageKey:r=sv,colorSchemeStorageKey:i=av,disableTransitionOnChange:s=!1,defaultColorScheme:o,resolveTheme:c}=n,d={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=D.createContext(void 0),h=()=>D.useContext(u)||d,p={},g={};function v(E){const{children:R,theme:A,modeStorageKey:L=r,colorSchemeStorageKey:I=i,disableTransitionOnChange:M=s,storageManager:P,storageWindow:k=typeof window>"u"?void 0:window,documentNode:_=typeof document>"u"?void 0:document,colorSchemeNode:w=typeof document>"u"?void 0:document.documentElement,disableNestedContext:B=!1,disableStyleSheetGeneration:j=!1,defaultMode:z="system",forceThemeRerender:q=!1,noSsr:K}=E,$=D.useRef(!1),W=iv(),G=D.useContext(u),Y=!!G&&!B,F=D.useMemo(()=>A||(typeof t=="function"?t():t),[A]),H=F[e],Q=H||F,{colorSchemes:ee=p,components:ce=g,cssVarPrefix:se}=Q,V=Object.keys(ee).filter(be=>!!ee[be]).join(","),oe=D.useMemo(()=>V.split(","),[V]),me=typeof o=="string"?o:o.light,we=typeof o=="string"?o:o.dark,Te=ee[me]&&ee[we]?z:ee[Q.defaultColorScheme]?.palette?.mode||Q.palette?.mode,{mode:Pe,setMode:ke,systemMode:Be,lightColorScheme:Me,darkColorScheme:ct,colorScheme:Ue,setColorScheme:Oe}=vM({supportedColorSchemes:oe,defaultLightColorScheme:me,defaultDarkColorScheme:we,modeStorageKey:L,colorSchemeStorageKey:I,defaultMode:Te,storageManager:P,storageWindow:k,noSsr:K});let et=Pe,at=Ue;Y&&(et=G.mode,at=G.colorScheme);let Je=at||Q.defaultColorScheme;Q.vars&&!q&&(Je=Q.defaultColorScheme);const De=D.useMemo(()=>{const be=Q.generateThemeVars?.()||Q.vars,Ee={...Q,components:ce,colorSchemes:ee,cssVarPrefix:se,vars:be};if(typeof Ee.generateSpacing=="function"&&(Ee.spacing=Ee.generateSpacing()),Je){const Ie=ee[Je];Ie&&typeof Ie=="object"&&Object.keys(Ie).forEach(Le=>{Ie[Le]&&typeof Ie[Le]=="object"?Ee[Le]={...Ee[Le],...Ie[Le]}:Ee[Le]=Ie[Le]})}return c?c(Ee):Ee},[Q,Je,ce,ee,se]),Se=Q.colorSchemeSelector;pr(()=>{if(at&&w&&Se&&Se!=="media"){const be=Se;let Ee=Se;if(be==="class"&&(Ee=".%s"),be==="data"&&(Ee="[data-%s]"),be?.startsWith("data-")&&!be.includes("%s")&&(Ee=`[${be}="%s"]`),Ee.startsWith("."))w.classList.remove(...oe.map(Ie=>Ee.substring(1).replace("%s",Ie))),w.classList.add(Ee.substring(1).replace("%s",at));else{const Ie=Ee.replace("%s",at).match(/\[([^\]]+)\]/);if(Ie){const[Le,Ye]=Ie[1].split("=");Ye||oe.forEach(je=>{w.removeAttribute(Le.replace(at,je))}),w.setAttribute(Le,Ye?Ye.replace(/"|'/g,""):"")}else w.setAttribute(Ee,at)}}},[at,Se,w,oe]),D.useEffect(()=>{let be;if(M&&$.current&&_){const Ee=_.createElement("style");Ee.appendChild(_.createTextNode(xM)),_.head.appendChild(Ee),window.getComputedStyle(_.body),be=setTimeout(()=>{_.head.removeChild(Ee)},1)}return()=>{clearTimeout(be)}},[at,M,_]),D.useEffect(()=>($.current=!0,()=>{$.current=!1}),[]);const ht=D.useMemo(()=>({allColorSchemes:oe,colorScheme:at,darkColorScheme:ct,lightColorScheme:Me,mode:et,setColorScheme:Oe,setMode:ke,systemMode:Be}),[oe,at,ct,Me,et,Oe,ke,Be,De.colorSchemeSelector]);let ut=!0;(j||Q.cssVariables===!1||Y&&W?.cssVarPrefix===se)&&(ut=!1);const Ae=T.jsxs(D.Fragment,{children:[T.jsx(wR,{themeId:H?e:void 0,theme:De,children:R}),ut&&T.jsx(oR,{styles:De.generateStyleSheets?.()||[]})]});return Y?Ae:T.jsx(u.Provider,{value:ht,children:Ae})}const y=typeof o=="string"?o:o.light,x=typeof o=="string"?o:o.dark;return{CssVarsProvider:v,useColorScheme:h,getInitColorSchemeScript:E=>pM({colorSchemeStorageKey:i,defaultLightColorScheme:y,defaultDarkColorScheme:x,modeStorageKey:r,...E})}}function SM(n=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${n?`${n}-`:""}${r}${e(...i)})`}const DT=(n,e,t,r=[])=>{let i=n;e.forEach((s,o)=>{o===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},EM=(n,e,t)=>{function r(i,s=[],o=[]){Object.entries(i).forEach(([c,d])=>{(!t||t&&!t([...s,c]))&&d!=null&&(typeof d=="object"&&Object.keys(d).length>0?r(d,[...s,c],Array.isArray(d)?[...o,c]:o):e([...s,c],d,o))})}r(n)},TM=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>n.includes(r))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function $g(n,e){const{prefix:t,shouldSkipGeneratingVar:r}=e||{},i={},s={},o={};return EM(n,(c,d,u)=>{if((typeof d=="string"||typeof d=="number")&&(!r||!r(c,d))){const h=`--${t?`${t}-`:""}${c.join("-")}`,p=TM(c,d);Object.assign(i,{[h]:p}),DT(s,c,`var(${h})`,u),DT(o,c,`var(${h}, ${p})`,u)}},c=>c[0]==="vars"),{css:i,vars:s,varsWithDefaults:o}}function AM(n,e={}){const{getSelector:t=S,disableCssColorScheme:r,colorSchemeSelector:i}=e,{colorSchemes:s={},components:o,defaultColorScheme:c="light",...d}=n,{vars:u,css:h,varsWithDefaults:p}=$g(d,e);let g=p;const v={},{[c]:y,...x}=s;if(Object.entries(x||{}).forEach(([A,L])=>{const{vars:I,css:M,varsWithDefaults:P}=$g(L,e);g=Nn(g,P),v[A]={css:M,vars:I}}),y){const{css:A,vars:L,varsWithDefaults:I}=$g(y,e);g=Nn(g,I),v[c]={css:A,vars:L}}function S(A,L){let I=i;if(i==="class"&&(I=".%s"),i==="data"&&(I="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(I=`[${i}="%s"]`),A){if(I==="media")return n.defaultColorScheme===A?":root":{[`@media (prefers-color-scheme: ${s[A]?.palette?.mode||A})`]:{":root":L}};if(I)return n.defaultColorScheme===A?`:root, ${I.replace("%s",String(A))}`:I.replace("%s",String(A))}return":root"}return{vars:g,generateThemeVars:()=>{let A={...u};return Object.entries(v).forEach(([,{vars:L}])=>{A=Nn(A,L)}),A},generateStyleSheets:()=>{const A=[],L=n.defaultColorScheme||"light";function I(k,_){Object.keys(_).length&&A.push(typeof k=="string"?{[k]:{..._}}:k)}I(t(void 0,{...h}),h);const{[L]:M,...P}=v;if(M){const{css:k}=M,_=s[L]?.palette?.mode,w=!r&&_?{colorScheme:_,...k}:{...k};I(t(L,{...w}),w)}return Object.entries(P).forEach(([k,{css:_}])=>{const w=s[k]?.palette?.mode,B=!r&&w?{colorScheme:w,..._}:{..._};I(t(k,{...B}),B)}),A}}}function CM(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}function Ve(n,e,t=void 0){const r={};for(const i in n){const s=n[i];let o="",c=!0;for(let d=0;d<s.length;d+=1){const u=s[d];u&&(o+=(c===!0?"":" ")+e(u),c=!1,t&&t[u]&&(o+=" "+t[u]))}r[i]=o}return r}const RM=Rl(),wM=tv("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`maxWidth${he(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),LM=n=>nv({props:n,name:"MuiContainer",defaultTheme:RM}),IM=(n,e)=>{const t=d=>He(e,d),{classes:r,fixed:i,disableGutters:s,maxWidth:o}=n,c={root:["root",o&&`maxWidth${he(String(o))}`,i&&"fixed",s&&"disableGutters"]};return Ve(c,t,r)};function DM(n={}){const{createStyledComponent:e=wM,useThemeProps:t=LM,componentName:r="MuiContainer"}=n,i=e(({theme:o,ownerState:c})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!c.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}}}),({theme:o,ownerState:c})=>c.fixed&&Object.keys(o.breakpoints.values).reduce((d,u)=>{const h=u,p=o.breakpoints.values[h];return p!==0&&(d[o.breakpoints.up(h)]={maxWidth:`${p}${o.breakpoints.unit}`}),d},{}),({theme:o,ownerState:c})=>({...c.maxWidth==="xs"&&{[o.breakpoints.up("xs")]:{maxWidth:Math.max(o.breakpoints.values.xs,444)}},...c.maxWidth&&c.maxWidth!=="xs"&&{[o.breakpoints.up(c.maxWidth)]:{maxWidth:`${o.breakpoints.values[c.maxWidth]}${o.breakpoints.unit}`}}}));return D.forwardRef(function(c,d){const u=t(c),{className:h,component:p="div",disableGutters:g=!1,fixed:v=!1,maxWidth:y="lg",classes:x,...S}=u,E={...u,component:p,disableGutters:g,fixed:v,maxWidth:y},R=IM(E,r);return T.jsx(i,{as:p,ownerState:E,className:Re(R.root,h),ref:d,...S})})}function Yc(n,e){return D.isValidElement(n)&&e.indexOf(n.type.muiName??n.type?._payload?.value?.muiName)!==-1}const PM=(n,e)=>n.filter(t=>e.includes(t)),Ll=(n,e,t)=>{const r=n.keys[0];Array.isArray(e)?e.forEach((i,s)=>{t((o,c)=>{s<=n.keys.length-1&&(s===0?Object.assign(o,c):o[n.up(n.keys[s])]=c)},i)}):e&&typeof e=="object"?(Object.keys(e).length>n.keys.length?n.keys:PM(n.keys,Object.keys(e))).forEach(s=>{if(n.keys.includes(s)){const o=e[s];o!==void 0&&t((c,d)=>{r===s?Object.assign(c,d):c[n.up(s)]=d},o)}}):(typeof e=="number"||typeof e=="string")&&t((i,s)=>{Object.assign(i,s)},e)};function th(n){return`--Grid-${n}Spacing`}function qh(n){return`--Grid-parent-${n}Spacing`}const PT="--Grid-columns",sl="--Grid-parent-columns",_M=({theme:n,ownerState:e})=>{const t={};return Ll(n.breakpoints,e.size,(r,i)=>{let s={};i==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${sl}) - (var(${sl}) - ${i}) * (var(${qh("column")}) / var(${sl})))`}),r(t,s)}),t},OM=({theme:n,ownerState:e})=>{const t={};return Ll(n.breakpoints,e.offset,(r,i)=>{let s={};i==="auto"&&(s={marginLeft:"auto"}),typeof i=="number"&&(s={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${sl}) + var(${qh("column")}) * ${i} / var(${sl}))`}),r(t,s)}),t},kM=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={[PT]:12};return Ll(n.breakpoints,e.columns,(r,i)=>{const s=i??12;r(t,{[PT]:s,"> *":{[sl]:s}})}),t},MM=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return Ll(n.breakpoints,e.rowSpacing,(r,i)=>{const s=typeof i=="string"?i:n.spacing?.(i);r(t,{[th("row")]:s,"> *":{[qh("row")]:s}})}),t},NM=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return Ll(n.breakpoints,e.columnSpacing,(r,i)=>{const s=typeof i=="string"?i:n.spacing?.(i);r(t,{[th("column")]:s,"> *":{[qh("column")]:s}})}),t},BM=({theme:n,ownerState:e})=>{if(!e.container)return{};const t={};return Ll(n.breakpoints,e.direction,(r,i)=>{r(t,{flexDirection:i})}),t},$M=({ownerState:n})=>({minWidth:0,boxSizing:"border-box",...n.container&&{display:"flex",flexWrap:"wrap",...n.wrap&&n.wrap!=="wrap"&&{flexWrap:n.wrap},gap:`var(${th("row")}) var(${th("column")})`}}),FM=n=>{const e=[];return Object.entries(n).forEach(([t,r])=>{r!==!1&&r!==void 0&&e.push(`grid-${t}-${String(r)}`)}),e},UM=(n,e="xs")=>{function t(r){return r===void 0?!1:typeof r=="string"&&!Number.isNaN(Number(r))||typeof r=="number"&&r>0}if(t(n))return[`spacing-${e}-${String(n)}`];if(typeof n=="object"&&!Array.isArray(n)){const r=[];return Object.entries(n).forEach(([i,s])=>{t(s)&&r.push(`spacing-${i}-${String(s)}`)}),r}return[]},jM=n=>n===void 0?[]:typeof n=="object"?Object.entries(n).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(n)}`];function zM(n,e){n.item!==void 0&&delete n.item,n.zeroMinWidth!==void 0&&delete n.zeroMinWidth,e.keys.forEach(t=>{n[t]!==void 0&&delete n[t]})}const GM=Rl(),HM=tv("div",{name:"MuiGrid",slot:"Root"});function VM(n){return nv({props:n,name:"MuiGrid",defaultTheme:GM})}function KM(n={}){const{createStyledComponent:e=HM,useThemeProps:t=VM,useTheme:r=Ou,componentName:i="MuiGrid"}=n,s=(u,h)=>{const{container:p,direction:g,spacing:v,wrap:y,size:x}=u,S={root:["root",p&&"container",y!=="wrap"&&`wrap-xs-${String(y)}`,...jM(g),...FM(x),...p?UM(v,h.breakpoints.keys[0]):[]]};return Ve(S,E=>He(i,E),{})};function o(u,h,p=()=>!0){const g={};return u===null||(Array.isArray(u)?u.forEach((v,y)=>{v!==null&&p(v)&&h.keys[y]&&(g[h.keys[y]]=v)}):typeof u=="object"?Object.keys(u).forEach(v=>{const y=u[v];y!=null&&p(y)&&(g[v]=y)}):g[h.keys[0]]=u),g}const c=e(kM,NM,MM,_M,BM,$M,OM),d=D.forwardRef(function(h,p){const g=r(),v=t(h),y=Kh(v);zM(y,g.breakpoints);const{className:x,children:S,columns:E=12,container:R=!1,component:A="div",direction:L="row",wrap:I="wrap",size:M={},offset:P={},spacing:k=0,rowSpacing:_=k,columnSpacing:w=k,unstable_level:B=0,...j}=y,z=o(M,g.breakpoints,H=>H!==!1),q=o(P,g.breakpoints),K=h.columns??(B?void 0:E),$=h.spacing??(B?void 0:k),W=h.rowSpacing??h.spacing??(B?void 0:_),G=h.columnSpacing??h.spacing??(B?void 0:w),Y={...y,level:B,columns:K,container:R,direction:L,wrap:I,spacing:$,rowSpacing:W,columnSpacing:G,size:z,offset:q},F=s(Y,g);return T.jsx(c,{ref:p,as:A,ownerState:Y,className:Re(F.root,x),...j,children:D.Children.map(S,H=>D.isValidElement(H)&&Yc(H,["Grid"])&&R&&H.props.container?D.cloneElement(H,{unstable_level:H.props?.unstable_level??B+1}):H)})});return d.muiName="Grid",d}const WM=Rl(),qM=tv("div",{name:"MuiStack",slot:"Root"});function YM(n){return nv({props:n,name:"MuiStack",defaultTheme:WM})}function XM(n,e){const t=D.Children.toArray(n).filter(Boolean);return t.reduce((r,i,s)=>(r.push(i),s<t.length-1&&r.push(D.cloneElement(e,{key:`separator-${s}`})),r),[])}const QM=n=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[n],ZM=({ownerState:n,theme:e})=>{let t={display:"flex",flexDirection:"column",...ci({theme:e},kg({values:n.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r}))};if(n.spacing){const r=Fh(e),i=Object.keys(e.breakpoints.values).reduce((d,u)=>((typeof n.spacing=="object"&&n.spacing[u]!=null||typeof n.direction=="object"&&n.direction[u]!=null)&&(d[u]=!0),d),{}),s=kg({values:n.direction,base:i}),o=kg({values:n.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((d,u,h)=>{if(!s[d]){const g=u>0?s[h[u-1]]:"column";s[d]=g}}),t=Nn(t,ci({theme:e},o,(d,u)=>n.useFlexGap?{gap:Va(r,d)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${QM(u?s[u]:n.direction)}`]:Va(r,d)}}))}return t=WO(e.breakpoints,t),t};function JM(n={}){const{createStyledComponent:e=qM,useThemeProps:t=YM,componentName:r="MuiStack"}=n,i=()=>Ve({root:["root"]},d=>He(r,d),{}),s=e(ZM);return D.forwardRef(function(d,u){const h=t(d),p=Kh(h),{component:g="div",direction:v="column",spacing:y=0,divider:x,children:S,className:E,useFlexGap:R=!1,...A}=p,L={direction:v,spacing:y,useFlexGap:R},I=i();return T.jsx(s,{as:g,ownerState:L,ref:u,className:Re(I.root,E),...A,children:x?XM(S,x):S})})}function IR(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cu.white,default:cu.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const eN=IR();function DR(){return{text:{primary:cu.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cu.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const _T=DR();function OT(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Wa(n.main,i):e==="dark"&&(n.dark=Ka(n.main,s)))}function tN(n="light"){return n==="dark"?{main:zo[200],light:zo[50],dark:zo[400]}:{main:zo[700],light:zo[400],dark:zo[800]}}function nN(n="light"){return n==="dark"?{main:jo[200],light:jo[50],dark:jo[400]}:{main:jo[500],light:jo[300],dark:jo[700]}}function rN(n="light"){return n==="dark"?{main:Uo[500],light:Uo[300],dark:Uo[700]}:{main:Uo[700],light:Uo[400],dark:Uo[800]}}function iN(n="light"){return n==="dark"?{main:Go[400],light:Go[300],dark:Go[700]}:{main:Go[700],light:Go[500],dark:Go[900]}}function sN(n="light"){return n==="dark"?{main:Ho[400],light:Ho[300],dark:Ho[700]}:{main:Ho[800],light:Ho[500],dark:Ho[900]}}function aN(n="light"){return n==="dark"?{main:Pc[400],light:Pc[300],dark:Pc[700]}:{main:"#ed6c02",light:Pc[500],dark:Pc[900]}}function ov(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2,...i}=n,s=n.primary||tN(e),o=n.secondary||nN(e),c=n.error||rN(e),d=n.info||iN(e),u=n.success||sN(e),h=n.warning||aN(e);function p(x){return Jk(x,_T.text.primary)>=t?_T.text.primary:eN.text.primary}const g=({color:x,name:S,mainShade:E=500,lightShade:R=300,darkShade:A=700})=>{if(x={...x},!x.main&&x[E]&&(x.main=x[E]),!x.hasOwnProperty("main"))throw new Error(ms(11,S?` (${S})`:"",E));if(typeof x.main!="string")throw new Error(ms(12,S?` (${S})`:"",JSON.stringify(x.main)));return OT(x,"light",R,r),OT(x,"dark",A,r),x.contrastText||(x.contrastText=p(x.main)),x};let v;return e==="light"?v=IR():e==="dark"&&(v=DR()),Nn({common:{...cu},mode:e,primary:g({color:s,name:"primary"}),secondary:g({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:c,name:"error"}),warning:g({color:h,name:"warning"}),info:g({color:d,name:"info"}),success:g({color:u,name:"success"}),grey:$_,contrastThreshold:t,getContrastText:p,augmentColor:g,tonalOffset:r,...v},i)}function oN(n){const e={};return Object.entries(n).forEach(r=>{const[i,s]=r;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function lN(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function cN(n){return Math.round(n*1e5)/1e5}const kT={textTransform:"uppercase"},MT='"Roboto", "Helvetica", "Arial", sans-serif';function PR(n,e){const{fontFamily:t=MT,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:u,pxToRem:h,...p}=typeof e=="function"?e(n):e,g=r/14,v=h||(S=>`${S/d*g}rem`),y=(S,E,R,A,L)=>({fontFamily:t,fontWeight:S,fontSize:v(E),lineHeight:R,...t===MT?{letterSpacing:`${cN(A/E)}em`}:{},...L,...u}),x={h1:y(i,96,1.167,-1.5),h2:y(i,60,1.2,-.5),h3:y(s,48,1.167,0),h4:y(s,34,1.235,.25),h5:y(s,24,1.334,0),h6:y(o,20,1.6,.15),subtitle1:y(s,16,1.75,.15),subtitle2:y(o,14,1.57,.1),body1:y(s,16,1.5,.15),body2:y(s,14,1.43,.15),button:y(o,14,1.75,.4,kT),caption:y(s,12,1.66,.4),overline:y(s,12,2.66,1,kT),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Nn({htmlFontSize:d,pxToRem:v,fontFamily:t,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:o,fontWeightBold:c,...x},p,{clone:!1})}const uN=.2,dN=.14,fN=.12;function Zt(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${uN})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${dN})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${fN})`].join(",")}const hN=["none",Zt(0,2,1,-1,0,1,1,0,0,1,3,0),Zt(0,3,1,-2,0,2,2,0,0,1,5,0),Zt(0,3,3,-2,0,3,4,0,0,1,8,0),Zt(0,2,4,-1,0,4,5,0,0,1,10,0),Zt(0,3,5,-1,0,5,8,0,0,1,14,0),Zt(0,3,5,-1,0,6,10,0,0,1,18,0),Zt(0,4,5,-2,0,7,10,1,0,2,16,1),Zt(0,5,5,-3,0,8,10,1,0,3,14,2),Zt(0,5,6,-3,0,9,12,1,0,3,16,2),Zt(0,6,6,-3,0,10,14,1,0,4,18,3),Zt(0,6,7,-4,0,11,15,1,0,4,20,3),Zt(0,7,8,-4,0,12,17,2,0,5,22,4),Zt(0,7,8,-4,0,13,19,2,0,5,24,4),Zt(0,7,9,-4,0,14,21,2,0,5,26,4),Zt(0,8,9,-5,0,15,22,2,0,6,28,5),Zt(0,8,10,-5,0,16,24,2,0,6,30,5),Zt(0,8,11,-5,0,17,26,2,0,6,32,5),Zt(0,9,11,-5,0,18,28,2,0,7,34,6),Zt(0,9,12,-6,0,19,29,2,0,7,36,6),Zt(0,10,13,-6,0,20,31,3,0,8,38,7),Zt(0,10,13,-6,0,21,33,3,0,8,40,7),Zt(0,10,14,-6,0,22,35,3,0,8,42,7),Zt(0,11,14,-7,0,23,36,3,0,9,44,8),Zt(0,11,15,-7,0,24,38,3,0,9,46,8)],pN={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_R={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function NT(n){return`${Math.round(n)}ms`}function mN(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function gN(n){const e={...pN,...n.easing},t={..._R,...n.duration};return{getAutoHeightDuration:mN,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:c=e.easeInOut,delay:d=0,...u}=s;return(Array.isArray(i)?i:[i]).map(h=>`${h} ${typeof o=="string"?o:NT(o)} ${c} ${typeof d=="string"?d:NT(d)}`).join(",")},...n,easing:e,duration:t}}const yN={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function vN(n){return Pi(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function OR(n={}){const e={...n};function t(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[o,c]=i[s];!vN(c)||o.startsWith("unstable_")?delete r[o]:Pi(c)&&(r[o]={...c},t(r[o]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function j0(n={},...e){const{breakpoints:t,mixins:r={},spacing:i,palette:s={},transitions:o={},typography:c={},shape:d,...u}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(ms(20));const h=ov(s),p=Rl(n);let g=Nn(p,{mixins:lN(p.breakpoints,r),palette:h,shadows:hN.slice(),typography:PR(h,c),transitions:gN(o),zIndex:{...yN}});return g=Nn(g,u),g=e.reduce((v,y)=>Nn(v,y),g),g.unstable_sxConfig={..._u,...u?.unstable_sxConfig},g.unstable_sx=function(y){return ea({sx:y,theme:this})},g.toRuntimeSource=OR,g}function z0(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const xN=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=z0(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function kR(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function MR(n){return n==="dark"?xN:[]}function bN(n){const{palette:e={mode:"light"},opacity:t,overlays:r,...i}=n,s=ov(e);return{palette:s,opacity:{...kR(s.mode),...t},overlays:r||MR(s.mode),...i}}function SN(n){return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!n[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const EN=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],TN=n=>(e,t)=>{const r=n.rootSelector||":root",i=n.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const o={};return EN(n.cssVarPrefix).forEach(c=>{o[c]=t[c],delete t[c]}),s==="media"?{[r]:t,"@media (prefers-color-scheme: dark)":{[r]:o}}:s?{[s.replace("%s",e)]:o,[`${r}, ${s.replace("%s",e)}`]:t}:{[r]:{...t,...o}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[r]:t}};if(s)return s.replace("%s",String(e))}return r};function AN(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function fe(n,e,t){!n[e]&&t&&(n[e]=t)}function Vc(n){return typeof n!="string"||!n.startsWith("hsl")?n:TR(n)}function rs(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Hc(Vc(n[e])))}function CN(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const Ei=n=>{try{return n()}catch{}},RN=(n="mui")=>SM(n);function Fg(n,e,t,r){if(!e)return;e=e===!0?{}:e;const i=r==="dark"?"dark":"light";if(!t){n[r]=bN({...e,palette:{mode:i,...e?.palette}});return}const{palette:s,...o}=j0({...t,palette:{mode:i,...e?.palette}});return n[r]={...e,palette:s,opacity:{...kR(i),...e?.opacity},overlays:e?.overlays||MR(i)},o}function wN(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:o=SN,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...u}=n,h=Object.keys(t)[0],p=r||(t.light&&h!=="light"?"light":h),g=RN(s),{[p]:v,light:y,dark:x,...S}=t,E={...S};let R=v;if((p==="dark"&&!("dark"in t)||p==="light"&&!("light"in t))&&(R=!0),!R)throw new Error(ms(21,p));const A=Fg(E,R,u,p);y&&!E.light&&Fg(E,y,void 0,"light"),x&&!E.dark&&Fg(E,x,void 0,"dark");let L={defaultColorScheme:p,...A,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:d,getCssVar:g,colorSchemes:E,font:{...oN(A.typography),...A.font},spacing:CN(u.spacing)};Object.keys(L.colorSchemes).forEach(_=>{const w=L.colorSchemes[_].palette,B=j=>{const z=j.split("-"),q=z[1],K=z[2];return g(j,w[q][K])};if(w.mode==="light"&&(fe(w.common,"background","#fff"),fe(w.common,"onBackground","#000")),w.mode==="dark"&&(fe(w.common,"background","#000"),fe(w.common,"onBackground","#fff")),AN(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){fe(w.Alert,"errorColor",Ht(w.error.light,.6)),fe(w.Alert,"infoColor",Ht(w.info.light,.6)),fe(w.Alert,"successColor",Ht(w.success.light,.6)),fe(w.Alert,"warningColor",Ht(w.warning.light,.6)),fe(w.Alert,"errorFilledBg",B("palette-error-main")),fe(w.Alert,"infoFilledBg",B("palette-info-main")),fe(w.Alert,"successFilledBg",B("palette-success-main")),fe(w.Alert,"warningFilledBg",B("palette-warning-main")),fe(w.Alert,"errorFilledColor",Ei(()=>w.getContrastText(w.error.main))),fe(w.Alert,"infoFilledColor",Ei(()=>w.getContrastText(w.info.main))),fe(w.Alert,"successFilledColor",Ei(()=>w.getContrastText(w.success.main))),fe(w.Alert,"warningFilledColor",Ei(()=>w.getContrastText(w.warning.main))),fe(w.Alert,"errorStandardBg",Vt(w.error.light,.9)),fe(w.Alert,"infoStandardBg",Vt(w.info.light,.9)),fe(w.Alert,"successStandardBg",Vt(w.success.light,.9)),fe(w.Alert,"warningStandardBg",Vt(w.warning.light,.9)),fe(w.Alert,"errorIconColor",B("palette-error-main")),fe(w.Alert,"infoIconColor",B("palette-info-main")),fe(w.Alert,"successIconColor",B("palette-success-main")),fe(w.Alert,"warningIconColor",B("palette-warning-main")),fe(w.AppBar,"defaultBg",B("palette-grey-100")),fe(w.Avatar,"defaultBg",B("palette-grey-400")),fe(w.Button,"inheritContainedBg",B("palette-grey-300")),fe(w.Button,"inheritContainedHoverBg",B("palette-grey-A100")),fe(w.Chip,"defaultBorder",B("palette-grey-400")),fe(w.Chip,"defaultAvatarColor",B("palette-grey-700")),fe(w.Chip,"defaultIconColor",B("palette-grey-700")),fe(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),fe(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),fe(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),fe(w.LinearProgress,"primaryBg",Vt(w.primary.main,.62)),fe(w.LinearProgress,"secondaryBg",Vt(w.secondary.main,.62)),fe(w.LinearProgress,"errorBg",Vt(w.error.main,.62)),fe(w.LinearProgress,"infoBg",Vt(w.info.main,.62)),fe(w.LinearProgress,"successBg",Vt(w.success.main,.62)),fe(w.LinearProgress,"warningBg",Vt(w.warning.main,.62)),fe(w.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.11)`),fe(w.Slider,"primaryTrack",Vt(w.primary.main,.62)),fe(w.Slider,"secondaryTrack",Vt(w.secondary.main,.62)),fe(w.Slider,"errorTrack",Vt(w.error.main,.62)),fe(w.Slider,"infoTrack",Vt(w.info.main,.62)),fe(w.Slider,"successTrack",Vt(w.success.main,.62)),fe(w.Slider,"warningTrack",Vt(w.warning.main,.62));const j=ef(w.background.default,.8);fe(w.SnackbarContent,"bg",j),fe(w.SnackbarContent,"color",Ei(()=>w.getContrastText(j))),fe(w.SpeedDialAction,"fabHoverBg",ef(w.background.paper,.15)),fe(w.StepConnector,"border",B("palette-grey-400")),fe(w.StepContent,"border",B("palette-grey-400")),fe(w.Switch,"defaultColor",B("palette-common-white")),fe(w.Switch,"defaultDisabledColor",B("palette-grey-100")),fe(w.Switch,"primaryDisabledColor",Vt(w.primary.main,.62)),fe(w.Switch,"secondaryDisabledColor",Vt(w.secondary.main,.62)),fe(w.Switch,"errorDisabledColor",Vt(w.error.main,.62)),fe(w.Switch,"infoDisabledColor",Vt(w.info.main,.62)),fe(w.Switch,"successDisabledColor",Vt(w.success.main,.62)),fe(w.Switch,"warningDisabledColor",Vt(w.warning.main,.62)),fe(w.TableCell,"border",Vt(Jd(w.divider,1),.88)),fe(w.Tooltip,"bg",Jd(w.grey[700],.92))}if(w.mode==="dark"){fe(w.Alert,"errorColor",Vt(w.error.light,.6)),fe(w.Alert,"infoColor",Vt(w.info.light,.6)),fe(w.Alert,"successColor",Vt(w.success.light,.6)),fe(w.Alert,"warningColor",Vt(w.warning.light,.6)),fe(w.Alert,"errorFilledBg",B("palette-error-dark")),fe(w.Alert,"infoFilledBg",B("palette-info-dark")),fe(w.Alert,"successFilledBg",B("palette-success-dark")),fe(w.Alert,"warningFilledBg",B("palette-warning-dark")),fe(w.Alert,"errorFilledColor",Ei(()=>w.getContrastText(w.error.dark))),fe(w.Alert,"infoFilledColor",Ei(()=>w.getContrastText(w.info.dark))),fe(w.Alert,"successFilledColor",Ei(()=>w.getContrastText(w.success.dark))),fe(w.Alert,"warningFilledColor",Ei(()=>w.getContrastText(w.warning.dark))),fe(w.Alert,"errorStandardBg",Ht(w.error.light,.9)),fe(w.Alert,"infoStandardBg",Ht(w.info.light,.9)),fe(w.Alert,"successStandardBg",Ht(w.success.light,.9)),fe(w.Alert,"warningStandardBg",Ht(w.warning.light,.9)),fe(w.Alert,"errorIconColor",B("palette-error-main")),fe(w.Alert,"infoIconColor",B("palette-info-main")),fe(w.Alert,"successIconColor",B("palette-success-main")),fe(w.Alert,"warningIconColor",B("palette-warning-main")),fe(w.AppBar,"defaultBg",B("palette-grey-900")),fe(w.AppBar,"darkBg",B("palette-background-paper")),fe(w.AppBar,"darkColor",B("palette-text-primary")),fe(w.Avatar,"defaultBg",B("palette-grey-600")),fe(w.Button,"inheritContainedBg",B("palette-grey-800")),fe(w.Button,"inheritContainedHoverBg",B("palette-grey-700")),fe(w.Chip,"defaultBorder",B("palette-grey-700")),fe(w.Chip,"defaultAvatarColor",B("palette-grey-300")),fe(w.Chip,"defaultIconColor",B("palette-grey-300")),fe(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),fe(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),fe(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),fe(w.LinearProgress,"primaryBg",Ht(w.primary.main,.5)),fe(w.LinearProgress,"secondaryBg",Ht(w.secondary.main,.5)),fe(w.LinearProgress,"errorBg",Ht(w.error.main,.5)),fe(w.LinearProgress,"infoBg",Ht(w.info.main,.5)),fe(w.LinearProgress,"successBg",Ht(w.success.main,.5)),fe(w.LinearProgress,"warningBg",Ht(w.warning.main,.5)),fe(w.Skeleton,"bg",`rgba(${B("palette-text-primaryChannel")} / 0.13)`),fe(w.Slider,"primaryTrack",Ht(w.primary.main,.5)),fe(w.Slider,"secondaryTrack",Ht(w.secondary.main,.5)),fe(w.Slider,"errorTrack",Ht(w.error.main,.5)),fe(w.Slider,"infoTrack",Ht(w.info.main,.5)),fe(w.Slider,"successTrack",Ht(w.success.main,.5)),fe(w.Slider,"warningTrack",Ht(w.warning.main,.5));const j=ef(w.background.default,.98);fe(w.SnackbarContent,"bg",j),fe(w.SnackbarContent,"color",Ei(()=>w.getContrastText(j))),fe(w.SpeedDialAction,"fabHoverBg",ef(w.background.paper,.15)),fe(w.StepConnector,"border",B("palette-grey-600")),fe(w.StepContent,"border",B("palette-grey-600")),fe(w.Switch,"defaultColor",B("palette-grey-300")),fe(w.Switch,"defaultDisabledColor",B("palette-grey-600")),fe(w.Switch,"primaryDisabledColor",Ht(w.primary.main,.55)),fe(w.Switch,"secondaryDisabledColor",Ht(w.secondary.main,.55)),fe(w.Switch,"errorDisabledColor",Ht(w.error.main,.55)),fe(w.Switch,"infoDisabledColor",Ht(w.info.main,.55)),fe(w.Switch,"successDisabledColor",Ht(w.success.main,.55)),fe(w.Switch,"warningDisabledColor",Ht(w.warning.main,.55)),fe(w.TableCell,"border",Ht(Jd(w.divider,1),.68)),fe(w.Tooltip,"bg",Jd(w.grey[700],.92))}rs(w.background,"default"),rs(w.background,"paper"),rs(w.common,"background"),rs(w.common,"onBackground"),rs(w,"divider"),Object.keys(w).forEach(j=>{const z=w[j];j!=="tonalOffset"&&z&&typeof z=="object"&&(z.main&&fe(w[j],"mainChannel",Hc(Vc(z.main))),z.light&&fe(w[j],"lightChannel",Hc(Vc(z.light))),z.dark&&fe(w[j],"darkChannel",Hc(Vc(z.dark))),z.contrastText&&fe(w[j],"contrastTextChannel",Hc(Vc(z.contrastText))),j==="text"&&(rs(w[j],"primary"),rs(w[j],"secondary")),j==="action"&&(z.active&&rs(w[j],"active"),z.selected&&rs(w[j],"selected")))})}),L=e.reduce((_,w)=>Nn(_,w),L);const I={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:o,getSelector:TN(L)},{vars:M,generateThemeVars:P,generateStyleSheets:k}=AM(L,I);return L.vars=M,Object.entries(L.colorSchemes[L.defaultColorScheme]).forEach(([_,w])=>{L[_]=w}),L.generateThemeVars=P,L.generateStyleSheets=k,L.generateSpacing=function(){return hR(u.spacing,Fh(this))},L.getColorSchemeSelector=CM(c),L.spacing=L.generateSpacing(),L.shouldSkipGeneratingVar=o,L.unstable_sxConfig={..._u,...u?.unstable_sxConfig},L.unstable_sx=function(w){return ea({sx:w,theme:this})},L.toRuntimeSource=OR,L}function BT(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:ov({...t===!0?{}:t.palette,mode:e})})}function ku(n={},...e){const{palette:t,cssVariables:r=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...o}=n,c=s||"light",d=i?.[c],u={...i,...t?{[c]:{...typeof d!="boolean"&&d,palette:t}}:void 0};if(r===!1){if(!("colorSchemes"in n))return j0(n,...e);let h=t;"palette"in n||u[c]&&(u[c]!==!0?h=u[c].palette:c==="dark"&&(h={mode:"dark"}));const p=j0({...n,palette:h},...e);return p.defaultColorScheme=c,p.colorSchemes=u,p.palette.mode==="light"&&(p.colorSchemes.light={...u.light!==!0&&u.light,palette:p.palette},BT(p,"dark",u.dark)),p.palette.mode==="dark"&&(p.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:p.palette},BT(p,"light",u.light)),p}return!t&&!("light"in u)&&c==="light"&&(u.light=!0),wN({...o,colorSchemes:u,defaultColorScheme:c,...typeof r!="boolean"&&r},...e)}const lv=ku();function hi(){const n=Ou(lv);return n[oi]||n}function Mu(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Qr=n=>Mu(n)&&n!=="classes",de=xR({themeId:oi,defaultTheme:lv,rootShouldForwardProp:Qr});function LN({theme:n,...e}){const t=oi in n?n[oi]:void 0;return T.jsx(wR,{...e,themeId:t?oi:void 0,theme:t||n})}const tf={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:IN}=bM({themeId:oi,theme:()=>ku({cssVariables:!0}),colorSchemeStorageKey:tf.colorSchemeStorageKey,modeStorageKey:tf.modeStorageKey,defaultColorScheme:{light:tf.defaultLightColorScheme,dark:tf.defaultDarkColorScheme},resolveTheme:n=>{const e={...n,typography:PR(n.palette,n.typography)};return e.unstable_sx=function(r){return ea({sx:r,theme:this})},e}}),DN=IN;function NR({theme:n,...e}){const t=D.useMemo(()=>{if(typeof n=="function")return n;const r=oi in n?n[oi]:n;return"colorSchemes"in r?null:"vars"in r?n:{...n,vars:null}},[n]);return t?T.jsx(LN,{theme:t,...e}):T.jsx(DN,{theme:n,...e})}function $T(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function PN(n){return T.jsx(pR,{...n,defaultTheme:lv,themeId:oi})}function cv(n){return function(t){return T.jsx(PN,{styles:typeof n=="function"?r=>n({theme:r,...t}):n})}}function _N(){return Kh}const We=fM;function Ke(n){return lM(n)}function ON(n){return He("MuiSvgIcon",n)}qe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const kN=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${he(e)}`,`fontSize${he(t)}`]};return Ve(i,ON,r)},MN=de("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${he(t.color)}`],e[`fontSize${he(t.fontSize)}`]]}})(We(({theme:n})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:n.transitions?.create?.("fill",{duration:(n.vars??n).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:n.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:n.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:n.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(n.vars??n).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(n.vars??n).palette?.action?.active}},{props:{color:"disabled"},style:{color:(n.vars??n).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),nh=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:c="svg",fontSize:d="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:p,viewBox:g="0 0 24 24",...v}=r,y=D.isValidElement(i)&&i.type==="svg",x={...r,color:o,component:c,fontSize:d,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:g,hasSvgAsChild:y},S={};h||(S.viewBox=g);const E=kN(x);return T.jsxs(MN,{as:c,className:Re(E.root,s),focusable:"false",color:u,"aria-hidden":p?void 0:!0,role:p?"img":void 0,ref:t,...S,...v,...y&&i.props,ownerState:x,children:[y?i.props.children:i,p?T.jsx("title",{children:p}):null]})});nh.muiName="SvgIcon";function Qe(n,e){function t(r,i){return T.jsx(nh,{"data-testid":void 0,ref:i,...r,children:n})}return t.muiName=nh.muiName,D.memo(D.forwardRef(t))}function BR(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function jn(n){return n&&n.ownerDocument||document}function gs(n){return jn(n).defaultView||window}function FT(n,e){typeof n=="function"?n(e):n&&(n.current=e)}function fl(n){const{controlled:e,default:t,name:r,state:i="value"}=n,{current:s}=D.useRef(e!==void 0),[o,c]=D.useState(t),d=s?e:o,u=D.useCallback(h=>{s||c(h)},[]);return[d,u]}function Hr(n){const e=D.useRef(n);return pr(()=>{e.current=n}),D.useRef((...t)=>(0,e.current)(...t)).current}function ln(...n){const e=D.useRef(void 0),t=D.useCallback(r=>{const i=n.map(s=>{if(s==null)return null;if(typeof s=="function"){const o=s,c=o(r);return typeof c=="function"?c:()=>{o(null)}}return s.current=r,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},n);return D.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function NN(n,e){const t=n.charCodeAt(2);return n[0]==="o"&&n[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function BN(n,e){if(!n)return e;function t(o,c){const d={};return Object.keys(c).forEach(u=>{NN(u,c[u])&&typeof o[u]=="function"&&(d[u]=(...h)=>{o[u](...h),c[u](...h)})}),d}if(typeof n=="function"||typeof e=="function")return o=>{const c=typeof e=="function"?e(o):e,d=typeof n=="function"?n({...o,...c}):n,u=Re(o?.className,c?.className,d?.className),h=t(d,c);return{...c,...d,...h,...!!u&&{className:u},...c?.style&&d?.style&&{style:{...c.style,...d.style}},...c?.sx&&d?.sx&&{sx:[...Array.isArray(c.sx)?c.sx:[c.sx],...Array.isArray(d.sx)?d.sx:[d.sx]]}}};const r=e,i=t(n,r),s=Re(r?.className,n?.className);return{...e,...n,...i,...!!s&&{className:s},...r?.style&&n?.style&&{style:{...r.style,...n.style}},...r?.sx&&n?.sx&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(n.sx)?n.sx:[n.sx]]}}}function $R(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function G0(n,e){return G0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},G0(n,e)}function FR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,G0(n,e)}const UT={disabled:!1},rh=gt.createContext(null);var $N=function(e){return e.scrollTop},Kc="unmounted",Pa="exited",_a="entering",Qo="entered",H0="exiting",pi=function(n){FR(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=i,c=o&&!o.isMounting?r.enter:r.appear,d;return s.appearStatus=null,r.in?c?(d=Pa,s.appearStatus=_a):d=Qo:r.unmountOnExit||r.mountOnEnter?d=Kc:d=Pa,s.state={status:d},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Kc?{status:Pa}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==_a&&o!==Qo&&(s=_a):(o===_a||o===Qo)&&(s=H0)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,o,c;return s=o=c=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,c=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:c}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===_a){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Qd.findDOMNode(this);o&&$N(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pa&&this.setState({status:Kc})},t.performEnter=function(i){var s=this,o=this.props.enter,c=this.context?this.context.isMounting:i,d=this.props.nodeRef?[c]:[Qd.findDOMNode(this),c],u=d[0],h=d[1],p=this.getTimeouts(),g=c?p.appear:p.enter;if(!i&&!o||UT.disabled){this.safeSetState({status:Qo},function(){s.props.onEntered(u)});return}this.props.onEnter(u,h),this.safeSetState({status:_a},function(){s.props.onEntering(u,h),s.onTransitionEnd(g,function(){s.safeSetState({status:Qo},function(){s.props.onEntered(u,h)})})})},t.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),c=this.props.nodeRef?void 0:Qd.findDOMNode(this);if(!s||UT.disabled){this.safeSetState({status:Pa},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:H0},function(){i.props.onExiting(c),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Pa},function(){i.props.onExited(c)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(c){o&&(o=!1,s.nextCallback=null,i(c))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Qd.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!o||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=d[0],h=d[1];this.props.addEndListener(u,h)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===Kc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=$R(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gt.createElement(rh.Provider,{value:null},typeof o=="function"?o(i,c):gt.cloneElement(gt.Children.only(o),c))},e}(gt.Component);pi.contextType=rh;pi.propTypes={};function Vo(){}pi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Vo,onEntering:Vo,onEntered:Vo,onExit:Vo,onExiting:Vo,onExited:Vo};pi.UNMOUNTED=Kc;pi.EXITED=Pa;pi.ENTERING=_a;pi.ENTERED=Qo;pi.EXITING=H0;function FN(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function uv(n,e){var t=function(s){return e&&D.isValidElement(s)?e(s):s},r=Object.create(null);return n&&D.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function UN(n,e){n=n||{},e=e||{};function t(h){return h in e?e[h]:n[h]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,c={};for(var d in e){if(r[d])for(o=0;o<r[d].length;o++){var u=r[d][o];c[r[d][o]]=t(u)}c[d]=t(d)}for(o=0;o<i.length;o++)c[i[o]]=t(i[o]);return c}function $a(n,e,t){return t[e]!=null?t[e]:n.props[e]}function jN(n,e){return uv(n.children,function(t){return D.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:$a(t,"appear",n),enter:$a(t,"enter",n),exit:$a(t,"exit",n)})})}function zN(n,e,t){var r=uv(n.children),i=UN(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(D.isValidElement(o)){var c=s in e,d=s in r,u=e[s],h=D.isValidElement(u)&&!u.props.in;d&&(!c||h)?i[s]=D.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:$a(o,"exit",n),enter:$a(o,"enter",n)}):!d&&c&&!h?i[s]=D.cloneElement(o,{in:!1}):d&&c&&D.isValidElement(u)&&(i[s]=D.cloneElement(o,{onExited:t.bind(null,o),in:u.props.in,exit:$a(o,"exit",n),enter:$a(o,"enter",n)}))}}),i}var GN=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},HN={component:"div",childFactory:function(e){return e}},dv=function(n){FR(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(FN(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,c=s.handleExited,d=s.firstRender;return{children:d?jN(i,c):zN(i,o,c),firstRender:!1}},t.handleExited=function(i,s){var o=uv(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(c){var d=Zf({},c.children);return delete d[i.key],{children:d}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,c=$R(i,["component","childFactory"]),d=this.state.contextValue,u=GN(this.state.children).map(o);return delete c.appear,delete c.enter,delete c.exit,s===null?gt.createElement(rh.Provider,{value:d},u):gt.createElement(rh.Provider,{value:d},gt.createElement(s,c,u))},e}(gt.Component);dv.propTypes={};dv.defaultProps=HN;const jT={};function UR(n,e){const t=D.useRef(jT);return t.current===jT&&(t.current=n(e)),t}const VN=[];function KN(n){D.useEffect(n,VN)}class Yh{static create(){return new Yh}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Fa(){const n=UR(Yh.create).current;return KN(n.disposeEffect),n}const jR=n=>n.scrollTop;function hl(n,e){const{timeout:t,easing:r,style:i={}}=n;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[e.mode]:r),delay:i.transitionDelay}}function WN(n){return He("MuiCollapse",n)}qe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const qN=n=>{const{orientation:e,classes:t}=n,r={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Ve(r,WN,t)},YN=de("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(We(({theme:n})=>({height:0,overflow:"hidden",transition:n.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:n.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),XN=de("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),QN=de("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),ih=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:o,collapsedSize:c="0px",component:d,easing:u,in:h,onEnter:p,onEntered:g,onEntering:v,onExit:y,onExited:x,onExiting:S,orientation:E="vertical",style:R,timeout:A=_R.standard,TransitionComponent:L=pi,...I}=r,M={...r,orientation:E,collapsedSize:c},P=qN(M),k=hi(),_=Fa(),w=D.useRef(null),B=D.useRef(),j=typeof c=="number"?`${c}px`:c,z=E==="horizontal",q=z?"width":"height",K=D.useRef(null),$=ln(t,K),W=V=>oe=>{if(V){const me=K.current;oe===void 0?V(me):V(me,oe)}},G=()=>w.current?w.current[z?"clientWidth":"clientHeight"]:0,Y=W((V,oe)=>{w.current&&z&&(w.current.style.position="absolute"),V.style[q]=j,p&&p(V,oe)}),F=W((V,oe)=>{const me=G();w.current&&z&&(w.current.style.position="");const{duration:we,easing:Te}=hl({style:R,timeout:A,easing:u},{mode:"enter"});if(A==="auto"){const Pe=k.transitions.getAutoHeightDuration(me);V.style.transitionDuration=`${Pe}ms`,B.current=Pe}else V.style.transitionDuration=typeof we=="string"?we:`${we}ms`;V.style[q]=`${me}px`,V.style.transitionTimingFunction=Te,v&&v(V,oe)}),H=W((V,oe)=>{V.style[q]="auto",g&&g(V,oe)}),Q=W(V=>{V.style[q]=`${G()}px`,y&&y(V)}),ee=W(x),ce=W(V=>{const oe=G(),{duration:me,easing:we}=hl({style:R,timeout:A,easing:u},{mode:"exit"});if(A==="auto"){const Te=k.transitions.getAutoHeightDuration(oe);V.style.transitionDuration=`${Te}ms`,B.current=Te}else V.style.transitionDuration=typeof me=="string"?me:`${me}ms`;V.style[q]=j,V.style.transitionTimingFunction=we,S&&S(V)}),se=V=>{A==="auto"&&_.start(B.current||0,V),i&&i(K.current,V)};return T.jsx(L,{in:h,onEnter:Y,onEntered:H,onEntering:F,onExit:Q,onExited:ee,onExiting:ce,addEndListener:se,nodeRef:K,timeout:A==="auto"?null:A,...I,children:(V,{ownerState:oe,...me})=>T.jsx(YN,{as:d,className:Re(P.root,o,{entered:P.entered,exited:!h&&j==="0px"&&P.hidden}[V]),style:{[z?"minWidth":"minHeight"]:j,...R},ref:$,ownerState:{...M,state:V},...me,children:T.jsx(XN,{ownerState:{...M,state:V},className:P.wrapper,ref:w,children:T.jsx(QN,{ownerState:{...M,state:V},className:P.wrapperInner,children:s})})})})});ih&&(ih.muiSupportAuto=!0);function ZN(n){return He("MuiPaper",n)}qe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const JN=n=>{const{square:e,elevation:t,variant:r,classes:i}=n,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${t}`]};return Ve(s,ZN,i)},eB=de("div",{name:"MuiPaper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(We(({theme:n})=>({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:n.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(n.vars||n).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Wn=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiPaper"}),i=hi(),{className:s,component:o="div",elevation:c=1,square:d=!1,variant:u="elevation",...h}=r,p={...r,component:o,elevation:c,square:d,variant:u},g=JN(p);return T.jsx(eB,{as:o,ownerState:p,className:Re(g.root,s),ref:t,...h,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[c],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[c]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${ot("#fff",z0(c))}, ${ot("#fff",z0(c))})`}},...h.style}})});function tB(n){return typeof n=="string"}function zR(n,e,t){return n===void 0||tB(n)?e:{...e,ownerState:{...e.ownerState,...t}}}function GR(n,e,t){return typeof n=="function"?n(e,t):n}function Xc(n,e=[]){if(n===void 0)return{};const t={};return Object.keys(n).filter(r=>r.match(/^on[A-Z]/)&&typeof n[r]=="function"&&!e.includes(r)).forEach(r=>{t[r]=n[r]}),t}function zT(n){if(n===void 0)return{};const e={};return Object.keys(n).filter(t=>!(t.match(/^on[A-Z]/)&&typeof n[t]=="function")).forEach(t=>{e[t]=n[t]}),e}function HR(n){const{getSlotProps:e,additionalProps:t,externalSlotProps:r,externalForwardedProps:i,className:s}=n;if(!e){const v=Re(t?.className,s,i?.className,r?.className),y={...t?.style,...i?.style,...r?.style},x={...t,...i,...r};return v.length>0&&(x.className=v),Object.keys(y).length>0&&(x.style=y),{props:x,internalRef:void 0}}const o=Xc({...i,...r}),c=zT(r),d=zT(i),u=e(o),h=Re(u?.className,t?.className,s,i?.className,r?.className),p={...u?.style,...t?.style,...i?.style,...r?.style},g={...u,...t,...d,...c};return h.length>0&&(g.className=h),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:u.ref}}function Ze(n,e){const{className:t,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:o,shouldForwardComponentProp:c=!1,...d}=e,{component:u,slots:h={[n]:void 0},slotProps:p={[n]:void 0},...g}=s,v=h[n]||r,y=GR(p[n],i),{props:{component:x,...S},internalRef:E}=HR({className:t,...d,externalForwardedProps:n==="root"?g:void 0,externalSlotProps:y}),R=ln(E,y?.ref,e.ref),A=n==="root"?x||u:x,L=zR(v,{...n==="root"&&!u&&!h[n]&&o,...n!=="root"&&!h[n]&&o,...S,...A&&!c&&{as:A},...A&&c&&{component:A},ref:R},i);return[v,L]}function $i(n){try{return n.matches(":focus-visible")}catch{}return!1}class sh{static create(){return new sh}static use(){const e=UR(sh.create).current,[t,r]=D.useState(!1);return e.shouldMount=t,e.setShouldMount=r,D.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=rB(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function nB(){return sh.use()}function rB(){let n,e;const t=new Promise((r,i)=>{n=r,e=i});return t.resolve=n,t.reject=e,t}function iB(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:c,onExited:d,timeout:u}=n,[h,p]=D.useState(!1),g=Re(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),v={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},y=Re(t.child,h&&t.childLeaving,r&&t.childPulsate);return!c&&!h&&p(!0),D.useEffect(()=>{if(!c&&d!=null){const x=setTimeout(d,u);return()=>{clearTimeout(x)}}},[d,c,u]),T.jsx("span",{className:g,style:v,children:T.jsx("span",{className:y})})}const Ur=qe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),V0=550,sB=80,aB=Du`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,oB=Du`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,lB=Du`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,cB=de("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),uB=de(iB,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Ur.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${aB};
    animation-duration: ${V0}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  &.${Ur.ripplePulsate} {
    animation-duration: ${({theme:n})=>n.transitions.duration.shorter}ms;
  }

  & .${Ur.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Ur.childLeaving} {
    opacity: 0;
    animation-name: ${oB};
    animation-duration: ${V0}ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
  }

  & .${Ur.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${lB};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:n})=>n.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,dB=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o,...c}=r,[d,u]=D.useState([]),h=D.useRef(0),p=D.useRef(null);D.useEffect(()=>{p.current&&(p.current(),p.current=null)},[d]);const g=D.useRef(!1),v=Fa(),y=D.useRef(null),x=D.useRef(null),S=D.useCallback(L=>{const{pulsate:I,rippleX:M,rippleY:P,rippleSize:k,cb:_}=L;u(w=>[...w,T.jsx(uB,{classes:{ripple:Re(s.ripple,Ur.ripple),rippleVisible:Re(s.rippleVisible,Ur.rippleVisible),ripplePulsate:Re(s.ripplePulsate,Ur.ripplePulsate),child:Re(s.child,Ur.child),childLeaving:Re(s.childLeaving,Ur.childLeaving),childPulsate:Re(s.childPulsate,Ur.childPulsate)},timeout:V0,pulsate:I,rippleX:M,rippleY:P,rippleSize:k},h.current)]),h.current+=1,p.current=_},[s]),E=D.useCallback((L={},I={},M=()=>{})=>{const{pulsate:P=!1,center:k=i||I.pulsate,fakeElement:_=!1}=I;if(L?.type==="mousedown"&&g.current){g.current=!1;return}L?.type==="touchstart"&&(g.current=!0);const w=_?null:x.current,B=w?w.getBoundingClientRect():{width:0,height:0,left:0,top:0};let j,z,q;if(k||L===void 0||L.clientX===0&&L.clientY===0||!L.clientX&&!L.touches)j=Math.round(B.width/2),z=Math.round(B.height/2);else{const{clientX:K,clientY:$}=L.touches&&L.touches.length>0?L.touches[0]:L;j=Math.round(K-B.left),z=Math.round($-B.top)}if(k)q=Math.sqrt((2*B.width**2+B.height**2)/3),q%2===0&&(q+=1);else{const K=Math.max(Math.abs((w?w.clientWidth:0)-j),j)*2+2,$=Math.max(Math.abs((w?w.clientHeight:0)-z),z)*2+2;q=Math.sqrt(K**2+$**2)}L?.touches?y.current===null&&(y.current=()=>{S({pulsate:P,rippleX:j,rippleY:z,rippleSize:q,cb:M})},v.start(sB,()=>{y.current&&(y.current(),y.current=null)})):S({pulsate:P,rippleX:j,rippleY:z,rippleSize:q,cb:M})},[i,S,v]),R=D.useCallback(()=>{E({},{pulsate:!0})},[E]),A=D.useCallback((L,I)=>{if(v.clear(),L?.type==="touchend"&&y.current){y.current(),y.current=null,v.start(0,()=>{A(L,I)});return}y.current=null,u(M=>M.length>0?M.slice(1):M),p.current=I},[v]);return D.useImperativeHandle(t,()=>({pulsate:R,start:E,stop:A}),[R,E,A]),T.jsx(cB,{className:Re(Ur.root,s.root,o),ref:x,...c,children:T.jsx(dv,{component:null,exit:!0,children:d})})});function fB(n){return He("MuiButtonBase",n)}const hB=qe("MuiButtonBase",["root","disabled","focusVisible"]),pB=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=Ve({root:["root",e&&"disabled",t&&"focusVisible"]},fB,i);return t&&r&&(o.root+=` ${r}`),o},mB=de("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hB.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),qa=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:c,component:d="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:g=!1,focusVisibleClassName:v,LinkComponent:y="a",onBlur:x,onClick:S,onContextMenu:E,onDragLeave:R,onFocus:A,onFocusVisible:L,onKeyDown:I,onKeyUp:M,onMouseDown:P,onMouseLeave:k,onMouseUp:_,onTouchEnd:w,onTouchMove:B,onTouchStart:j,tabIndex:z=0,TouchRippleProps:q,touchRippleRef:K,type:$,...W}=r,G=D.useRef(null),Y=nB(),F=ln(Y.ref,K),[H,Q]=D.useState(!1);u&&H&&Q(!1),D.useImperativeHandle(i,()=>({focusVisible:()=>{Q(!0),G.current.focus()}}),[]);const ee=Y.shouldMount&&!h&&!u;D.useEffect(()=>{H&&g&&!h&&Y.pulsate()},[h,g,H,Y]);const ce=is(Y,"start",P,p),se=is(Y,"stop",E,p),V=is(Y,"stop",R,p),oe=is(Y,"stop",_,p),me=is(Y,"stop",Se=>{H&&Se.preventDefault(),k&&k(Se)},p),we=is(Y,"start",j,p),Te=is(Y,"stop",w,p),Pe=is(Y,"stop",B,p),ke=is(Y,"stop",Se=>{$i(Se.target)||Q(!1),x&&x(Se)},!1),Be=Hr(Se=>{G.current||(G.current=Se.currentTarget),$i(Se.target)&&(Q(!0),L&&L(Se)),A&&A(Se)}),Me=()=>{const Se=G.current;return d&&d!=="button"&&!(Se.tagName==="A"&&Se.href)},ct=Hr(Se=>{g&&!Se.repeat&&H&&Se.key===" "&&Y.stop(Se,()=>{Y.start(Se)}),Se.target===Se.currentTarget&&Me()&&Se.key===" "&&Se.preventDefault(),I&&I(Se),Se.target===Se.currentTarget&&Me()&&Se.key==="Enter"&&!u&&(Se.preventDefault(),S&&S(Se))}),Ue=Hr(Se=>{g&&Se.key===" "&&H&&!Se.defaultPrevented&&Y.stop(Se,()=>{Y.pulsate(Se)}),M&&M(Se),S&&Se.target===Se.currentTarget&&Me()&&Se.key===" "&&!Se.defaultPrevented&&S(Se)});let Oe=d;Oe==="button"&&(W.href||W.to)&&(Oe=y);const et={};Oe==="button"?(et.type=$===void 0?"button":$,et.disabled=u):(!W.href&&!W.to&&(et.role="button"),u&&(et["aria-disabled"]=u));const at=ln(t,G),Je={...r,centerRipple:s,component:d,disabled:u,disableRipple:h,disableTouchRipple:p,focusRipple:g,tabIndex:z,focusVisible:H},De=pB(Je);return T.jsxs(mB,{as:Oe,className:Re(De.root,c),ownerState:Je,onBlur:ke,onClick:S,onContextMenu:se,onFocus:Be,onKeyDown:ct,onKeyUp:Ue,onMouseDown:ce,onMouseLeave:me,onMouseUp:oe,onDragLeave:V,onTouchEnd:Te,onTouchMove:Pe,onTouchStart:we,ref:at,tabIndex:u?-1:z,type:$,...et,...W,children:[o,ee?T.jsx(dB,{ref:F,center:s,...q}):null]})});function is(n,e,t,r=!1){return Hr(i=>(t&&t(i),r||n[e](i),!0))}function gB(n){return typeof n.main=="string"}function yB(n,e=[]){if(!gB(n))return!1;for(const t of e)if(!n.hasOwnProperty(t)||typeof n[t]!="string")return!1;return!0}function tn(n=[]){return([,e])=>e&&yB(e,n)}function vB(n){return He("MuiAlert",n)}const GT=qe("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function xB(n){return He("MuiCircularProgress",n)}qe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Hs=44,K0=Du`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,W0=Du`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,bB=typeof K0!="string"?Qy`
        animation: ${K0} 1.4s linear infinite;
      `:null,SB=typeof W0!="string"?Qy`
        animation: ${W0} 1.4s ease-in-out infinite;
      `:null,EB=n=>{const{classes:e,variant:t,color:r,disableShrink:i}=n,s={root:["root",t,`color${he(r)}`],svg:["svg"],circle:["circle",`circle${he(t)}`,i&&"circleDisableShrink"]};return Ve(s,xB,e)},TB=de("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`color${he(t.color)}`]]}})(We(({theme:n})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("transform")}},{props:{variant:"indeterminate"},style:bB||{animation:`${K0} 1.4s linear infinite`}},...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}}))]}))),AB=de("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),CB=de("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.circle,e[`circle${he(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(We(({theme:n})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:n.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:SB||{animation:`${W0} 1.4s ease-in-out infinite`}}]}))),Kr=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:c=40,style:d,thickness:u=3.6,value:h=0,variant:p="indeterminate",...g}=r,v={...r,color:s,disableShrink:o,size:c,thickness:u,value:h,variant:p},y=EB(v),x={},S={},E={};if(p==="determinate"){const R=2*Math.PI*((Hs-u)/2);x.strokeDasharray=R.toFixed(3),E["aria-valuenow"]=Math.round(h),x.strokeDashoffset=`${((100-h)/100*R).toFixed(3)}px`,S.transform="rotate(-90deg)"}return T.jsx(TB,{className:Re(y.root,i),style:{width:c,height:c,...S,...d},ownerState:v,ref:t,role:"progressbar",...E,...g,children:T.jsx(AB,{className:y.svg,ownerState:v,viewBox:`${Hs/2} ${Hs/2} ${Hs} ${Hs}`,children:T.jsx(CB,{className:y.circle,style:x,ownerState:v,cx:Hs,cy:Hs,r:(Hs-u)/2,fill:"none",strokeWidth:u})})})});function RB(n){return He("MuiIconButton",n)}const HT=qe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),wB=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s,loading:o}=n,c={root:["root",o&&"loading",t&&"disabled",r!=="default"&&`color${he(r)}`,i&&`edge${he(i)}`,`size${he(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Ve(c,RB,e)},LB=de(qa,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${he(t.color)}`],t.edge&&e[`edge${he(t.edge)}`],e[`size${he(t.size)}`]]}})(We(({theme:n})=>({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:ot(n.palette.action.active,n.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),We(({theme:n})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":n.vars?`rgba(${(n.vars||n).palette[e].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:ot((n.vars||n).palette[e].main,n.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:n.typography.pxToRem(28)}}],[`&.${HT.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled},[`&.${HT.loading}`]:{color:"transparent"}}))),IB=de("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(n.vars||n).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),an=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:c="default",disabled:d=!1,disableFocusRipple:u=!1,size:h="medium",id:p,loading:g=null,loadingIndicator:v,...y}=r,x=vs(p),S=v??T.jsx(Kr,{"aria-labelledby":x,color:"inherit",size:16}),E={...r,edge:i,color:c,disabled:d,disableFocusRipple:u,loading:g,loadingIndicator:S,size:h},R=wB(E);return T.jsxs(LB,{id:g?x:p,className:Re(R.root,o),centerRipple:!0,focusRipple:!u,disabled:d||g,ref:t,...y,ownerState:E,children:[typeof g=="boolean"&&T.jsx("span",{className:R.loadingWrapper,style:{display:"contents"},children:T.jsx(IB,{className:R.loadingIndicator,ownerState:E,children:g&&S})}),s]})}),DB=Qe(T.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),PB=Qe(T.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),_B=Qe(T.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),OB=Qe(T.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),kB=Qe(T.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),MB=n=>{const{variant:e,color:t,severity:r,classes:i}=n,s={root:["root",`color${he(t||r)}`,`${e}${he(t||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Ve(s,vB,i)},NB=de(Wn,{name:"MuiAlert",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${he(t.color||t.severity)}`]]}})(We(({theme:n})=>{const e=n.palette.mode==="light"?Ka:Wa,t=n.palette.mode==="light"?Wa:Ka;return{...n.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(n.palette).filter(tn(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"standard"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:e(n.palette[r].light,.6),backgroundColor:n.vars?n.vars.palette.Alert[`${r}StandardBg`]:t(n.palette[r].light,.9),[`& .${GT.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(tn(["light"])).map(([r])=>({props:{colorSeverity:r,variant:"outlined"},style:{color:n.vars?n.vars.palette.Alert[`${r}Color`]:e(n.palette[r].light,.6),border:`1px solid ${(n.vars||n).palette[r].light}`,[`& .${GT.icon}`]:n.vars?{color:n.vars.palette.Alert[`${r}IconColor`]}:{color:n.palette[r].main}}})),...Object.entries(n.palette).filter(tn(["dark"])).map(([r])=>({props:{colorSeverity:r,variant:"filled"},style:{fontWeight:n.typography.fontWeightMedium,...n.vars?{color:n.vars.palette.Alert[`${r}FilledColor`],backgroundColor:n.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:n.palette.mode==="dark"?n.palette[r].dark:n.palette[r].main,color:n.palette.getContrastText(n.palette[r].main)}}}))]}})),BB=de("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),$B=de("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),FB=de("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),VT={success:T.jsx(DB,{fontSize:"inherit"}),warning:T.jsx(PB,{fontSize:"inherit"}),error:T.jsx(_B,{fontSize:"inherit"}),info:T.jsx(OB,{fontSize:"inherit"})},sa=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiAlert"}),{action:i,children:s,className:o,closeText:c="Close",color:d,components:u={},componentsProps:h={},icon:p,iconMapping:g=VT,onClose:v,role:y="alert",severity:x="success",slotProps:S={},slots:E={},variant:R="standard",...A}=r,L={...r,color:d,severity:x,variant:R,colorSeverity:d||x},I=MB(L),M={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...E},slotProps:{...h,...S}},[P,k]=Ze("root",{ref:t,shouldForwardComponentProp:!0,className:Re(I.root,o),elementType:NB,externalForwardedProps:{...M,...A},ownerState:L,additionalProps:{role:y,elevation:0}}),[_,w]=Ze("icon",{className:I.icon,elementType:BB,externalForwardedProps:M,ownerState:L}),[B,j]=Ze("message",{className:I.message,elementType:$B,externalForwardedProps:M,ownerState:L}),[z,q]=Ze("action",{className:I.action,elementType:FB,externalForwardedProps:M,ownerState:L}),[K,$]=Ze("closeButton",{elementType:an,externalForwardedProps:M,ownerState:L}),[W,G]=Ze("closeIcon",{elementType:kB,externalForwardedProps:M,ownerState:L});return T.jsxs(P,{...k,children:[p!==!1?T.jsx(_,{...w,children:p||g[x]||VT[x]}):null,T.jsx(B,{...j,children:s}),i!=null?T.jsx(z,{...q,children:i}):null,i==null&&v?T.jsx(z,{...q,children:T.jsx(K,{size:"small","aria-label":c,title:c,color:"inherit",onClick:v,...$,children:T.jsx(W,{fontSize:"small",...G})})}):null]})});function UB(n){return He("MuiTypography",n)}const KT=qe("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),jB={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},zB=_N(),GB=n=>{const{align:e,gutterBottom:t,noWrap:r,paragraph:i,variant:s,classes:o}=n,c={root:["root",s,n.align!=="inherit"&&`align${he(e)}`,t&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return Ve(c,UB,o)},HB=de("span",{name:"MuiTypography",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${he(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(We(({theme:n})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),...Object.entries(n.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${he(e)}`},style:{color:(n.vars||n).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),WT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ve=D.forwardRef(function(e,t){const{color:r,...i}=Ke({props:e,name:"MuiTypography"}),s=!jB[r],o=zB({...i,...s&&{color:r}}),{align:c="inherit",className:d,component:u,gutterBottom:h=!1,noWrap:p=!1,paragraph:g=!1,variant:v="body1",variantMapping:y=WT,...x}=o,S={...o,align:c,color:r,className:d,component:u,gutterBottom:h,noWrap:p,paragraph:g,variant:v,variantMapping:y},E=u||(g?"p":y[v]||WT[v])||"span",R=GB(S);return T.jsx(HB,{as:E,ref:t,className:Re(R.root,d),...x,ownerState:S,style:{...c!=="inherit"&&{"--Typography-textAlign":c},...x.style}})});function VB(n){return He("MuiAppBar",n)}qe("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const KB=n=>{const{color:e,position:t,classes:r}=n,i={root:["root",`color${he(e)}`,`position${he(t)}`]};return Ve(i,VB,r)},qT=(n,e)=>n?`${n?.replace(")","")}, ${e})`:e,WB=de(Wn,{name:"MuiAppBar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${he(t.position)}`],e[`color${he(t.color)}`]]}})(We(({theme:n})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(n.vars||n).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[100],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[100]),...n.applyStyles("dark",{"--AppBar-background":n.vars?n.vars.palette.AppBar.defaultBg:n.palette.grey[900],"--AppBar-color":n.vars?n.vars.palette.text.primary:n.palette.getContrastText(n.palette.grey[900])})}},...Object.entries(n.palette).filter(tn(["contrastText"])).map(([e])=>({props:{color:e},style:{"--AppBar-background":(n.vars??n).palette[e].main,"--AppBar-color":(n.vars??n).palette[e].contrastText}})),{props:e=>e.enableColorOnDark===!0&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>e.enableColorOnDark===!1&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundColor:n.vars?qT(n.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:n.vars?qT(n.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...n.applyStyles("dark",{backgroundImage:"none"})}}]}))),VR=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:c="fixed",...d}=r,u={...r,color:s,position:c,enableColorOnDark:o},h=KB(u);return T.jsx(WB,{square:!0,component:"header",ownerState:u,elevation:4,className:Re(h.root,i,c==="fixed"&&"mui-fixed"),ref:t,...d})}),KR=n=>{const e=D.useRef({});return D.useEffect(()=>{e.current=n}),e.current};var cr="top",Wr="bottom",qr="right",ur="left",fv="auto",Nu=[cr,Wr,qr,ur],pl="start",pu="end",qB="clippingParents",WR="viewport",Oc="popper",YB="reference",YT=Nu.reduce(function(n,e){return n.concat([e+"-"+pl,e+"-"+pu])},[]),qR=[].concat(Nu,[fv]).reduce(function(n,e){return n.concat([e,e+"-"+pl,e+"-"+pu])},[]),XB="beforeRead",QB="read",ZB="afterRead",JB="beforeMain",e$="main",t$="afterMain",n$="beforeWrite",r$="write",i$="afterWrite",s$=[XB,QB,ZB,JB,e$,t$,n$,r$,i$];function Fi(n){return n?(n.nodeName||"").toLowerCase():null}function Lr(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Ya(n){var e=Lr(n).Element;return n instanceof e||n instanceof Element}function Vr(n){var e=Lr(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function hv(n){if(typeof ShadowRoot>"u")return!1;var e=Lr(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function a$(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Vr(s)||!Fi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var c=i[o];c===!1?s.removeAttribute(o):s.setAttribute(o,c===!0?"":c)}))})}function o$(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),c=o.reduce(function(d,u){return d[u]="",d},{});!Vr(i)||!Fi(i)||(Object.assign(i.style,c),Object.keys(s).forEach(function(d){i.removeAttribute(d)}))})}}const l$={name:"applyStyles",enabled:!0,phase:"write",fn:a$,effect:o$,requires:["computeStyles"]};function Ni(n){return n.split("-")[0]}var za=Math.max,ah=Math.min,ml=Math.round;function q0(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function YR(){return!/^((?!chrome|android).)*safari/i.test(q0())}function gl(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,s=1;e&&Vr(n)&&(i=n.offsetWidth>0&&ml(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&ml(r.height)/n.offsetHeight||1);var o=Ya(n)?Lr(n):window,c=o.visualViewport,d=!YR()&&t,u=(r.left+(d&&c?c.offsetLeft:0))/i,h=(r.top+(d&&c?c.offsetTop:0))/s,p=r.width/i,g=r.height/s;return{width:p,height:g,top:h,right:u+p,bottom:h+g,left:u,x:u,y:h}}function pv(n){var e=gl(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function XR(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&hv(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ys(n){return Lr(n).getComputedStyle(n)}function c$(n){return["table","td","th"].indexOf(Fi(n))>=0}function aa(n){return((Ya(n)?n.ownerDocument:n.document)||window.document).documentElement}function Xh(n){return Fi(n)==="html"?n:n.assignedSlot||n.parentNode||(hv(n)?n.host:null)||aa(n)}function XT(n){return!Vr(n)||ys(n).position==="fixed"?null:n.offsetParent}function u$(n){var e=/firefox/i.test(q0()),t=/Trident/i.test(q0());if(t&&Vr(n)){var r=ys(n);if(r.position==="fixed")return null}var i=Xh(n);for(hv(i)&&(i=i.host);Vr(i)&&["html","body"].indexOf(Fi(i))<0;){var s=ys(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Bu(n){for(var e=Lr(n),t=XT(n);t&&c$(t)&&ys(t).position==="static";)t=XT(t);return t&&(Fi(t)==="html"||Fi(t)==="body"&&ys(t).position==="static")?e:t||u$(n)||e}function mv(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Qc(n,e,t){return za(n,ah(e,t))}function d$(n,e,t){var r=Qc(n,e,t);return r>t?t:r}function QR(){return{top:0,right:0,bottom:0,left:0}}function ZR(n){return Object.assign({},QR(),n)}function JR(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var f$=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,ZR(typeof e!="number"?e:JR(e,Nu))};function h$(n){var e,t=n.state,r=n.name,i=n.options,s=t.elements.arrow,o=t.modifiersData.popperOffsets,c=Ni(t.placement),d=mv(c),u=[ur,qr].indexOf(c)>=0,h=u?"height":"width";if(!(!s||!o)){var p=f$(i.padding,t),g=pv(s),v=d==="y"?cr:ur,y=d==="y"?Wr:qr,x=t.rects.reference[h]+t.rects.reference[d]-o[d]-t.rects.popper[h],S=o[d]-t.rects.reference[d],E=Bu(s),R=E?d==="y"?E.clientHeight||0:E.clientWidth||0:0,A=x/2-S/2,L=p[v],I=R-g[h]-p[y],M=R/2-g[h]/2+A,P=Qc(L,M,I),k=d;t.modifiersData[r]=(e={},e[k]=P,e.centerOffset=P-M,e)}}function p$(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||XR(e.elements.popper,i)&&(e.elements.arrow=i))}const m$={name:"arrow",enabled:!0,phase:"main",fn:h$,effect:p$,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function yl(n){return n.split("-")[1]}var g$={top:"auto",right:"auto",bottom:"auto",left:"auto"};function y$(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:ml(t*i)/i||0,y:ml(r*i)/i||0}}function QT(n){var e,t=n.popper,r=n.popperRect,i=n.placement,s=n.variation,o=n.offsets,c=n.position,d=n.gpuAcceleration,u=n.adaptive,h=n.roundOffsets,p=n.isFixed,g=o.x,v=g===void 0?0:g,y=o.y,x=y===void 0?0:y,S=typeof h=="function"?h({x:v,y:x}):{x:v,y:x};v=S.x,x=S.y;var E=o.hasOwnProperty("x"),R=o.hasOwnProperty("y"),A=ur,L=cr,I=window;if(u){var M=Bu(t),P="clientHeight",k="clientWidth";if(M===Lr(t)&&(M=aa(t),ys(M).position!=="static"&&c==="absolute"&&(P="scrollHeight",k="scrollWidth")),M=M,i===cr||(i===ur||i===qr)&&s===pu){L=Wr;var _=p&&M===I&&I.visualViewport?I.visualViewport.height:M[P];x-=_-r.height,x*=d?1:-1}if(i===ur||(i===cr||i===Wr)&&s===pu){A=qr;var w=p&&M===I&&I.visualViewport?I.visualViewport.width:M[k];v-=w-r.width,v*=d?1:-1}}var B=Object.assign({position:c},u&&g$),j=h===!0?y$({x:v,y:x},Lr(t)):{x:v,y:x};if(v=j.x,x=j.y,d){var z;return Object.assign({},B,(z={},z[L]=R?"0":"",z[A]=E?"0":"",z.transform=(I.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",z))}return Object.assign({},B,(e={},e[L]=R?x+"px":"",e[A]=E?v+"px":"",e.transform="",e))}function v$(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,s=t.adaptive,o=s===void 0?!0:s,c=t.roundOffsets,d=c===void 0?!0:c,u={placement:Ni(e.placement),variation:yl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QT(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QT(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const x$={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:v$,data:{}};var nf={passive:!0};function b$(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,c=o===void 0?!0:o,d=Lr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(h){h.addEventListener("scroll",t.update,nf)}),c&&d.addEventListener("resize",t.update,nf),function(){s&&u.forEach(function(h){h.removeEventListener("scroll",t.update,nf)}),c&&d.removeEventListener("resize",t.update,nf)}}const S$={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:b$,data:{}};var E$={left:"right",right:"left",bottom:"top",top:"bottom"};function Nf(n){return n.replace(/left|right|bottom|top/g,function(e){return E$[e]})}var T$={start:"end",end:"start"};function ZT(n){return n.replace(/start|end/g,function(e){return T$[e]})}function gv(n){var e=Lr(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function yv(n){return gl(aa(n)).left+gv(n).scrollLeft}function A$(n,e){var t=Lr(n),r=aa(n),i=t.visualViewport,s=r.clientWidth,o=r.clientHeight,c=0,d=0;if(i){s=i.width,o=i.height;var u=YR();(u||!u&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:s,height:o,x:c+yv(n),y:d}}function C$(n){var e,t=aa(n),r=gv(n),i=(e=n.ownerDocument)==null?void 0:e.body,s=za(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=za(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+yv(n),d=-r.scrollTop;return ys(i||t).direction==="rtl"&&(c+=za(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:c,y:d}}function vv(n){var e=ys(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function ew(n){return["html","body","#document"].indexOf(Fi(n))>=0?n.ownerDocument.body:Vr(n)&&vv(n)?n:ew(Xh(n))}function Zc(n,e){var t;e===void 0&&(e=[]);var r=ew(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),s=Lr(r),o=i?[s].concat(s.visualViewport||[],vv(r)?r:[]):r,c=e.concat(o);return i?c:c.concat(Zc(Xh(o)))}function Y0(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function R$(n,e){var t=gl(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function JT(n,e,t){return e===WR?Y0(A$(n,t)):Ya(e)?R$(e,t):Y0(C$(aa(n)))}function w$(n){var e=Zc(Xh(n)),t=["absolute","fixed"].indexOf(ys(n).position)>=0,r=t&&Vr(n)?Bu(n):n;return Ya(r)?e.filter(function(i){return Ya(i)&&XR(i,r)&&Fi(i)!=="body"}):[]}function L$(n,e,t,r){var i=e==="clippingParents"?w$(n):[].concat(e),s=[].concat(i,[t]),o=s[0],c=s.reduce(function(d,u){var h=JT(n,u,r);return d.top=za(h.top,d.top),d.right=ah(h.right,d.right),d.bottom=ah(h.bottom,d.bottom),d.left=za(h.left,d.left),d},JT(n,o,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function tw(n){var e=n.reference,t=n.element,r=n.placement,i=r?Ni(r):null,s=r?yl(r):null,o=e.x+e.width/2-t.width/2,c=e.y+e.height/2-t.height/2,d;switch(i){case cr:d={x:o,y:e.y-t.height};break;case Wr:d={x:o,y:e.y+e.height};break;case qr:d={x:e.x+e.width,y:c};break;case ur:d={x:e.x-t.width,y:c};break;default:d={x:e.x,y:e.y}}var u=i?mv(i):null;if(u!=null){var h=u==="y"?"height":"width";switch(s){case pl:d[u]=d[u]-(e[h]/2-t[h]/2);break;case pu:d[u]=d[u]+(e[h]/2-t[h]/2);break}}return d}function mu(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,s=t.strategy,o=s===void 0?n.strategy:s,c=t.boundary,d=c===void 0?qB:c,u=t.rootBoundary,h=u===void 0?WR:u,p=t.elementContext,g=p===void 0?Oc:p,v=t.altBoundary,y=v===void 0?!1:v,x=t.padding,S=x===void 0?0:x,E=ZR(typeof S!="number"?S:JR(S,Nu)),R=g===Oc?YB:Oc,A=n.rects.popper,L=n.elements[y?R:g],I=L$(Ya(L)?L:L.contextElement||aa(n.elements.popper),d,h,o),M=gl(n.elements.reference),P=tw({reference:M,element:A,placement:i}),k=Y0(Object.assign({},A,P)),_=g===Oc?k:M,w={top:I.top-_.top+E.top,bottom:_.bottom-I.bottom+E.bottom,left:I.left-_.left+E.left,right:_.right-I.right+E.right},B=n.modifiersData.offset;if(g===Oc&&B){var j=B[i];Object.keys(w).forEach(function(z){var q=[qr,Wr].indexOf(z)>=0?1:-1,K=[cr,Wr].indexOf(z)>=0?"y":"x";w[z]+=j[K]*q})}return w}function I$(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,s=t.rootBoundary,o=t.padding,c=t.flipVariations,d=t.allowedAutoPlacements,u=d===void 0?qR:d,h=yl(r),p=h?c?YT:YT.filter(function(y){return yl(y)===h}):Nu,g=p.filter(function(y){return u.indexOf(y)>=0});g.length===0&&(g=p);var v=g.reduce(function(y,x){return y[x]=mu(n,{placement:x,boundary:i,rootBoundary:s,padding:o})[Ni(x)],y},{});return Object.keys(v).sort(function(y,x){return v[y]-v[x]})}function D$(n){if(Ni(n)===fv)return[];var e=Nf(n);return[ZT(n),e,ZT(e)]}function P$(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,c=o===void 0?!0:o,d=t.fallbackPlacements,u=t.padding,h=t.boundary,p=t.rootBoundary,g=t.altBoundary,v=t.flipVariations,y=v===void 0?!0:v,x=t.allowedAutoPlacements,S=e.options.placement,E=Ni(S),R=E===S,A=d||(R||!y?[Nf(S)]:D$(S)),L=[S].concat(A).reduce(function(ce,se){return ce.concat(Ni(se)===fv?I$(e,{placement:se,boundary:h,rootBoundary:p,padding:u,flipVariations:y,allowedAutoPlacements:x}):se)},[]),I=e.rects.reference,M=e.rects.popper,P=new Map,k=!0,_=L[0],w=0;w<L.length;w++){var B=L[w],j=Ni(B),z=yl(B)===pl,q=[cr,Wr].indexOf(j)>=0,K=q?"width":"height",$=mu(e,{placement:B,boundary:h,rootBoundary:p,altBoundary:g,padding:u}),W=q?z?qr:ur:z?Wr:cr;I[K]>M[K]&&(W=Nf(W));var G=Nf(W),Y=[];if(s&&Y.push($[j]<=0),c&&Y.push($[W]<=0,$[G]<=0),Y.every(function(ce){return ce})){_=B,k=!1;break}P.set(B,Y)}if(k)for(var F=y?3:1,H=function(se){var V=L.find(function(oe){var me=P.get(oe);if(me)return me.slice(0,se).every(function(we){return we})});if(V)return _=V,"break"},Q=F;Q>0;Q--){var ee=H(Q);if(ee==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}const _$={name:"flip",enabled:!0,phase:"main",fn:P$,requiresIfExists:["offset"],data:{_skip:!1}};function e1(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function t1(n){return[cr,qr,Wr,ur].some(function(e){return n[e]>=0})}function O$(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=mu(e,{elementContext:"reference"}),c=mu(e,{altBoundary:!0}),d=e1(o,r),u=e1(c,i,s),h=t1(d),p=t1(u);e.modifiersData[t]={referenceClippingOffsets:d,popperEscapeOffsets:u,isReferenceHidden:h,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const k$={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:O$};function M$(n,e,t){var r=Ni(n),i=[ur,cr].indexOf(r)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=s[0],c=s[1];return o=o||0,c=(c||0)*i,[ur,qr].indexOf(r)>=0?{x:c,y:o}:{x:o,y:c}}function N$(n){var e=n.state,t=n.options,r=n.name,i=t.offset,s=i===void 0?[0,0]:i,o=qR.reduce(function(h,p){return h[p]=M$(p,e.rects,s),h},{}),c=o[e.placement],d=c.x,u=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const B$={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:N$};function $$(n){var e=n.state,t=n.name;e.modifiersData[t]=tw({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const F$={name:"popperOffsets",enabled:!0,phase:"read",fn:$$,data:{}};function U$(n){return n==="x"?"y":"x"}function j$(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,s=i===void 0?!0:i,o=t.altAxis,c=o===void 0?!1:o,d=t.boundary,u=t.rootBoundary,h=t.altBoundary,p=t.padding,g=t.tether,v=g===void 0?!0:g,y=t.tetherOffset,x=y===void 0?0:y,S=mu(e,{boundary:d,rootBoundary:u,padding:p,altBoundary:h}),E=Ni(e.placement),R=yl(e.placement),A=!R,L=mv(E),I=U$(L),M=e.modifiersData.popperOffsets,P=e.rects.reference,k=e.rects.popper,_=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,w=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),B=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(M){if(s){var z,q=L==="y"?cr:ur,K=L==="y"?Wr:qr,$=L==="y"?"height":"width",W=M[L],G=W+S[q],Y=W-S[K],F=v?-k[$]/2:0,H=R===pl?P[$]:k[$],Q=R===pl?-k[$]:-P[$],ee=e.elements.arrow,ce=v&&ee?pv(ee):{width:0,height:0},se=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:QR(),V=se[q],oe=se[K],me=Qc(0,P[$],ce[$]),we=A?P[$]/2-F-me-V-w.mainAxis:H-me-V-w.mainAxis,Te=A?-P[$]/2+F+me+oe+w.mainAxis:Q+me+oe+w.mainAxis,Pe=e.elements.arrow&&Bu(e.elements.arrow),ke=Pe?L==="y"?Pe.clientTop||0:Pe.clientLeft||0:0,Be=(z=B?.[L])!=null?z:0,Me=W+we-Be-ke,ct=W+Te-Be,Ue=Qc(v?ah(G,Me):G,W,v?za(Y,ct):Y);M[L]=Ue,j[L]=Ue-W}if(c){var Oe,et=L==="x"?cr:ur,at=L==="x"?Wr:qr,Je=M[I],De=I==="y"?"height":"width",Se=Je+S[et],ht=Je-S[at],ut=[cr,ur].indexOf(E)!==-1,Ae=(Oe=B?.[I])!=null?Oe:0,be=ut?Se:Je-P[De]-k[De]-Ae+w.altAxis,Ee=ut?Je+P[De]+k[De]-Ae-w.altAxis:ht,Ie=v&&ut?d$(be,Je,Ee):Qc(v?be:Se,Je,v?Ee:ht);M[I]=Ie,j[I]=Ie-Je}e.modifiersData[r]=j}}const z$={name:"preventOverflow",enabled:!0,phase:"main",fn:j$,requiresIfExists:["offset"]};function G$(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function H$(n){return n===Lr(n)||!Vr(n)?gv(n):G$(n)}function V$(n){var e=n.getBoundingClientRect(),t=ml(e.width)/n.offsetWidth||1,r=ml(e.height)/n.offsetHeight||1;return t!==1||r!==1}function K$(n,e,t){t===void 0&&(t=!1);var r=Vr(e),i=Vr(e)&&V$(e),s=aa(e),o=gl(n,i,t),c={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(r||!r&&!t)&&((Fi(e)!=="body"||vv(s))&&(c=H$(e)),Vr(e)?(d=gl(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):s&&(d.x=yv(s))),{x:o.left+c.scrollLeft-d.x,y:o.top+c.scrollTop-d.y,width:o.width,height:o.height}}function W$(n){var e=new Map,t=new Set,r=[];n.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(c){if(!t.has(c)){var d=e.get(c);d&&i(d)}}),r.push(s)}return n.forEach(function(s){t.has(s.name)||i(s)}),r}function q$(n){var e=W$(n);return s$.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function Y$(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function X$(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var n1={placement:"bottom",modifiers:[],strategy:"absolute"};function r1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Q$(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?n1:i;return function(c,d,u){u===void 0&&(u=s);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},n1,s),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},p=[],g=!1,v={state:h,setOptions:function(E){var R=typeof E=="function"?E(h.options):E;x(),h.options=Object.assign({},s,h.options,R),h.scrollParents={reference:Ya(c)?Zc(c):c.contextElement?Zc(c.contextElement):[],popper:Zc(d)};var A=q$(X$([].concat(r,h.options.modifiers)));return h.orderedModifiers=A.filter(function(L){return L.enabled}),y(),v.update()},forceUpdate:function(){if(!g){var E=h.elements,R=E.reference,A=E.popper;if(r1(R,A)){h.rects={reference:K$(R,Bu(A),h.options.strategy==="fixed"),popper:pv(A)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(w){return h.modifiersData[w.name]=Object.assign({},w.data)});for(var L=0;L<h.orderedModifiers.length;L++){if(h.reset===!0){h.reset=!1,L=-1;continue}var I=h.orderedModifiers[L],M=I.fn,P=I.options,k=P===void 0?{}:P,_=I.name;typeof M=="function"&&(h=M({state:h,options:k,name:_,instance:v})||h)}}}},update:Y$(function(){return new Promise(function(S){v.forceUpdate(),S(h)})}),destroy:function(){x(),g=!0}};if(!r1(c,d))return v;v.setOptions(u).then(function(S){!g&&u.onFirstUpdate&&u.onFirstUpdate(S)});function y(){h.orderedModifiers.forEach(function(S){var E=S.name,R=S.options,A=R===void 0?{}:R,L=S.effect;if(typeof L=="function"){var I=L({state:h,name:E,instance:v,options:A}),M=function(){};p.push(I||M)}})}function x(){p.forEach(function(S){return S()}),p=[]}return v}}var Z$=[S$,F$,x$,l$,B$,_$,z$,m$,k$],J$=Q$({defaultModifiers:Z$});function Ri(n){const{elementType:e,externalSlotProps:t,ownerState:r,skipResolvingSlotProps:i=!1,...s}=n,o=i?{}:GR(t,r),{props:c,internalRef:d}=HR({...s,externalSlotProps:o}),u=ln(d,o?.ref,n.additionalProps?.ref);return zR(e,{...c,ref:u},r)}function Il(n){return parseInt(D.version,10)>=19?n?.props?.ref||null:n?.ref||null}function eF(n){return typeof n=="function"?n():n}const nw=D.forwardRef(function(e,t){const{children:r,container:i,disablePortal:s=!1}=e,[o,c]=D.useState(null),d=ln(D.isValidElement(r)?Il(r):null,t);if(pr(()=>{s||c(eF(i)||document.body)},[i,s]),pr(()=>{if(o&&!s)return FT(t,o),()=>{FT(t,null)}},[t,o,s]),s){if(D.isValidElement(r)){const u={ref:d};return D.cloneElement(r,u)}return r}return o&&WC.createPortal(r,o)});function tF(n){return He("MuiPopper",n)}qe("MuiPopper",["root"]);function nF(n,e){if(e==="ltr")return n;switch(n){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return n}}function X0(n){return typeof n=="function"?n():n}function rF(n){return n.nodeType!==void 0}const iF=n=>{const{classes:e}=n;return Ve({root:["root"]},tF,e)},sF={},aF=D.forwardRef(function(e,t){const{anchorEl:r,children:i,direction:s,disablePortal:o,modifiers:c,open:d,placement:u,popperOptions:h,popperRef:p,slotProps:g={},slots:v={},TransitionProps:y,ownerState:x,...S}=e,E=D.useRef(null),R=ln(E,t),A=D.useRef(null),L=ln(A,p),I=D.useRef(L);pr(()=>{I.current=L},[L]),D.useImperativeHandle(p,()=>A.current,[]);const M=nF(u,s),[P,k]=D.useState(M),[_,w]=D.useState(X0(r));D.useEffect(()=>{A.current&&A.current.forceUpdate()}),D.useEffect(()=>{r&&w(X0(r))},[r]),pr(()=>{if(!_||!d)return;const K=G=>{k(G.placement)};let $=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:G})=>{K(G)}}];c!=null&&($=$.concat(c)),h&&h.modifiers!=null&&($=$.concat(h.modifiers));const W=J$(_,E.current,{placement:M,...h,modifiers:$});return I.current(W),()=>{W.destroy(),I.current(null)}},[_,o,c,d,h,M]);const B={placement:P};y!==null&&(B.TransitionProps=y);const j=iF(e),z=v.root??"div",q=Ri({elementType:z,externalSlotProps:g.root,externalForwardedProps:S,additionalProps:{role:"tooltip",ref:R},ownerState:e,className:j.root});return T.jsx(z,{...q,children:typeof i=="function"?i(B):i})}),oF=D.forwardRef(function(e,t){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:c=!1,keepMounted:d=!1,modifiers:u,open:h,placement:p="bottom",popperOptions:g=sF,popperRef:v,style:y,transition:x=!1,slotProps:S={},slots:E={},...R}=e,[A,L]=D.useState(!0),I=()=>{L(!1)},M=()=>{L(!0)};if(!d&&!h&&(!x||A))return null;let P;if(s)P=s;else if(r){const w=X0(r);P=w&&rF(w)?jn(w).body:jn(null).body}const k=!h&&d&&(!x||A)?"none":void 0,_=x?{in:h,onEnter:I,onExited:M}:void 0;return T.jsx(nw,{disablePortal:c,container:P,children:T.jsx(aF,{anchorEl:r,direction:o,disablePortal:c,modifiers:u,ref:t,open:x?!A:h,placement:p,popperOptions:g,popperRef:v,slotProps:S,slots:E,...R,style:{position:"fixed",top:0,left:0,display:k,...y},TransitionProps:_,children:i})})}),lF=de(oF,{name:"MuiPopper",slot:"Root"})({}),rw=D.forwardRef(function(e,t){const r=wl(),i=Ke({props:e,name:"MuiPopper"}),{anchorEl:s,component:o,components:c,componentsProps:d,container:u,disablePortal:h,keepMounted:p,modifiers:g,open:v,placement:y,popperOptions:x,popperRef:S,transition:E,slots:R,slotProps:A,...L}=i,I=R?.root??c?.Root,M={anchorEl:s,container:u,disablePortal:h,keepMounted:p,modifiers:g,open:v,placement:y,popperOptions:x,popperRef:S,transition:E,...L};return T.jsx(lF,{as:o,direction:r?"rtl":"ltr",slots:{root:I},slotProps:A??d,...M,ref:t})}),cF=Qe(T.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function uF(n){return He("MuiChip",n)}const Tt=qe("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),dF=n=>{const{classes:e,disabled:t,size:r,color:i,iconColor:s,onDelete:o,clickable:c,variant:d}=n,u={root:["root",d,t&&"disabled",`size${he(r)}`,`color${he(i)}`,c&&"clickable",c&&`clickableColor${he(i)}`,o&&"deletable",o&&`deletableColor${he(i)}`,`${d}${he(i)}`],label:["label",`label${he(r)}`],avatar:["avatar",`avatar${he(r)}`,`avatarColor${he(i)}`],icon:["icon",`icon${he(r)}`,`iconColor${he(s)}`],deleteIcon:["deleteIcon",`deleteIcon${he(r)}`,`deleteIconColor${he(i)}`,`deleteIcon${he(d)}Color${he(i)}`]};return Ve(u,uF,e)},fF=de("div",{name:"MuiChip",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{color:r,iconColor:i,clickable:s,onDelete:o,size:c,variant:d}=t;return[{[`& .${Tt.avatar}`]:e.avatar},{[`& .${Tt.avatar}`]:e[`avatar${he(c)}`]},{[`& .${Tt.avatar}`]:e[`avatarColor${he(r)}`]},{[`& .${Tt.icon}`]:e.icon},{[`& .${Tt.icon}`]:e[`icon${he(c)}`]},{[`& .${Tt.icon}`]:e[`iconColor${he(i)}`]},{[`& .${Tt.deleteIcon}`]:e.deleteIcon},{[`& .${Tt.deleteIcon}`]:e[`deleteIcon${he(c)}`]},{[`& .${Tt.deleteIcon}`]:e[`deleteIconColor${he(r)}`]},{[`& .${Tt.deleteIcon}`]:e[`deleteIcon${he(d)}Color${he(r)}`]},e.root,e[`size${he(c)}`],e[`color${he(r)}`],s&&e.clickable,s&&r!=="default"&&e[`clickableColor${he(r)})`],o&&e.deletable,o&&r!=="default"&&e[`deletableColor${he(r)}`],e[d],e[`${d}${he(r)}`]]}})(We(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[700]:n.palette.grey[300];return{maxWidth:"100%",fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(n.vars||n).palette.text.primary,backgroundColor:(n.vars||n).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:n.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Tt.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Tt.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:n.vars?n.vars.palette.Chip.defaultAvatarColor:e,fontSize:n.typography.pxToRem(12)},[`& .${Tt.avatarColorPrimary}`]:{color:(n.vars||n).palette.primary.contrastText,backgroundColor:(n.vars||n).palette.primary.dark},[`& .${Tt.avatarColorSecondary}`]:{color:(n.vars||n).palette.secondary.contrastText,backgroundColor:(n.vars||n).palette.secondary.dark},[`& .${Tt.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:n.typography.pxToRem(10)},[`& .${Tt.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Tt.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.26)`:ot(n.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:ot(n.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Tt.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Tt.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(n.palette).filter(tn(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(n.vars||n).palette[t].main,color:(n.vars||n).palette[t].contrastText,[`& .${Tt.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].contrastTextChannel} / 0.7)`:ot(n.palette[t].contrastText,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${Tt.icon}`]:{color:n.vars?n.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${Tt.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Tt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ot(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}}},...Object.entries(n.palette).filter(tn(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${Tt.focusVisible}`]:{background:(n.vars||n).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:ot(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity)},[`&.${Tt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ot(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},"&:active":{boxShadow:(n.vars||n).shadows[1]}}},...Object.entries(n.palette).filter(tn(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${Tt.focusVisible}`]:{backgroundColor:(n.vars||n).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:n.vars?`1px solid ${n.vars.palette.Chip.defaultBorder}`:`1px solid ${n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[700]}`,[`&.${Tt.clickable}:hover`]:{backgroundColor:(n.vars||n).palette.action.hover},[`&.${Tt.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`& .${Tt.avatar}`]:{marginLeft:4},[`& .${Tt.avatarSmall}`]:{marginLeft:2},[`& .${Tt.icon}`]:{marginLeft:4},[`& .${Tt.iconSmall}`]:{marginLeft:2},[`& .${Tt.deleteIcon}`]:{marginRight:5},[`& .${Tt.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(n.palette).filter(tn()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(n.vars||n).palette[t].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:ot(n.palette[t].main,.7)}`,[`&.${Tt.clickable}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:ot(n.palette[t].main,n.palette.action.hoverOpacity)},[`&.${Tt.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[t].mainChannel} / ${n.vars.palette.action.focusOpacity})`:ot(n.palette[t].main,n.palette.action.focusOpacity)},[`& .${Tt.deleteIcon}`]:{color:n.vars?`rgba(${n.vars.palette[t].mainChannel} / 0.7)`:ot(n.palette[t].main,.7),"&:hover, &:active":{color:(n.vars||n).palette[t].main}}}}))]}})),hF=de("span",{name:"MuiChip",slot:"Label",overridesResolver:(n,e)=>{const{ownerState:t}=n,{size:r}=t;return[e.label,e[`label${he(r)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function i1(n){return n.key==="Backspace"||n.key==="Delete"}const Jt=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:o,color:c="default",component:d,deleteIcon:u,disabled:h=!1,icon:p,label:g,onClick:v,onDelete:y,onKeyDown:x,onKeyUp:S,size:E="medium",variant:R="filled",tabIndex:A,skipFocusWhenDisabled:L=!1,slots:I={},slotProps:M={},...P}=r,k=D.useRef(null),_=ln(k,t),w=V=>{V.stopPropagation(),y&&y(V)},B=V=>{V.currentTarget===V.target&&i1(V)&&V.preventDefault(),x&&x(V)},j=V=>{V.currentTarget===V.target&&y&&i1(V)&&y(V),S&&S(V)},z=o!==!1&&v?!0:o,q=z||y?qa:d||"div",K={...r,component:q,disabled:h,size:E,color:c,iconColor:D.isValidElement(p)&&p.props.color||c,onDelete:!!y,clickable:z,variant:R},$=dF(K),W=q===qa?{component:d||"div",focusVisibleClassName:$.focusVisible,...y&&{disableRipple:!0}}:{};let G=null;y&&(G=u&&D.isValidElement(u)?D.cloneElement(u,{className:Re(u.props.className,$.deleteIcon),onClick:w}):T.jsx(cF,{className:$.deleteIcon,onClick:w}));let Y=null;i&&D.isValidElement(i)&&(Y=D.cloneElement(i,{className:Re($.avatar,i.props.className)}));let F=null;p&&D.isValidElement(p)&&(F=D.cloneElement(p,{className:Re($.icon,p.props.className)}));const H={slots:I,slotProps:M},[Q,ee]=Ze("root",{elementType:fF,externalForwardedProps:{...H,...P},ownerState:K,shouldForwardComponentProp:!0,ref:_,className:Re($.root,s),additionalProps:{disabled:z&&h?!0:void 0,tabIndex:L&&h?-1:A,...W},getSlotProps:V=>({...V,onClick:oe=>{V.onClick?.(oe),v?.(oe)},onKeyDown:oe=>{V.onKeyDown?.(oe),B?.(oe)},onKeyUp:oe=>{V.onKeyUp?.(oe),j?.(oe)}})}),[ce,se]=Ze("label",{elementType:hF,externalForwardedProps:H,ownerState:K,className:$.label});return T.jsxs(Q,{as:q,...ee,children:[Y||F,T.jsx(ce,{...se,children:g}),G]})});function rf(n){return parseInt(n,10)||0}const pF={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function mF(n){for(const e in n)return!1;return!0}function s1(n){return mF(n)||n.outerHeightStyle===0&&!n.overflowing}const gF=D.forwardRef(function(e,t){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:c,...d}=e,{current:u}=D.useRef(c!=null),h=D.useRef(null),p=ln(t,h),g=D.useRef(null),v=D.useRef(null),y=D.useCallback(()=>{const A=h.current,L=v.current;if(!A||!L)return;const M=gs(A).getComputedStyle(A);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};L.style.width=M.width,L.value=A.value||e.placeholder||"x",L.value.slice(-1)===`
`&&(L.value+=" ");const P=M.boxSizing,k=rf(M.paddingBottom)+rf(M.paddingTop),_=rf(M.borderBottomWidth)+rf(M.borderTopWidth),w=L.scrollHeight;L.value="x";const B=L.scrollHeight;let j=w;s&&(j=Math.max(Number(s)*B,j)),i&&(j=Math.min(Number(i)*B,j)),j=Math.max(j,B);const z=j+(P==="border-box"?k+_:0),q=Math.abs(j-w)<=1;return{outerHeightStyle:z,overflowing:q}},[i,s,e.placeholder]),x=Hr(()=>{const A=h.current,L=y();if(!A||!L||s1(L))return!1;const I=L.outerHeightStyle;return g.current!=null&&g.current!==I}),S=D.useCallback(()=>{const A=h.current,L=y();if(!A||!L||s1(L))return;const I=L.outerHeightStyle;g.current!==I&&(g.current=I,A.style.height=`${I}px`),A.style.overflow=L.overflowing?"hidden":""},[y]),E=D.useRef(-1);pr(()=>{const A=BR(S),L=h?.current;if(!L)return;const I=gs(L);I.addEventListener("resize",A);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{x()&&(M.unobserve(L),cancelAnimationFrame(E.current),S(),E.current=requestAnimationFrame(()=>{M.observe(L)}))}),M.observe(L)),()=>{A.clear(),cancelAnimationFrame(E.current),I.removeEventListener("resize",A),M&&M.disconnect()}},[y,S,x]),pr(()=>{S()});const R=A=>{u||S();const L=A.target,I=L.value.length,M=L.value.endsWith(`
`),P=L.selectionStart===I;M&&P&&L.setSelectionRange(I,I),r&&r(A)};return T.jsxs(D.Fragment,{children:[T.jsx("textarea",{value:c,onChange:R,ref:p,rows:s,style:o,...d}),T.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:{...pF.shadow,...o,paddingTop:0,paddingBottom:0}})]})});function fs(n){return typeof n=="string"}function Dl({props:n,states:e,muiFormControl:t}){return e.reduce((r,i)=>(r[i]=n[i],t&&typeof n[i]>"u"&&(r[i]=t[i]),r),{})}const Qh=D.createContext(void 0);function Ja(){return D.useContext(Qh)}function a1(n){return n!=null&&!(Array.isArray(n)&&n.length===0)}function oh(n,e=!1){return n&&(a1(n.value)&&n.value!==""||e&&a1(n.defaultValue)&&n.defaultValue!=="")}function yF(n){return n.startAdornment}function vF(n){return He("MuiInputBase",n)}const vl=qe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var o1;const Zh=(n,e)=>{const{ownerState:t}=n;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${he(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},Jh=(n,e)=>{const{ownerState:t}=n;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},xF=n=>{const{classes:e,color:t,disabled:r,error:i,endAdornment:s,focused:o,formControl:c,fullWidth:d,hiddenLabel:u,multiline:h,readOnly:p,size:g,startAdornment:v,type:y}=n,x={root:["root",`color${he(t)}`,r&&"disabled",i&&"error",d&&"fullWidth",o&&"focused",c&&"formControl",g&&g!=="medium"&&`size${he(g)}`,h&&"multiline",v&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",p&&"readOnly"],input:["input",r&&"disabled",y==="search"&&"inputTypeSearch",h&&"inputMultiline",g==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",v&&"inputAdornedStart",s&&"inputAdornedEnd",p&&"readOnly"]};return Ve(x,vF,e)},ep=de("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Zh})(We(({theme:n})=>({...n.typography.body1,color:(n.vars||n).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${vl.disabled}`]:{color:(n.vars||n).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),tp=de("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Jh})(We(({theme:n})=>{const e=n.palette.mode==="light",t={color:"currentColor",...n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})},r={opacity:"0 !important"},i=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${vl.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${vl.disabled}`]:{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),l1=cv({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),xv=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:o,className:c,color:d,components:u={},componentsProps:h={},defaultValue:p,disabled:g,disableInjectingGlobalStyles:v,endAdornment:y,error:x,fullWidth:S=!1,id:E,inputComponent:R="input",inputProps:A={},inputRef:L,margin:I,maxRows:M,minRows:P,multiline:k=!1,name:_,onBlur:w,onChange:B,onClick:j,onFocus:z,onKeyDown:q,onKeyUp:K,placeholder:$,readOnly:W,renderSuffix:G,rows:Y,size:F,slotProps:H={},slots:Q={},startAdornment:ee,type:ce="text",value:se,...V}=r,oe=A.value!=null?A.value:se,{current:me}=D.useRef(oe!=null),we=D.useRef(),Te=D.useCallback(je=>{},[]),Pe=ln(we,L,A.ref,Te),[ke,Be]=D.useState(!1),Me=Ja(),ct=Dl({props:r,muiFormControl:Me,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ct.focused=Me?Me.focused:ke,D.useEffect(()=>{!Me&&g&&ke&&(Be(!1),w&&w())},[Me,g,ke,w]);const Ue=Me&&Me.onFilled,Oe=Me&&Me.onEmpty,et=D.useCallback(je=>{oh(je)?Ue&&Ue():Oe&&Oe()},[Ue,Oe]);pr(()=>{me&&et({value:oe})},[oe,et,me]);const at=je=>{z&&z(je),A.onFocus&&A.onFocus(je),Me&&Me.onFocus?Me.onFocus(je):Be(!0)},Je=je=>{w&&w(je),A.onBlur&&A.onBlur(je),Me&&Me.onBlur?Me.onBlur(je):Be(!1)},De=(je,...zt)=>{if(!me){const bt=je.target||we.current;if(bt==null)throw new Error(ms(1));et({value:bt.value})}A.onChange&&A.onChange(je,...zt),B&&B(je,...zt)};D.useEffect(()=>{et(we.current)},[]);const Se=je=>{we.current&&je.currentTarget===je.target&&we.current.focus(),j&&j(je)};let ht=R,ut=A;k&&ht==="input"&&(Y?ut={type:void 0,minRows:Y,maxRows:Y,...ut}:ut={type:void 0,maxRows:M,minRows:P,...ut},ht=gF);const Ae=je=>{et(je.animationName==="mui-auto-fill-cancel"?we.current:{value:"x"})};D.useEffect(()=>{Me&&Me.setAdornedStart(!!ee)},[Me,ee]);const be={...r,color:ct.color||"primary",disabled:ct.disabled,endAdornment:y,error:ct.error,focused:ct.focused,formControl:Me,fullWidth:S,hiddenLabel:ct.hiddenLabel,multiline:k,size:ct.size,startAdornment:ee,type:ce},Ee=xF(be),Ie=Q.root||u.Root||ep,Le=H.root||h.root||{},Ye=Q.input||u.Input||tp;return ut={...ut,...H.input??h.input},T.jsxs(D.Fragment,{children:[!v&&typeof l1=="function"&&(o1||(o1=T.jsx(l1,{}))),T.jsxs(Ie,{...Le,ref:t,onClick:Se,...V,...!fs(Ie)&&{ownerState:{...be,...Le.ownerState}},className:Re(Ee.root,Le.className,c,W&&"MuiInputBase-readOnly"),children:[ee,T.jsx(Qh.Provider,{value:null,children:T.jsx(Ye,{"aria-invalid":ct.error,"aria-describedby":i,autoComplete:s,autoFocus:o,defaultValue:p,disabled:ct.disabled,id:E,onAnimationStart:Ae,name:_,placeholder:$,readOnly:W,required:ct.required,rows:Y,value:oe,onKeyDown:q,onKeyUp:K,type:ce,...ut,...!fs(Ye)&&{as:ht,ownerState:{...be,...ut.ownerState}},ref:Pe,className:Re(Ee.input,ut.className,W&&"MuiInputBase-readOnly"),onBlur:Je,onChange:De,onFocus:at})}),y,G?G({...ct,startAdornment:ee}):null]})]})});function bF(n){return He("MuiInput",n)}const kc={...vl,...qe("MuiInput",["root","underline","input"])};function SF(n){return He("MuiOutlinedInput",n)}const Ti={...vl,...qe("MuiOutlinedInput",["root","notchedOutline","input"])};function EF(n){return He("MuiFilledInput",n)}const Ra={...vl,...qe("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},TF=Qe(T.jsx("path",{d:"M7 10l5 5 5-5z"})),AF=Qe(T.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function CF(n){return He("MuiAvatar",n)}qe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const RF=n=>{const{classes:e,variant:t,colorDefault:r}=n;return Ve({root:["root",t,r&&"colorDefault"],img:["img"],fallback:["fallback"]},CF,e)},wF=de("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(We(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(n.vars||n).palette.background.default,...n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:n.palette.grey[400],...n.applyStyles("dark",{backgroundColor:n.palette.grey[600]})}}}]}))),LF=de("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),IF=de(AF,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function DF({crossOrigin:n,referrerPolicy:e,src:t,srcSet:r}){const[i,s]=D.useState(!1);return D.useEffect(()=>{if(!t&&!r)return;s(!1);let o=!0;const c=new Image;return c.onload=()=>{o&&s("loaded")},c.onerror=()=>{o&&s("error")},c.crossOrigin=n,c.referrerPolicy=e,c.src=t,r&&(c.srcset=r),()=>{o=!1}},[n,e,t,r]),i}const Zo=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:c="div",slots:d={},slotProps:u={},imgProps:h,sizes:p,src:g,srcSet:v,variant:y="circular",...x}=r;let S=null;const E={...r,component:c,variant:y},R=DF({...h,...typeof u.img=="function"?u.img(E):u.img,src:g,srcSet:v}),A=g||v,L=A&&R!=="error";E.colorDefault=!L,delete E.ownerState;const I=RF(E),[M,P]=Ze("root",{ref:t,className:Re(I.root,o),elementType:wF,externalForwardedProps:{slots:d,slotProps:u,component:c,...x},ownerState:E}),[k,_]=Ze("img",{className:I.img,elementType:LF,externalForwardedProps:{slots:d,slotProps:{img:{...h,...u.img}}},additionalProps:{alt:i,src:g,srcSet:v,sizes:p},ownerState:E}),[w,B]=Ze("fallback",{className:I.fallback,elementType:IF,externalForwardedProps:{slots:d,slotProps:u},shouldForwardComponentProp:!0,ownerState:E});return L?S=T.jsx(k,{..._}):s||s===0?S=s:A&&i?S=i[0]:S=T.jsx(w,{...B}),T.jsx(M,{...P,children:S})}),PF={entering:{opacity:1},entered:{opacity:1}},Q0=D.forwardRef(function(e,t){const r=hi(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:c,easing:d,in:u,onEnter:h,onEntered:p,onEntering:g,onExit:v,onExited:y,onExiting:x,style:S,timeout:E=i,TransitionComponent:R=pi,...A}=e,L=D.useRef(null),I=ln(L,Il(c),t),M=q=>K=>{if(q){const $=L.current;K===void 0?q($):q($,K)}},P=M(g),k=M((q,K)=>{jR(q);const $=hl({style:S,timeout:E,easing:d},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",$),q.style.transition=r.transitions.create("opacity",$),h&&h(q,K)}),_=M(p),w=M(x),B=M(q=>{const K=hl({style:S,timeout:E,easing:d},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",K),q.style.transition=r.transitions.create("opacity",K),v&&v(q)}),j=M(y),z=q=>{s&&s(L.current,q)};return T.jsx(R,{appear:o,in:u,nodeRef:L,onEnter:k,onEntered:_,onEntering:P,onExit:B,onExited:j,onExiting:w,addEndListener:z,timeout:E,...A,children:(q,{ownerState:K,...$})=>D.cloneElement(c,{style:{opacity:0,visibility:q==="exited"&&!u?"hidden":void 0,...PF[q],...S,...c.props.style},ref:I,...$})})});function _F(n){return He("MuiBackdrop",n)}qe("MuiBackdrop",["root","invisible"]);const OF=n=>{const{classes:e,invisible:t}=n;return Ve({root:["root",t&&"invisible"]},_F,e)},kF=de("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),iw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:o="div",invisible:c=!1,open:d,components:u={},componentsProps:h={},slotProps:p={},slots:g={},TransitionComponent:v,transitionDuration:y,...x}=r,S={...r,component:o,invisible:c},E=OF(S),R={transition:v,root:u.Root,...g},A={...h,...p},L={component:o,slots:R,slotProps:A},[I,M]=Ze("root",{elementType:kF,externalForwardedProps:L,className:Re(E.root,s),ownerState:S}),[P,k]=Ze("transition",{elementType:Q0,externalForwardedProps:L,ownerState:S});return T.jsx(P,{in:d,timeout:y,...x,...k,children:T.jsx(I,{"aria-hidden":!0,...M,classes:E,ref:t,children:i})})});function MF(n){const{badgeContent:e,invisible:t=!1,max:r=99,showZero:i=!1}=n,s=KR({badgeContent:e,max:r});let o=t;t===!1&&e===0&&!i&&(o=!0);const{badgeContent:c,max:d=r}=o?s:n,u=c&&Number(c)>d?`${d}+`:c;return{badgeContent:c,invisible:o,max:d,displayValue:u}}function NF(n){return He("MuiBadge",n)}const Vs=qe("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),Ug=10,jg=4,BF=n=>{const{color:e,anchorOrigin:t,invisible:r,overlap:i,variant:s,classes:o={}}=n,c={root:["root"],badge:["badge",s,r&&"invisible",`anchorOrigin${he(t.vertical)}${he(t.horizontal)}`,`anchorOrigin${he(t.vertical)}${he(t.horizontal)}${he(i)}`,`overlap${he(i)}`,e!=="default"&&`color${he(e)}`]};return Ve(c,NF,o)},$F=de("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),FF=de("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.badge,e[t.variant],e[`anchorOrigin${he(t.anchorOrigin.vertical)}${he(t.anchorOrigin.horizontal)}${he(t.overlap)}`],t.color!=="default"&&e[`color${he(t.color)}`],t.invisible&&e.invisible]}})(We(({theme:n})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:n.typography.fontFamily,fontWeight:n.typography.fontWeightMedium,fontSize:n.typography.pxToRem(12),minWidth:Ug*2,lineHeight:1,padding:"0 6px",height:Ug*2,borderRadius:Ug,zIndex:1,transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.enteringScreen}),variants:[...Object.entries(n.palette).filter(tn(["contrastText"])).map(([e])=>({props:{color:e},style:{backgroundColor:(n.vars||n).palette[e].main,color:(n.vars||n).palette[e].contrastText}})),{props:{variant:"dot"},style:{borderRadius:jg,height:jg*2,minWidth:jg*2,padding:0}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="right"&&e.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="top"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:e})=>e.anchorOrigin.vertical==="bottom"&&e.anchorOrigin.horizontal==="left"&&e.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${Vs.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:n.transitions.create("transform",{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.leavingScreen})}}]})));function c1(n){return{vertical:n?.vertical??"top",horizontal:n?.horizontal??"right"}}const UF=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiBadge"}),{anchorOrigin:i,className:s,classes:o,component:c,components:d={},componentsProps:u={},children:h,overlap:p="rectangular",color:g="default",invisible:v=!1,max:y=99,badgeContent:x,slots:S,slotProps:E,showZero:R=!1,variant:A="standard",...L}=r,{badgeContent:I,invisible:M,max:P,displayValue:k}=MF({max:y,invisible:v,badgeContent:x,showZero:R}),_=KR({anchorOrigin:c1(i),color:g,overlap:p,variant:A,badgeContent:x}),w=M||I==null&&A!=="dot",{color:B=g,overlap:j=p,anchorOrigin:z,variant:q=A}=w?_:r,K=c1(z),$=q!=="dot"?k:void 0,W={...r,badgeContent:I,invisible:w,max:P,displayValue:$,showZero:R,anchorOrigin:K,color:B,overlap:j,variant:q},G=BF(W),Y={slots:{root:S?.root??d.Root,badge:S?.badge??d.Badge},slotProps:{root:E?.root??u.root,badge:E?.badge??u.badge}},[F,H]=Ze("root",{elementType:$F,externalForwardedProps:{...Y,...L},ownerState:W,className:Re(G.root,s),ref:t,additionalProps:{as:c}}),[Q,ee]=Ze("badge",{elementType:FF,externalForwardedProps:Y,ownerState:W,className:G.badge});return T.jsxs(F,{...H,children:[h,T.jsx(Q,{...ee,children:$})]})}),jF=qe("MuiBox",["root"]),zF=ku(),Ce=Fk({themeId:oi,defaultTheme:zF,defaultClassName:jF.root,generateClassName:mR.generate});function GF(n){return He("MuiButton",n)}const wa=qe("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),HF=D.createContext({}),VF=D.createContext(void 0),KF=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,loading:o,loadingPosition:c,classes:d}=n,u={root:["root",o&&"loading",s,`${s}${he(e)}`,`size${he(i)}`,`${s}Size${he(i)}`,`color${he(e)}`,t&&"disableElevation",r&&"fullWidth",o&&`loadingPosition${he(c)}`],startIcon:["icon","startIcon",`iconSize${he(i)}`],endIcon:["icon","endIcon",`iconSize${he(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},h=Ve(u,GF,d);return{...d,...h}},sw=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],WF=de(qa,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${he(t.color)}`],e[`size${he(t.size)}`],e[`${t.variant}Size${he(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(We(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],t=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return{...n.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${wa.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(n.vars||n).shadows[2],"&:hover":{boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2]}},"&:active":{boxShadow:(n.vars||n).shadows[8]},[`&.${wa.focusVisible}`]:{boxShadow:(n.vars||n).shadows[6]},[`&.${wa.disabled}`]:{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${wa.disabled}`]:{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(n.palette).filter(tn()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(n.vars||n).palette[r].main,"--variant-outlinedColor":(n.vars||n).palette[r].main,"--variant-outlinedBorder":n.vars?`rgba(${n.vars.palette[r].mainChannel} / 0.5)`:ot(n.palette[r].main,.5),"--variant-containedColor":(n.vars||n).palette[r].contrastText,"--variant-containedBg":(n.vars||n).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(n.vars||n).palette[r].dark,"--variant-textBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:ot(n.palette[r].main,n.palette.action.hoverOpacity),"--variant-outlinedBorder":(n.vars||n).palette[r].main,"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette[r].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:ot(n.palette[r].main,n.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":n.vars?n.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:ot(n.palette.text.primary,n.palette.action.hoverOpacity),"--variant-outlinedBg":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:ot(n.palette.text.primary,n.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:n.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:n.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:n.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${wa.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${wa.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short}),[`&.${wa.loading}`]:{color:"transparent"}}}]}})),qF=de("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${he(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...sw]})),YF=de("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${he(t.size)}`]]}})(({theme:n})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...sw]})),XF=de("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:n})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),u1=de("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),vn=D.forwardRef(function(e,t){const r=D.useContext(HF),i=D.useContext(VF),s=hu(r,e),o=Ke({props:s,name:"MuiButton"}),{children:c,color:d="primary",component:u="button",className:h,disabled:p=!1,disableElevation:g=!1,disableFocusRipple:v=!1,endIcon:y,focusVisibleClassName:x,fullWidth:S=!1,id:E,loading:R=null,loadingIndicator:A,loadingPosition:L="center",size:I="medium",startIcon:M,type:P,variant:k="text",..._}=o,w=vs(E),B=A??T.jsx(Kr,{"aria-labelledby":w,color:"inherit",size:16}),j={...o,color:d,component:u,disabled:p,disableElevation:g,disableFocusRipple:v,fullWidth:S,loading:R,loadingIndicator:B,loadingPosition:L,size:I,type:P,variant:k},z=KF(j),q=(M||R&&L==="start")&&T.jsx(qF,{className:z.startIcon,ownerState:j,children:M||T.jsx(u1,{className:z.loadingIconPlaceholder,ownerState:j})}),K=(y||R&&L==="end")&&T.jsx(YF,{className:z.endIcon,ownerState:j,children:y||T.jsx(u1,{className:z.loadingIconPlaceholder,ownerState:j})}),$=i||"",W=typeof R=="boolean"?T.jsx("span",{className:z.loadingWrapper,style:{display:"contents"},children:R&&T.jsx(XF,{className:z.loadingIndicator,ownerState:j,children:B})}):null;return T.jsxs(WF,{ownerState:j,className:Re(r.className,z.root,h,$),component:u,disabled:p||R,focusRipple:!v,focusVisibleClassName:Re(z.focusVisible,x),ref:t,type:P,id:R?w:E,..._,classes:z,children:[q,L!=="end"&&W,c,L==="end"&&W,K]})});function QF(n){return He("MuiCard",n)}qe("MuiCard",["root"]);const ZF=n=>{const{classes:e}=n;return Ve({root:["root"]},QF,e)},JF=de(Wn,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Jn=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiCard"}),{className:i,raised:s=!1,...o}=r,c={...r,raised:s},d=ZF(c);return T.jsx(JF,{className:Re(d.root,i),elevation:s?8:void 0,ref:t,ownerState:c,...o})});function e3(n){return He("MuiCardActionArea",n)}const zg=qe("MuiCardActionArea",["root","focusVisible","focusHighlight"]),t3=n=>{const{classes:e}=n;return Ve({root:["root"],focusHighlight:["focusHighlight"]},e3,e)},n3=de(qa,{name:"MuiCardActionArea",slot:"Root"})(We(({theme:n})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${zg.focusHighlight}`]:{opacity:(n.vars||n).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${zg.focusVisible} .${zg.focusHighlight}`]:{opacity:(n.vars||n).palette.action.focusOpacity}}))),r3=de("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(We(({theme:n})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:n.transitions.create("opacity",{duration:n.transitions.duration.short})}))),aw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiCardActionArea"}),{children:i,className:s,focusVisibleClassName:o,slots:c={},slotProps:d={},...u}=r,h=r,p=t3(h),g={slots:c,slotProps:d},[v,y]=Ze("root",{elementType:n3,externalForwardedProps:{...g,...u},shouldForwardComponentProp:!0,ownerState:h,ref:t,className:Re(p.root,s),additionalProps:{focusVisibleClassName:Re(o,p.focusVisible)}}),[x,S]=Ze("focusHighlight",{elementType:r3,externalForwardedProps:g,ownerState:h,ref:t,className:p.focusHighlight});return T.jsxs(v,{...y,children:[i,T.jsx(x,{...S})]})});function i3(n){return He("MuiCardContent",n)}qe("MuiCardContent",["root"]);const s3=n=>{const{classes:e}=n;return Ve({root:["root"]},i3,e)},a3=de("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Cr=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiCardContent"}),{className:i,component:s="div",...o}=r,c={...r,component:s},d=s3(c);return T.jsx(a3,{as:s,className:Re(d.root,i),ownerState:c,ref:t,...o})});function o3(n){return He("MuiCardMedia",n)}qe("MuiCardMedia",["root","media","img"]);const l3=n=>{const{classes:e,isMediaComponent:t,isImageComponent:r}=n;return Ve({root:["root",t&&"media",r&&"img"]},o3,e)},c3=de("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n,{isMediaComponent:r,isImageComponent:i}=t;return[e.root,r&&e.media,i&&e.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),u3=["video","audio","picture","iframe","img"],d3=["picture","img"],np=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiCardMedia"}),{children:i,className:s,component:o="div",image:c,src:d,style:u,...h}=r,p=u3.includes(o),g=!p&&c?{backgroundImage:`url("${c}")`,...u}:u,v={...r,component:o,isMediaComponent:p,isImageComponent:d3.includes(o)},y=l3(v);return T.jsx(c3,{className:Re(y.root,s),as:o,role:!p&&c?"img":void 0,ref:t,style:g,ownerState:v,src:p?c||d:void 0,...h,children:i})}),on=DM({createStyledComponent:de("div",{name:"MuiContainer",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`maxWidth${he(String(t.maxWidth))}`],t.fixed&&e.fixed,t.disableGutters&&e.disableGutters]}}),useThemeProps:n=>Ke({props:n,name:"MuiContainer"})}),Z0=typeof cv({})=="function",f3=(n,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!n.vars&&{colorScheme:n.palette.mode}}),h3=n=>({color:(n.vars||n).palette.text.primary,...n.typography.body1,backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),ow=(n,e=!1)=>{const t={};e&&n.colorSchemes&&typeof n.getColorSchemeSelector=="function"&&Object.entries(n.colorSchemes).forEach(([s,o])=>{const c=n.getColorSchemeSelector(s);c.startsWith("@")?t[c]={":root":{colorScheme:o.palette?.mode}}:t[c.replace(/\s*&/,"")]={colorScheme:o.palette?.mode}});let r={html:f3(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:{margin:0,...h3(n),"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}},...t};const i=n.components?.MuiCssBaseline?.styleOverrides;return i&&(r=[r,i]),r},Bf="mui-ecs",p3=n=>{const e=ow(n,!1),t=Array.isArray(e)?e[0]:e;return!n.vars&&t&&(t.html[`:root:has(${Bf})`]={colorScheme:n.palette.mode}),n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([r,i])=>{const s=n.getColorSchemeSelector(r);s.startsWith("@")?t[s]={[`:root:not(:has(.${Bf}))`]:{colorScheme:i.palette?.mode}}:t[s.replace(/\s*&/,"")]={[`&:not(:has(.${Bf}))`]:{colorScheme:i.palette?.mode}}}),e},m3=cv(Z0?({theme:n,enableColorScheme:e})=>ow(n,e):({theme:n})=>p3(n));function g3(n){const e=Ke({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:r=!1}=e;return T.jsxs(D.Fragment,{children:[Z0&&T.jsx(m3,{enableColorScheme:r}),!Z0&&!r&&T.jsx("span",{className:Bf,style:{display:"none"}}),t]})}function lw(n=window){const e=n.document.documentElement.clientWidth;return n.innerWidth-e}function y3(n){const e=jn(n);return e.body===n?gs(n).innerWidth>e.documentElement.clientWidth:n.scrollHeight>n.clientHeight}function Jc(n,e){e?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden")}function d1(n){return parseInt(gs(n).getComputedStyle(n).paddingRight,10)||0}function v3(n){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(n.tagName),r=n.tagName==="INPUT"&&n.getAttribute("type")==="hidden";return t||r}function f1(n,e,t,r,i){const s=[e,t,...r];[].forEach.call(n.children,o=>{const c=!s.includes(o),d=!v3(o);c&&d&&Jc(o,i)})}function Gg(n,e){let t=-1;return n.some((r,i)=>e(r)?(t=i,!0):!1),t}function x3(n,e){const t=[],r=n.container;if(!e.disableScrollLock){if(y3(r)){const o=lw(gs(r));t.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${d1(r)+o}px`;const c=jn(r).querySelectorAll(".mui-fixed");[].forEach.call(c,d=>{t.push({value:d.style.paddingRight,property:"padding-right",el:d}),d.style.paddingRight=`${d1(d)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=jn(r).body;else{const o=r.parentElement,c=gs(r);s=o?.nodeName==="HTML"&&c.getComputedStyle(o).overflowY==="scroll"?o:r}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:o,property:c})=>{s?o.style.setProperty(c,s):o.style.removeProperty(c)})}}function b3(n){const e=[];return[].forEach.call(n.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class S3{constructor(){this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Jc(e.modalRef,!1);const i=b3(t);f1(t,e.mount,e.modalRef,i,!0);const s=Gg(this.containers,o=>o.container===t);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),r)}mount(e,t){const r=Gg(this.containers,s=>s.modals.includes(e)),i=this.containers[r];i.restore||(i.restore=x3(i,t))}remove(e,t=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Gg(this.containers,o=>o.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Jc(e.modalRef,t),f1(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Jc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const E3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function T3(n){const e=parseInt(n.getAttribute("tabindex")||"",10);return Number.isNaN(e)?n.contentEditable==="true"||(n.nodeName==="AUDIO"||n.nodeName==="VIDEO"||n.nodeName==="DETAILS")&&n.getAttribute("tabindex")===null?0:n.tabIndex:e}function A3(n){if(n.tagName!=="INPUT"||n.type!=="radio"||!n.name)return!1;const e=r=>n.ownerDocument.querySelector(`input[type="radio"]${r}`);let t=e(`[name="${n.name}"]:checked`);return t||(t=e(`[name="${n.name}"]`)),t!==n}function C3(n){return!(n.disabled||n.tagName==="INPUT"&&n.type==="hidden"||A3(n))}function R3(n){const e=[],t=[];return Array.from(n.querySelectorAll(E3)).forEach((r,i)=>{const s=T3(r);s===-1||!C3(r)||(s===0?e.push(r):t.push({documentOrder:i,tabIndex:s,node:r}))}),t.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function w3(){return!0}function L3(n){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=R3,isEnabled:o=w3,open:c}=n,d=D.useRef(!1),u=D.useRef(null),h=D.useRef(null),p=D.useRef(null),g=D.useRef(null),v=D.useRef(!1),y=D.useRef(null),x=ln(Il(e),y),S=D.useRef(null);D.useEffect(()=>{!c||!y.current||(v.current=!t)},[t,c]),D.useEffect(()=>{if(!c||!y.current)return;const A=jn(y.current);return y.current.contains(A.activeElement)||(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),v.current&&y.current.focus()),()=>{i||(p.current&&p.current.focus&&(d.current=!0,p.current.focus()),p.current=null)}},[c]),D.useEffect(()=>{if(!c||!y.current)return;const A=jn(y.current),L=P=>{S.current=P,!(r||!o()||P.key!=="Tab")&&A.activeElement===y.current&&P.shiftKey&&(d.current=!0,h.current&&h.current.focus())},I=()=>{const P=y.current;if(P===null)return;if(!A.hasFocus()||!o()||d.current){d.current=!1;return}if(P.contains(A.activeElement)||r&&A.activeElement!==u.current&&A.activeElement!==h.current)return;if(A.activeElement!==g.current)g.current=null;else if(g.current!==null)return;if(!v.current)return;let k=[];if((A.activeElement===u.current||A.activeElement===h.current)&&(k=s(y.current)),k.length>0){const _=!!(S.current?.shiftKey&&S.current?.key==="Tab"),w=k[0],B=k[k.length-1];typeof w!="string"&&typeof B!="string"&&(_?B.focus():w.focus())}else P.focus()};A.addEventListener("focusin",I),A.addEventListener("keydown",L,!0);const M=setInterval(()=>{A.activeElement&&A.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(M),A.removeEventListener("focusin",I),A.removeEventListener("keydown",L,!0)}},[t,r,i,o,c,s]);const E=A=>{p.current===null&&(p.current=A.relatedTarget),v.current=!0,g.current=A.target;const L=e.props.onFocus;L&&L(A)},R=A=>{p.current===null&&(p.current=A.relatedTarget),v.current=!0};return T.jsxs(D.Fragment,{children:[T.jsx("div",{tabIndex:c?0:-1,onFocus:R,ref:u,"data-testid":"sentinelStart"}),D.cloneElement(e,{ref:x,onFocus:E}),T.jsx("div",{tabIndex:c?0:-1,onFocus:R,ref:h,"data-testid":"sentinelEnd"})]})}function I3(n){return typeof n=="function"?n():n}function D3(n){return n?n.props.hasOwnProperty("in"):!1}const h1=()=>{},sf=new S3;function P3(n){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:o,children:c,onClose:d,open:u,rootRef:h}=n,p=D.useRef({}),g=D.useRef(null),v=D.useRef(null),y=ln(v,h),[x,S]=D.useState(!u),E=D3(c);let R=!0;(n["aria-hidden"]==="false"||n["aria-hidden"]===!1)&&(R=!1);const A=()=>jn(g.current),L=()=>(p.current.modalRef=v.current,p.current.mount=g.current,p.current),I=()=>{sf.mount(L(),{disableScrollLock:r}),v.current&&(v.current.scrollTop=0)},M=Hr(()=>{const K=I3(e)||A().body;sf.add(L(),K),v.current&&I()}),P=()=>sf.isTopModal(L()),k=Hr(K=>{g.current=K,K&&(u&&P()?I():v.current&&Jc(v.current,R))}),_=D.useCallback(()=>{sf.remove(L(),R)},[R]);D.useEffect(()=>()=>{_()},[_]),D.useEffect(()=>{u?M():(!E||!i)&&_()},[u,_,E,i,M]);const w=K=>$=>{K.onKeyDown?.($),!($.key!=="Escape"||$.which===229||!P())&&(t||($.stopPropagation(),d&&d($,"escapeKeyDown")))},B=K=>$=>{K.onClick?.($),$.target===$.currentTarget&&d&&d($,"backdropClick")};return{getRootProps:(K={})=>{const $=Xc(n);delete $.onTransitionEnter,delete $.onTransitionExited;const W={...$,...K};return{role:"presentation",...W,onKeyDown:w(W),ref:y}},getBackdropProps:(K={})=>{const $=K;return{"aria-hidden":!0,...$,onClick:B($),open:u}},getTransitionProps:()=>{const K=()=>{S(!1),s&&s()},$=()=>{S(!0),o&&o(),i&&_()};return{onEnter:$T(K,c?.props.onEnter??h1),onExited:$T($,c?.props.onExited??h1)}},rootRef:y,portalRef:k,isTopModal:P,exited:x,hasTransition:E}}function _3(n){return He("MuiModal",n)}qe("MuiModal",["root","hidden","backdrop"]);const O3=n=>{const{open:e,exited:t,classes:r}=n;return Ve({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},_3,r)},k3=de("div",{name:"MuiModal",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.open&&t.exited&&e.hidden]}})(We(({theme:n})=>({position:"fixed",zIndex:(n.vars||n).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),M3=de(iw,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),cw=D.forwardRef(function(e,t){const r=Ke({name:"MuiModal",props:e}),{BackdropComponent:i=M3,BackdropProps:s,classes:o,className:c,closeAfterTransition:d=!1,children:u,container:h,component:p,components:g={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:E=!1,disableRestoreFocus:R=!1,disableScrollLock:A=!1,hideBackdrop:L=!1,keepMounted:I=!1,onClose:M,onTransitionEnter:P,onTransitionExited:k,open:_,slotProps:w={},slots:B={},theme:j,...z}=r,q={...r,closeAfterTransition:d,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:E,disableRestoreFocus:R,disableScrollLock:A,hideBackdrop:L,keepMounted:I},{getRootProps:K,getBackdropProps:$,getTransitionProps:W,portalRef:G,isTopModal:Y,exited:F,hasTransition:H}=P3({...q,rootRef:t}),Q={...q,exited:F},ee=O3(Q),ce={};if(u.props.tabIndex===void 0&&(ce.tabIndex="-1"),H){const{onEnter:Te,onExited:Pe}=W();ce.onEnter=Te,ce.onExited=Pe}const se={slots:{root:g.Root,backdrop:g.Backdrop,...B},slotProps:{...v,...w}},[V,oe]=Ze("root",{ref:t,elementType:k3,externalForwardedProps:{...se,...z,component:p},getSlotProps:K,ownerState:Q,className:Re(c,ee?.root,!Q.open&&Q.exited&&ee?.hidden)}),[me,we]=Ze("backdrop",{ref:s?.ref,elementType:i,externalForwardedProps:se,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Te=>$({...Te,onClick:Pe=>{Te?.onClick&&Te.onClick(Pe)}}),className:Re(s?.className,ee?.backdrop),ownerState:Q});return!I&&!_&&(!H||F)?null:T.jsx(nw,{ref:G,container:h,disablePortal:E,children:T.jsxs(V,{...oe,children:[!L&&i?T.jsx(me,{...we}):null,T.jsx(L3,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:R,isEnabled:Y,open:_,children:D.cloneElement(u,ce)})]})})});function N3(n){return He("MuiDialog",n)}const Hg=qe("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),uw=D.createContext({}),B3=de(iw,{name:"MuiDialog",slot:"Backdrop",overrides:(n,e)=>e.backdrop})({zIndex:-1}),$3=n=>{const{classes:e,scroll:t,maxWidth:r,fullWidth:i,fullScreen:s}=n,o={root:["root"],container:["container",`scroll${he(t)}`],paper:["paper",`paperScroll${he(t)}`,`paperWidth${he(String(r))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Ve(o,N3,e)},F3=de(cw,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),U3=de("div",{name:"MuiDialog",slot:"Container",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.container,e[`scroll${he(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),j3=de(Wn,{name:"MuiDialog",slot:"Paper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.paper,e[`scrollPaper${he(t.scroll)}`],e[`paperWidth${he(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(We(({theme:n})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:n.breakpoints.unit==="px"?Math.max(n.breakpoints.values.xs,444):`max(${n.breakpoints.values.xs}${n.breakpoints.unit}, 444px)`,[`&.${Hg.paperScrollBody}`]:{[n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(n.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${n.breakpoints.values[e]}${n.breakpoints.unit}`,[`&.${Hg.paperScrollBody}`]:{[n.breakpoints.down(n.breakpoints.values[e]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Hg.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),p1=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiDialog"}),i=hi(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":o,"aria-labelledby":c,"aria-modal":d=!0,BackdropComponent:u,BackdropProps:h,children:p,className:g,disableEscapeKeyDown:v=!1,fullScreen:y=!1,fullWidth:x=!1,maxWidth:S="sm",onClick:E,onClose:R,open:A,PaperComponent:L=Wn,PaperProps:I={},scroll:M="paper",slots:P={},slotProps:k={},TransitionComponent:_=Q0,transitionDuration:w=s,TransitionProps:B,...j}=r,z={...r,disableEscapeKeyDown:v,fullScreen:y,fullWidth:x,maxWidth:S,scroll:M},q=$3(z),K=D.useRef(),$=Be=>{K.current=Be.target===Be.currentTarget},W=Be=>{E&&E(Be),K.current&&(K.current=null,R&&R(Be,"backdropClick"))},G=vs(c),Y=D.useMemo(()=>({titleId:G}),[G]),F={transition:_,...P},H={transition:B,paper:I,backdrop:h,...k},Q={slots:F,slotProps:H},[ee,ce]=Ze("root",{elementType:F3,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:z,className:Re(q.root,g),ref:t}),[se,V]=Ze("backdrop",{elementType:B3,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:z}),[oe,me]=Ze("paper",{elementType:j3,shouldForwardComponentProp:!0,externalForwardedProps:Q,ownerState:z,className:Re(q.paper,I.className)}),[we,Te]=Ze("container",{elementType:U3,externalForwardedProps:Q,ownerState:z,className:q.container}),[Pe,ke]=Ze("transition",{elementType:Q0,externalForwardedProps:Q,ownerState:z,additionalProps:{appear:!0,in:A,timeout:w,role:"presentation"}});return T.jsx(ee,{closeAfterTransition:!0,slots:{backdrop:se},slotProps:{backdrop:{transitionDuration:w,as:u,...V}},disableEscapeKeyDown:v,onClose:R,open:A,onClick:W,...ce,...j,children:T.jsx(Pe,{...ke,children:T.jsx(we,{onMouseDown:$,...Te,children:T.jsx(oe,{as:L,elevation:24,role:"dialog","aria-describedby":o,"aria-labelledby":G,"aria-modal":d,...me,children:T.jsx(uw.Provider,{value:Y,children:p})})})})})});function z3(n){return He("MuiDialogContent",n)}qe("MuiDialogContent",["root","dividers"]);function G3(n){return He("MuiDialogTitle",n)}const H3=qe("MuiDialogTitle",["root"]),V3=n=>{const{classes:e,dividers:t}=n;return Ve({root:["root",t&&"dividers"]},z3,e)},K3=de("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.dividers&&e.dividers]}})(We(({theme:n})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(n.vars||n).palette.divider}`,borderBottom:`1px solid ${(n.vars||n).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${H3.root} + &`]:{paddingTop:0}}}]}))),m1=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...o}=r,c={...r,dividers:s},d=V3(c);return T.jsx(K3,{className:Re(d.root,i),ownerState:c,ref:t,...o})}),W3=n=>{const{classes:e}=n;return Ve({root:["root"]},G3,e)},q3=de(ve,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),g1=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...o}=r,c=r,d=W3(c),{titleId:u=s}=D.useContext(uw);return T.jsx(q3,{component:"h2",className:Re(d.root,i),ownerState:c,ref:t,variant:"h6",id:s??u,...o})});function Y3(n){return He("MuiDivider",n)}const y1=qe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),X3=n=>{const{absolute:e,children:t,classes:r,flexItem:i,light:s,orientation:o,textAlign:c,variant:d}=n;return Ve({root:["root",e&&"absolute",d,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",t&&"withChildren",t&&o==="vertical"&&"withChildrenVertical",c==="right"&&o!=="vertical"&&"textAlignRight",c==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},Y3,r)},Q3=de("div",{name:"MuiDivider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(We(({theme:n})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(n.vars||n).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:n.vars?`rgba(${n.vars.palette.dividerChannel} / 0.08)`:ot(n.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:n.spacing(2),marginRight:n.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:n.spacing(1),marginBottom:n.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(n.vars||n).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(n.vars||n).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Z3=de("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(We(({theme:n})=>({display:"inline-block",paddingLeft:`calc(${n.spacing(1)} * 1.2)`,paddingRight:`calc(${n.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${n.spacing(1)} * 1.2)`,paddingBottom:`calc(${n.spacing(1)} * 1.2)`}}]}))),lh=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,orientation:c="horizontal",component:d=s||c==="vertical"?"div":"hr",flexItem:u=!1,light:h=!1,role:p=d!=="hr"?"separator":void 0,textAlign:g="center",variant:v="fullWidth",...y}=r,x={...r,absolute:i,component:d,flexItem:u,light:h,orientation:c,role:p,textAlign:g,variant:v},S=X3(x);return T.jsx(Q3,{as:d,className:Re(S.root,o),role:p,ref:t,ownerState:x,"aria-orientation":p==="separator"&&(d!=="hr"||c==="vertical")?c:void 0,...y,children:s?T.jsx(Z3,{className:S.wrapper,ownerState:x,children:s}):null})});lh&&(lh.muiSkipListHighlight=!0);const J3=n=>{const{classes:e,disableUnderline:t,startAdornment:r,endAdornment:i,size:s,hiddenLabel:o,multiline:c}=n,d={root:["root",!t&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${he(s)}`,o&&"hiddenLabel",c&&"multiline"],input:["input"]},u=Ve(d,EF,e);return{...e,...u}},e5=de(ep,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Zh(n,e),!t.disableUnderline&&e.underline]}})(We(({theme:n})=>{const e=n.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(n.vars||n).shape.borderRadius,borderTopRightRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),"&:hover":{backgroundColor:n.vars?n.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r}},[`&.${Ra.focused}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.bg:r},[`&.${Ra.disabled}`]:{backgroundColor:n.vars?n.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:o})=>!o.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ra.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ra.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ra.disabled}, .${Ra.error}):before`]:{borderBottom:`1px solid ${(n.vars||n).palette.text.primary}`},[`&.${Ra.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(tn()).map(([o])=>({props:{disableUnderline:!1,color:o},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[o]?.main}`}}})),{props:({ownerState:o})=>o.startAdornment,style:{paddingLeft:12}},{props:({ownerState:o})=>o.endAdornment,style:{paddingRight:12}},{props:({ownerState:o})=>o.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:o,size:c})=>o.multiline&&c==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:o})=>o.multiline&&o.hiddenLabel&&o.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),t5=de(tp,{name:"MuiFilledInput",slot:"Input",overridesResolver:Jh})(We(({theme:n})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),bv=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:c=!1,hiddenLabel:d,inputComponent:u="input",multiline:h=!1,slotProps:p,slots:g={},type:v="text",...y}=r,x={...r,disableUnderline:i,fullWidth:c,inputComponent:u,multiline:h,type:v},S=J3(r),E={root:{ownerState:x},input:{ownerState:x}},R=p??o?Nn(E,p??o):E,A=g.root??s.Root??e5,L=g.input??s.Input??t5;return T.jsx(xv,{slots:{root:A,input:L},slotProps:R,fullWidth:c,inputComponent:u,multiline:h,ref:t,type:v,...y,classes:S})});bv.muiName="Input";function n5(n){return He("MuiFormControl",n)}qe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const r5=n=>{const{classes:e,margin:t,fullWidth:r}=n,i={root:["root",t!=="none"&&`margin${he(t)}`,r&&"fullWidth"]};return Ve(i,n5,e)},i5=de("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`margin${he(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),eu=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:c="div",disabled:d=!1,error:u=!1,focused:h,fullWidth:p=!1,hiddenLabel:g=!1,margin:v="none",required:y=!1,size:x="medium",variant:S="outlined",...E}=r,R={...r,color:o,component:c,disabled:d,error:u,fullWidth:p,hiddenLabel:g,margin:v,required:y,size:x,variant:S},A=r5(R),[L,I]=D.useState(()=>{let K=!1;return i&&D.Children.forEach(i,$=>{if(!Yc($,["Input","Select"]))return;const W=Yc($,["Select"])?$.props.input:$;W&&yF(W.props)&&(K=!0)}),K}),[M,P]=D.useState(()=>{let K=!1;return i&&D.Children.forEach(i,$=>{Yc($,["Input","Select"])&&(oh($.props,!0)||oh($.props.inputProps,!0))&&(K=!0)}),K}),[k,_]=D.useState(!1);d&&k&&_(!1);const w=h!==void 0&&!d?h:k;let B;D.useRef(!1);const j=D.useCallback(()=>{P(!0)},[]),z=D.useCallback(()=>{P(!1)},[]),q=D.useMemo(()=>({adornedStart:L,setAdornedStart:I,color:o,disabled:d,error:u,filled:M,focused:w,fullWidth:p,hiddenLabel:g,size:x,onBlur:()=>{_(!1)},onFocus:()=>{_(!0)},onEmpty:z,onFilled:j,registerEffect:B,required:y,variant:S}),[L,o,d,u,M,w,p,g,B,z,j,y,x,S]);return T.jsx(Qh.Provider,{value:q,children:T.jsx(i5,{as:c,ownerState:R,className:Re(A.root,s),ref:t,...E,children:i})})});function s5(n){return He("MuiFormHelperText",n)}const v1=qe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var x1;const a5=n=>{const{classes:e,contained:t,size:r,disabled:i,error:s,filled:o,focused:c,required:d}=n,u={root:["root",i&&"disabled",s&&"error",r&&`size${he(r)}`,t&&"contained",c&&"focused",o&&"filled",d&&"required"]};return Ve(u,s5,e)},o5=de("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.size&&e[`size${he(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(We(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${v1.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${v1.error}`]:{color:(n.vars||n).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),dw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p",disabled:c,error:d,filled:u,focused:h,margin:p,required:g,variant:v,...y}=r,x=Ja(),S=Dl({props:r,muiFormControl:x,states:["variant","size","disabled","error","filled","focused","required"]}),E={...r,component:o,contained:S.variant==="filled"||S.variant==="outlined",variant:S.variant,size:S.size,disabled:S.disabled,error:S.error,filled:S.filled,focused:S.focused,required:S.required};delete E.ownerState;const R=a5(E);return T.jsx(o5,{as:o,className:Re(R.root,s),ref:t,...y,ownerState:E,children:i===" "?x1||(x1=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})});function l5(n){return He("MuiFormLabel",n)}const tu=qe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),c5=n=>{const{classes:e,color:t,focused:r,disabled:i,error:s,filled:o,required:c}=n,d={root:["root",`color${he(t)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",c&&"required"],asterisk:["asterisk",s&&"error"]};return Ve(d,l5,e)},u5=de("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(We(({theme:n})=>({color:(n.vars||n).palette.text.secondary,...n.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{[`&.${tu.focused}`]:{color:(n.vars||n).palette[e].main}}})),{props:{},style:{[`&.${tu.disabled}`]:{color:(n.vars||n).palette.text.disabled},[`&.${tu.error}`]:{color:(n.vars||n).palette.error.main}}}]}))),d5=de("span",{name:"MuiFormLabel",slot:"Asterisk"})(We(({theme:n})=>({[`&.${tu.error}`]:{color:(n.vars||n).palette.error.main}}))),f5=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:o,component:c="label",disabled:d,error:u,filled:h,focused:p,required:g,...v}=r,y=Ja(),x=Dl({props:r,muiFormControl:y,states:["color","required","focused","disabled","error","filled"]}),S={...r,color:x.color||"primary",component:c,disabled:x.disabled,error:x.error,filled:x.filled,focused:x.focused,required:x.required},E=c5(S);return T.jsxs(u5,{as:c,ownerState:S,className:Re(E.root,s),ref:t,...v,children:[i,x.required&&T.jsxs(d5,{ownerState:S,"aria-hidden":!0,className:E.asterisk,children:["","*"]})]})}),Kt=KM({createStyledComponent:de("div",{name:"MuiGrid",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:n=>Ke({props:n,name:"MuiGrid"}),useTheme:hi});function J0(n){return`scale(${n}, ${n**2})`}const h5={entering:{opacity:1,transform:J0(1)},entered:{opacity:1,transform:"none"}},Vg=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ch=D.forwardRef(function(e,t){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:c,onEnter:d,onEntered:u,onEntering:h,onExit:p,onExited:g,onExiting:v,style:y,timeout:x="auto",TransitionComponent:S=pi,...E}=e,R=Fa(),A=D.useRef(),L=hi(),I=D.useRef(null),M=ln(I,Il(s),t),P=K=>$=>{if(K){const W=I.current;$===void 0?K(W):K(W,$)}},k=P(h),_=P((K,$)=>{jR(K);const{duration:W,delay:G,easing:Y}=hl({style:y,timeout:x,easing:o},{mode:"enter"});let F;x==="auto"?(F=L.transitions.getAutoHeightDuration(K.clientHeight),A.current=F):F=W,K.style.transition=[L.transitions.create("opacity",{duration:F,delay:G}),L.transitions.create("transform",{duration:Vg?F:F*.666,delay:G,easing:Y})].join(","),d&&d(K,$)}),w=P(u),B=P(v),j=P(K=>{const{duration:$,delay:W,easing:G}=hl({style:y,timeout:x,easing:o},{mode:"exit"});let Y;x==="auto"?(Y=L.transitions.getAutoHeightDuration(K.clientHeight),A.current=Y):Y=$,K.style.transition=[L.transitions.create("opacity",{duration:Y,delay:W}),L.transitions.create("transform",{duration:Vg?Y:Y*.666,delay:Vg?W:W||Y*.333,easing:G})].join(","),K.style.opacity=0,K.style.transform=J0(.75),p&&p(K)}),z=P(g),q=K=>{x==="auto"&&R.start(A.current||0,K),r&&r(I.current,K)};return T.jsx(S,{appear:i,in:c,nodeRef:I,onEnter:_,onEntered:w,onEntering:k,onExit:j,onExited:z,onExiting:B,addEndListener:q,timeout:x==="auto"?null:x,...E,children:(K,{ownerState:$,...W})=>D.cloneElement(s,{style:{opacity:0,transform:J0(.75),visibility:K==="exited"&&!c?"hidden":void 0,...h5[K],...y,...s.props.style},ref:M,...W})})});ch&&(ch.muiSupportAuto=!0);const p5=n=>{const{classes:e,disableUnderline:t}=n,i=Ve({root:["root",!t&&"underline"],input:["input"]},bF,e);return{...e,...i}},m5=de(ep,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiInput",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[...Zh(n,e),!t.disableUnderline&&e.underline]}})(We(({theme:n})=>{let t=n.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(t=`rgba(${n.vars.palette.common.onBackgroundChannel} / ${n.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kc.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kc.error}`]:{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kc.disabled}, .${kc.error}):before`]:{borderBottom:`2px solid ${(n.vars||n).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${kc.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(n.palette).filter(tn()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(n.vars||n).palette[r].main}`}}}))]}})),g5=de(tp,{name:"MuiInput",slot:"Input",overridesResolver:Jh})({}),Sv=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:o,fullWidth:c=!1,inputComponent:d="input",multiline:u=!1,slotProps:h,slots:p={},type:g="text",...v}=r,y=p5(r),S={root:{ownerState:{disableUnderline:i}}},E=h??o?Nn(h??o,S):S,R=p.root??s.Root??m5,A=p.input??s.Input??g5;return T.jsx(xv,{slots:{root:R,input:A},slotProps:E,fullWidth:c,inputComponent:d,multiline:u,ref:t,type:g,...v,classes:y})});Sv.muiName="Input";function y5(n){return He("MuiInputAdornment",n)}const b1=qe("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var S1;const v5=(n,e)=>{const{ownerState:t}=n;return[e.root,e[`position${he(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},x5=n=>{const{classes:e,disablePointerEvents:t,hiddenLabel:r,position:i,size:s,variant:o}=n,c={root:["root",t&&"disablePointerEvents",i&&`position${he(i)}`,o,r&&"hiddenLabel",s&&`size${he(s)}`]};return Ve(c,y5,e)},b5=de("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:v5})(We(({theme:n})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(n.vars||n).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${b1.positionStart}&:not(.${b1.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),us=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:o="div",disablePointerEvents:c=!1,disableTypography:d=!1,position:u,variant:h,...p}=r,g=Ja()||{};let v=h;h&&g.variant,g&&!v&&(v=g.variant);const y={...r,hiddenLabel:g.hiddenLabel,size:g.size,disablePointerEvents:c,position:u,variant:v},x=x5(y);return T.jsx(Qh.Provider,{value:null,children:T.jsx(b5,{as:o,ownerState:y,className:Re(x.root,s),ref:t,...p,children:typeof i=="string"&&!d?T.jsx(ve,{color:"textSecondary",children:i}):T.jsxs(D.Fragment,{children:[u==="start"?S1||(S1=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function S5(n){return He("MuiInputLabel",n)}qe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const E5=n=>{const{classes:e,formControl:t,size:r,shrink:i,disableAnimation:s,variant:o,required:c}=n,d={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="medium"&&`size${he(r)}`,o],asterisk:[c&&"asterisk"]},u=Ve(d,S5,e);return{...e,...u}},T5=de(f5,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${tu.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(We(({theme:n})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:n.transitions.create(["color","transform","max-width"],{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:r})=>e==="filled"&&t.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),nu=D.forwardRef(function(e,t){const r=Ke({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:o,variant:c,className:d,...u}=r,h=Ja();let p=o;typeof p>"u"&&h&&(p=h.filled||h.focused||h.adornedStart);const g=Dl({props:r,muiFormControl:h,states:["size","variant","required","focused"]}),v={...r,disableAnimation:i,formControl:h,shrink:p,size:g.size,variant:g.variant,required:g.required,focused:g.focused},y=E5(v);return T.jsx(T5,{"data-shrink":p,ref:t,className:Re(y.root,d),...u,ownerState:v,classes:y})});function A5(n){return He("MuiLink",n)}const C5=qe("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),R5=({theme:n,ownerState:e})=>{const t=e.color,r=Xs(n,`palette.${t}.main`,!1)||Xs(n,`palette.${t}`,!1)||e.color,i=Xs(n,`palette.${t}.mainChannel`)||Xs(n,`palette.${t}Channel`);return"vars"in n&&i?`rgba(${i} / 0.4)`:ot(r,.4)},E1={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},w5=n=>{const{classes:e,component:t,focusVisible:r,underline:i}=n,s={root:["root",`underline${he(i)}`,t==="button"&&"button",r&&"focusVisible"]};return Ve(s,A5,e)},L5=de(ve,{name:"MuiLink",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`underline${he(t.underline)}`],t.component==="button"&&e.button]}})(We(({theme:n})=>({variants:[{props:{underline:"none"},style:{textDecoration:"none"}},{props:{underline:"hover"},style:{textDecoration:"none","&:hover":{textDecoration:"underline"}}},{props:{underline:"always"},style:{textDecoration:"underline","&:hover":{textDecorationColor:"inherit"}}},{props:({underline:e,ownerState:t})=>e==="always"&&t.color!=="inherit",style:{textDecorationColor:"var(--Link-underlineColor)"}},...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{underline:"always",color:e},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.4)`:ot(n.palette[e].main,.4)}})),{props:{underline:"always",color:"textPrimary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.primaryChannel} / 0.4)`:ot(n.palette.text.primary,.4)}},{props:{underline:"always",color:"textSecondary"},style:{"--Link-underlineColor":n.vars?`rgba(${n.vars.palette.text.secondaryChannel} / 0.4)`:ot(n.palette.text.secondary,.4)}},{props:{underline:"always",color:"textDisabled"},style:{"--Link-underlineColor":(n.vars||n).palette.text.disabled}},{props:{component:"button"},style:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${C5.focusVisible}`]:{outline:"auto"}}}]}))),el=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiLink"}),i=hi(),{className:s,color:o="primary",component:c="a",onBlur:d,onFocus:u,TypographyClasses:h,underline:p="always",variant:g="inherit",sx:v,...y}=r,[x,S]=D.useState(!1),E=I=>{$i(I.target)||S(!1),d&&d(I)},R=I=>{$i(I.target)&&S(!0),u&&u(I)},A={...r,color:o,component:c,focusVisible:x,underline:p,variant:g},L=w5(A);return T.jsx(L5,{color:o,className:Re(L.root,s),classes:h,component:c,onBlur:E,onFocus:R,ref:t,ownerState:A,variant:g,...y,sx:[...E1[o]===void 0?[{color:o}]:[],...Array.isArray(v)?v:[v]],style:{...y.style,...p==="always"&&o!=="inherit"&&!E1[o]&&{"--Link-underlineColor":R5({theme:i,ownerState:A})}}})}),hs=D.createContext({});function I5(n){return He("MuiList",n)}qe("MuiList",["root","padding","dense","subheader"]);const D5=n=>{const{classes:e,disablePadding:t,dense:r,subheader:i}=n;return Ve({root:["root",!t&&"padding",r&&"dense",i&&"subheader"]},I5,e)},P5=de("ul",{name:"MuiList",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:n})=>!n.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:n})=>n.subheader,style:{paddingTop:0}}]}),Ev=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:c=!1,disablePadding:d=!1,subheader:u,...h}=r,p=D.useMemo(()=>({dense:c}),[c]),g={...r,component:o,dense:c,disablePadding:d},v=D5(g);return T.jsx(hs.Provider,{value:p,children:T.jsxs(P5,{as:o,className:Re(v.root,s),ref:t,ownerState:g,...h,children:[u,i]})})});function _5(n){return He("MuiListItem",n)}qe("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);const O5=qe("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function k5(n){return He("MuiListItemSecondaryAction",n)}qe("MuiListItemSecondaryAction",["root","disableGutters"]);const M5=n=>{const{disableGutters:e,classes:t}=n;return Ve({root:["root",e&&"disableGutters"]},k5,t)},N5=de("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:n})=>n.disableGutters,style:{right:0}}]}),fw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...s}=r,o=D.useContext(hs),c={...r,disableGutters:o.disableGutters},d=M5(c);return T.jsx(N5,{className:Re(d.root,i),ownerState:c,ref:t,...s})});fw.muiName="ListItemSecondaryAction";const B5=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},$5=n=>{const{alignItems:e,classes:t,dense:r,disableGutters:i,disablePadding:s,divider:o,hasSecondaryAction:c}=n;return Ve({root:["root",r&&"dense",!i&&"gutters",!s&&"padding",o&&"divider",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction"],container:["container"]},_5,t)},F5=de("div",{name:"MuiListItem",slot:"Root",overridesResolver:B5})(We(({theme:n})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${O5.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),U5=de("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),hw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiListItem"}),{alignItems:i="center",children:s,className:o,component:c,components:d={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:p,...g}={},dense:v=!1,disableGutters:y=!1,disablePadding:x=!1,divider:S=!1,secondaryAction:E,slotProps:R={},slots:A={},...L}=r,I=D.useContext(hs),M=D.useMemo(()=>({dense:v||I.dense||!1,alignItems:i,disableGutters:y}),[i,I.dense,v,y]),P=D.useRef(null),k=D.Children.toArray(s),_=k.length&&Yc(k[k.length-1],["ListItemSecondaryAction"]),w={...r,alignItems:i,dense:M.dense,disableGutters:y,disablePadding:x,divider:S,hasSecondaryAction:_},B=$5(w),j=ln(P,t),z=A.root||d.Root||F5,q=R.root||u.root||{},K={className:Re(B.root,q.className,o),...L};let $=c||"li";return _?($=!K.component&&!c?"div":$,h==="li"&&($==="li"?$="div":K.component==="li"&&(K.component="div")),T.jsx(hs.Provider,{value:M,children:T.jsxs(U5,{as:h,className:Re(B.container,p),ref:j,ownerState:w,...g,children:[T.jsx(z,{...q,...!fs(z)&&{as:$,ownerState:{...w,...q.ownerState}},...K,children:k}),k.pop()]})})):T.jsx(hs.Provider,{value:M,children:T.jsxs(z,{...q,as:$,ref:j,...!fs(z)&&{ownerState:{...w,...q.ownerState}},...K,children:[k,E&&T.jsx(fw,{children:E})]})})});function j5(n){return He("MuiListItemIcon",n)}const T1=qe("MuiListItemIcon",["root","alignItemsFlexStart"]),z5=n=>{const{alignItems:e,classes:t}=n;return Ve({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},j5,t)},G5=de("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(We(({theme:n})=>({minWidth:56,color:(n.vars||n).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),H5=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiListItemIcon"}),{className:i,...s}=r,o=D.useContext(hs),c={...r,alignItems:o.alignItems},d=z5(c);return T.jsx(G5,{className:Re(d.root,i),ownerState:c,ref:t,...s})});function V5(n){return He("MuiListItemText",n)}const tl=qe("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),K5=n=>{const{classes:e,inset:t,primary:r,secondary:i,dense:s}=n;return Ve({root:["root",t&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},V5,e)},W5=de("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${tl.primary}`]:e.primary},{[`& .${tl.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${KT.root}:where(& .${tl.primary})`]:{display:"block"},[`.${KT.root}:where(& .${tl.secondary})`]:{display:"block"},variants:[{props:({ownerState:n})=>n.primary&&n.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:n})=>n.inset,style:{paddingLeft:56}}]}),pw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:c=!1,primary:d,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:p,slots:g={},slotProps:v={},...y}=r,{dense:x}=D.useContext(hs);let S=d??i,E=h;const R={...r,disableTypography:o,inset:c,primary:!!S,secondary:!!E,dense:x},A=K5(R),L={slots:g,slotProps:{primary:u,secondary:p,...v}},[I,M]=Ze("root",{className:Re(A.root,s),elementType:W5,externalForwardedProps:{...L,...y},ownerState:R,ref:t}),[P,k]=Ze("primary",{className:A.primary,elementType:ve,externalForwardedProps:L,ownerState:R}),[_,w]=Ze("secondary",{className:A.secondary,elementType:ve,externalForwardedProps:L,ownerState:R});return S!=null&&S.type!==ve&&!o&&(S=T.jsx(P,{variant:x?"body2":"body1",component:k?.variant?void 0:"span",...k,children:S})),E!=null&&E.type!==ve&&!o&&(E=T.jsx(_,{variant:"body2",color:"textSecondary",...w,children:E})),T.jsxs(I,{...M,children:[S,E]})});function Kg(n,e,t){return n===e?n.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:n.firstChild}function A1(n,e,t){return n===e?t?n.firstChild:n.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:n.lastChild}function mw(n,e){if(e===void 0)return!0;let t=n.innerText;return t===void 0&&(t=n.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Mc(n,e,t,r,i,s){let o=!1,c=i(n,e,e?t:!1);for(;c;){if(c===n.firstChild){if(o)return!1;o=!0}const d=r?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!mw(c,s)||d)c=i(n,c,t);else return c.focus(),!0}return!1}const q5=D.forwardRef(function(e,t){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:c,disabledItemsFocusable:d=!1,disableListWrap:u=!1,onKeyDown:h,variant:p="selectedMenu",...g}=e,v=D.useRef(null),y=D.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});pr(()=>{i&&v.current.focus()},[i]),D.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(A,{direction:L})=>{const I=!v.current.style.width;if(A.clientHeight<v.current.clientHeight&&I){const M=`${lw(gs(A))}px`;v.current.style[L==="rtl"?"paddingLeft":"paddingRight"]=M,v.current.style.width=`calc(100% + ${M})`}return v.current}}),[]);const x=A=>{const L=v.current,I=A.key;if(A.ctrlKey||A.metaKey||A.altKey){h&&h(A);return}const P=jn(L).activeElement;if(I==="ArrowDown")A.preventDefault(),Mc(L,P,u,d,Kg);else if(I==="ArrowUp")A.preventDefault(),Mc(L,P,u,d,A1);else if(I==="Home")A.preventDefault(),Mc(L,null,u,d,Kg);else if(I==="End")A.preventDefault(),Mc(L,null,u,d,A1);else if(I.length===1){const k=y.current,_=I.toLowerCase(),w=performance.now();k.keys.length>0&&(w-k.lastTime>500?(k.keys=[],k.repeating=!0,k.previousKeyMatched=!0):k.repeating&&_!==k.keys[0]&&(k.repeating=!1)),k.lastTime=w,k.keys.push(_);const B=P&&!k.repeating&&mw(P,k);k.previousKeyMatched&&(B||Mc(L,P,!1,d,Kg,k))?A.preventDefault():k.previousKeyMatched=!1}h&&h(A)},S=ln(v,t);let E=-1;D.Children.forEach(o,(A,L)=>{if(!D.isValidElement(A)){E===L&&(E+=1,E>=o.length&&(E=-1));return}A.props.disabled||(p==="selectedMenu"&&A.props.selected||E===-1)&&(E=L),E===L&&(A.props.disabled||A.props.muiSkipListHighlight||A.type.muiSkipListHighlight)&&(E+=1,E>=o.length&&(E=-1))});const R=D.Children.map(o,(A,L)=>{if(L===E){const I={};return s&&(I.autoFocus=!0),A.props.tabIndex===void 0&&p==="selectedMenu"&&(I.tabIndex=0),D.cloneElement(A,I)}return A});return T.jsx(Ev,{role:"menu",ref:S,className:c,onKeyDown:x,tabIndex:i?0:-1,...g,children:R})});function Y5(n){return He("MuiPopover",n)}qe("MuiPopover",["root","paper"]);function C1(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.height/2:e==="bottom"&&(t=n.height),t}function R1(n,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=n.width/2:e==="right"&&(t=n.width),t}function w1(n){return[n.horizontal,n.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function af(n){return typeof n=="function"?n():n}const X5=n=>{const{classes:e}=n;return Ve({root:["root"],paper:["paper"]},Y5,e)},Q5=de(cw,{name:"MuiPopover",slot:"Root"})({}),gw=de(Wn,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Z5=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:o={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:u,className:h,container:p,elevation:g=8,marginThreshold:v=16,open:y,PaperProps:x={},slots:S={},slotProps:E={},transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:A,transitionDuration:L="auto",TransitionProps:I={},disableScrollLock:M=!1,...P}=r,k=D.useRef(),_={...r,anchorOrigin:o,anchorReference:d,elevation:g,marginThreshold:v,transformOrigin:R,TransitionComponent:A,transitionDuration:L,TransitionProps:I},w=X5(_),B=D.useCallback(()=>{if(d==="anchorPosition")return c;const Te=af(s),ke=(Te&&Te.nodeType===1?Te:jn(k.current).body).getBoundingClientRect();return{top:ke.top+C1(ke,o.vertical),left:ke.left+R1(ke,o.horizontal)}},[s,o.horizontal,o.vertical,c,d]),j=D.useCallback(Te=>({vertical:C1(Te,R.vertical),horizontal:R1(Te,R.horizontal)}),[R.horizontal,R.vertical]),z=D.useCallback(Te=>{const Pe={width:Te.offsetWidth,height:Te.offsetHeight},ke=j(Pe);if(d==="none")return{top:null,left:null,transformOrigin:w1(ke)};const Be=B();let Me=Be.top-ke.vertical,ct=Be.left-ke.horizontal;const Ue=Me+Pe.height,Oe=ct+Pe.width,et=gs(af(s)),at=et.innerHeight-v,Je=et.innerWidth-v;if(v!==null&&Me<v){const De=Me-v;Me-=De,ke.vertical+=De}else if(v!==null&&Ue>at){const De=Ue-at;Me-=De,ke.vertical+=De}if(v!==null&&ct<v){const De=ct-v;ct-=De,ke.horizontal+=De}else if(Oe>Je){const De=Oe-Je;ct-=De,ke.horizontal+=De}return{top:`${Math.round(Me)}px`,left:`${Math.round(ct)}px`,transformOrigin:w1(ke)}},[s,d,B,j,v]),[q,K]=D.useState(y),$=D.useCallback(()=>{const Te=k.current;if(!Te)return;const Pe=z(Te);Pe.top!==null&&Te.style.setProperty("top",Pe.top),Pe.left!==null&&(Te.style.left=Pe.left),Te.style.transformOrigin=Pe.transformOrigin,K(!0)},[z]);D.useEffect(()=>(M&&window.addEventListener("scroll",$),()=>window.removeEventListener("scroll",$)),[s,M,$]);const W=()=>{$()},G=()=>{K(!1)};D.useEffect(()=>{y&&$()}),D.useImperativeHandle(i,()=>y?{updatePosition:()=>{$()}}:null,[y,$]),D.useEffect(()=>{if(!y)return;const Te=BR(()=>{$()}),Pe=gs(af(s));return Pe.addEventListener("resize",Te),()=>{Te.clear(),Pe.removeEventListener("resize",Te)}},[s,y,$]);let Y=L;const F={slots:{transition:A,...S},slotProps:{transition:I,paper:x,...E}},[H,Q]=Ze("transition",{elementType:ch,externalForwardedProps:F,ownerState:_,getSlotProps:Te=>({...Te,onEntering:(Pe,ke)=>{Te.onEntering?.(Pe,ke),W()},onExited:Pe=>{Te.onExited?.(Pe),G()}}),additionalProps:{appear:!0,in:y}});L==="auto"&&!H.muiSupportAuto&&(Y=void 0);const ee=p||(s?jn(af(s)).body:void 0),[ce,{slots:se,slotProps:V,...oe}]=Ze("root",{ref:t,elementType:Q5,externalForwardedProps:{...F,...P},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:S.backdrop},slotProps:{backdrop:BN(typeof E.backdrop=="function"?E.backdrop(_):E.backdrop,{invisible:!0})},container:ee,open:y},ownerState:_,className:Re(w.root,h)}),[me,we]=Ze("paper",{ref:k,className:w.paper,elementType:gw,externalForwardedProps:F,shouldForwardComponentProp:!0,additionalProps:{elevation:g,style:q?void 0:{opacity:0}},ownerState:_});return T.jsx(ce,{...oe,...!fs(ce)&&{slots:se,slotProps:V,disableScrollLock:M},children:T.jsx(H,{...Q,timeout:Y,children:T.jsx(me,{...we,children:u})})})});function J5(n){return He("MuiMenu",n)}qe("MuiMenu",["root","paper","list"]);const eU={vertical:"top",horizontal:"right"},tU={vertical:"top",horizontal:"left"},nU=n=>{const{classes:e}=n;return Ve({root:["root"],paper:["paper"],list:["list"]},J5,e)},rU=de(Z5,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiMenu",slot:"Root"})({}),iU=de(gw,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),sU=de(q5,{name:"MuiMenu",slot:"List"})({outline:0}),gu=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:o,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:u,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:y,...x}={},variant:S="selectedMenu",slots:E={},slotProps:R={},...A}=r,L=wl(),I={...r,autoFocus:i,disableAutoFocusItem:c,MenuListProps:d,onEntering:y,PaperProps:p,transitionDuration:v,TransitionProps:x,variant:S},M=nU(I),P=i&&!c&&h,k=D.useRef(null),_=(Y,F)=>{k.current&&k.current.adjustStyleForScrollbar(Y,{direction:L?"rtl":"ltr"}),y&&y(Y,F)},w=Y=>{Y.key==="Tab"&&(Y.preventDefault(),u&&u(Y,"tabKeyDown"))};let B=-1;D.Children.map(s,(Y,F)=>{D.isValidElement(Y)&&(Y.props.disabled||(S==="selectedMenu"&&Y.props.selected||B===-1)&&(B=F))});const j={slots:E,slotProps:{list:d,transition:x,paper:p,...R}},z=Ri({elementType:E.root,externalSlotProps:R.root,ownerState:I,className:[M.root,o]}),[q,K]=Ze("paper",{className:M.paper,elementType:iU,externalForwardedProps:j,shouldForwardComponentProp:!0,ownerState:I}),[$,W]=Ze("list",{className:Re(M.list,d.className),elementType:sU,shouldForwardComponentProp:!0,externalForwardedProps:j,getSlotProps:Y=>({...Y,onKeyDown:F=>{w(F),Y.onKeyDown?.(F)}}),ownerState:I}),G=typeof j.slotProps.transition=="function"?j.slotProps.transition(I):j.slotProps.transition;return T.jsx(rU,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:L?"right":"left"},transformOrigin:L?eU:tU,slots:{root:E.root,paper:q,backdrop:E.backdrop,...E.transition&&{transition:E.transition}},slotProps:{root:z,paper:K,backdrop:typeof R.backdrop=="function"?R.backdrop(I):R.backdrop,transition:{...G,onEntering:(...Y)=>{_(...Y),G?.onEntering?.(...Y)}}},open:h,ref:t,transitionDuration:v,ownerState:I,...A,classes:g,children:T.jsx($,{actions:k,autoFocus:i&&(B===-1||c),autoFocusItem:P,variant:S,...W,children:s})})});function aU(n){return He("MuiMenuItem",n)}const Nc=qe("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),oU=(n,e)=>{const{ownerState:t}=n;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},lU=n=>{const{disabled:e,dense:t,divider:r,disableGutters:i,selected:s,classes:o}=n,d=Ve({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",s&&"selected"]},aU,o);return{...o,...d}},cU=de(qa,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:oU})(We(({theme:n})=>({...n.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Nc.selected}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:ot(n.palette.primary.main,n.palette.action.selectedOpacity),[`&.${Nc.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ot(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)}},[`&.${Nc.selected}:hover`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:ot(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${n.vars.palette.primary.mainChannel} / ${n.vars.palette.action.selectedOpacity})`:ot(n.palette.primary.main,n.palette.action.selectedOpacity)}},[`&.${Nc.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Nc.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},[`& + .${y1.root}`]:{marginTop:n.spacing(1),marginBottom:n.spacing(1)},[`& + .${y1.inset}`]:{marginLeft:52},[`& .${tl.root}`]:{marginTop:0,marginBottom:0},[`& .${tl.inset}`]:{paddingLeft:36},[`& .${T1.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(n.vars||n).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[n.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...n.typography.body2,[`& .${T1.root} svg`]:{fontSize:"1.25rem"}}}]}))),en=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:o=!1,divider:c=!1,disableGutters:d=!1,focusVisibleClassName:u,role:h="menuitem",tabIndex:p,className:g,...v}=r,y=D.useContext(hs),x=D.useMemo(()=>({dense:o||y.dense||!1,disableGutters:d}),[y.dense,o,d]),S=D.useRef(null);pr(()=>{i&&S.current&&S.current.focus()},[i]);const E={...r,dense:x.dense,divider:c,disableGutters:d},R=lU(r),A=ln(S,t);let L;return r.disabled||(L=p!==void 0?p:-1),T.jsx(hs.Provider,{value:x,children:T.jsx(cU,{ref:A,role:h,tabIndex:L,component:s,focusVisibleClassName:Re(R.focusVisible,u),className:Re(R.root,g),...v,ownerState:E,classes:R})})});function uU(n){return He("MuiNativeSelect",n)}const Tv=qe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),dU=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,c={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(t)}`,s&&"iconOpen",r&&"disabled"]};return Ve(c,uU,e)},yw=de("select",{name:"MuiNativeSelect"})(({theme:n})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Tv.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}}}]})),fU=de(yw,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Qr,overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Tv.multiple}`]:e.multiple}]}})({}),vw=de("svg",{name:"MuiNativeSelect"})(({theme:n})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Tv.disabled}`]:{color:(n.vars||n).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),hU=de(vw,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${he(t.variant)}`],t.open&&e.iconOpen]}})({}),pU=D.forwardRef(function(e,t){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:c,variant:d="standard",...u}=e,h={...e,disabled:i,variant:d,error:s},p=dU(h);return T.jsxs(D.Fragment,{children:[T.jsx(fU,{ownerState:h,className:Re(p.select,r),disabled:i,ref:c||t,...u}),e.multiple?null:T.jsx(hU,{as:o,ownerState:h,className:p.icon})]})});var L1;const mU=de("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Qr})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),gU=de("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Qr})(We(({theme:n})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}}]})));function yU(n){const{children:e,classes:t,className:r,label:i,notched:s,...o}=n,c=i!=null&&i!=="",d={...n,notched:s,withLabel:c};return T.jsx(mU,{"aria-hidden":!0,className:r,ownerState:d,...o,children:T.jsx(gU,{ownerState:d,children:c?T.jsx("span",{children:i}):L1||(L1=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const vU=n=>{const{classes:e}=n,r=Ve({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},SF,e);return{...e,...r}},xU=de(ep,{shouldForwardProp:n=>Qr(n)||n==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Zh})(We(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(n.vars||n).shape.borderRadius,[`&:hover .${Ti.notchedOutline}`]:{borderColor:(n.vars||n).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ti.notchedOutline}`]:{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${Ti.focused} .${Ti.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(n.palette).filter(tn()).map(([t])=>({props:{color:t},style:{[`&.${Ti.focused} .${Ti.notchedOutline}`]:{borderColor:(n.vars||n).palette[t].main}}})),{props:{},style:{[`&.${Ti.error} .${Ti.notchedOutline}`]:{borderColor:(n.vars||n).palette.error.main},[`&.${Ti.disabled} .${Ti.notchedOutline}`]:{borderColor:(n.vars||n).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:r})=>t.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),bU=de(yU,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(We(({theme:n})=>{const e=n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:n.vars?`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),SU=de(tp,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Jh})(We(({theme:n})=>({padding:"16.5px 14px",...!n.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:n.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:n.palette.mode==="light"?null:"#fff",caretColor:n.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...n.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[n.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),Av=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:s=!1,inputComponent:o="input",label:c,multiline:d=!1,notched:u,slots:h={},slotProps:p={},type:g="text",...v}=r,y=vU(r),x=Ja(),S=Dl({props:r,muiFormControl:x,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),E={...r,color:S.color||"primary",disabled:S.disabled,error:S.error,focused:S.focused,formControl:x,fullWidth:s,hiddenLabel:S.hiddenLabel,multiline:d,size:S.size,type:g},R=h.root??i.Root??xU,A=h.input??i.Input??SU,[L,I]=Ze("notchedOutline",{elementType:bU,className:y.notchedOutline,shouldForwardComponentProp:!0,ownerState:E,externalForwardedProps:{slots:h,slotProps:p},additionalProps:{label:c!=null&&c!==""&&S.required?T.jsxs(D.Fragment,{children:[c,"","*"]}):c}});return T.jsx(xv,{slots:{root:R,input:A},slotProps:p,renderSuffix:M=>T.jsx(L,{...I,notched:typeof u<"u"?u:!!(M.startAdornment||M.filled||M.focused)}),fullWidth:s,inputComponent:o,multiline:d,ref:t,type:g,...v,classes:{...y,notchedOutline:null}})});Av.muiName="Input";function EU(n){return He("MuiPagination",n)}qe("MuiPagination",["root","ul","outlined","text"]);function TU(n={}){const{boundaryCount:e=1,componentName:t="usePagination",count:r=1,defaultPage:i=1,disabled:s=!1,hideNextButton:o=!1,hidePrevButton:c=!1,onChange:d,page:u,showFirstButton:h=!1,showLastButton:p=!1,siblingCount:g=1,...v}=n,[y,x]=fl({controlled:u,default:i,name:t,state:"page"}),S=(_,w)=>{u||x(w),d&&d(_,w)},E=(_,w)=>{const B=w-_+1;return Array.from({length:B},(j,z)=>_+z)},R=E(1,Math.min(e,r)),A=E(Math.max(r-e+1,e+1),r),L=Math.max(Math.min(y-g,r-e-g*2-1),e+2),I=Math.min(Math.max(y+g,e+g*2+2),r-e-1),M=[...h?["first"]:[],...c?[]:["previous"],...R,...L>e+2?["start-ellipsis"]:e+1<r-e?[e+1]:[],...E(L,I),...I<r-e-1?["end-ellipsis"]:r-e>e?[r-e]:[],...A,...o?[]:["next"],...p?["last"]:[]],P=_=>{switch(_){case"first":return 1;case"previous":return y-1;case"next":return y+1;case"last":return r;default:return null}};return{items:M.map(_=>typeof _=="number"?{onClick:w=>{S(w,_)},type:"page",page:_,selected:_===y,disabled:s,"aria-current":_===y?"page":void 0}:{onClick:w=>{S(w,P(_))},type:_,page:P(_),selected:!1,disabled:s||!_.includes("ellipsis")&&(_==="next"||_==="last"?y>=r:y<=1)}),...v}}function AU(n){return He("MuiPaginationItem",n)}const Zn=qe("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),CU=Qe(T.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),RU=Qe(T.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),wU=Qe(T.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),LU=Qe(T.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),xw=(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`size${he(t.size)}`],t.variant==="text"&&e[`text${he(t.color)}`],t.variant==="outlined"&&e[`outlined${he(t.color)}`],t.shape==="rounded"&&e.rounded,t.type==="page"&&e.page,(t.type==="start-ellipsis"||t.type==="end-ellipsis")&&e.ellipsis,(t.type==="previous"||t.type==="next")&&e.previousNext,(t.type==="first"||t.type==="last")&&e.firstLast]},IU=n=>{const{classes:e,color:t,disabled:r,selected:i,size:s,shape:o,type:c,variant:d}=n,u={root:["root",`size${he(s)}`,d,o,t!=="standard"&&`color${he(t)}`,t!=="standard"&&`${d}${he(t)}`,r&&"disabled",i&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[c]],icon:["icon"]};return Ve(u,AU,e)},DU=de("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:xw})(We(({theme:n})=>({...n.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(n.vars||n).palette.text.primary,height:"auto",[`&.${Zn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:n.typography.pxToRem(15)}}]}))),PU=de(qa,{name:"MuiPaginationItem",slot:"Root",overridesResolver:xw})(We(({theme:n})=>({...n.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(n.vars||n).palette.text.primary,[`&.${Zn.focusVisible}`]:{backgroundColor:(n.vars||n).palette.action.focus},[`&.${Zn.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity},transition:n.transitions.create(["color","background-color"],{duration:n.transitions.duration.short}),"&:hover":{backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zn.selected}`]:{backgroundColor:(n.vars||n).palette.action.selected,"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:ot(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(n.vars||n).palette.action.selected}},[`&.${Zn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette.action.selectedChannel} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ot(n.palette.action.selected,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)},[`&.${Zn.disabled}`]:{opacity:1,color:(n.vars||n).palette.action.disabled,backgroundColor:(n.vars||n).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:n.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(n.vars||n).shape.borderRadius}},{props:{variant:"outlined"},style:{border:n.vars?`1px solid rgba(${n.vars.palette.common.onBackgroundChannel} / 0.23)`:`1px solid ${n.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${Zn.selected}`]:{[`&.${Zn.disabled}`]:{borderColor:(n.vars||n).palette.action.disabledBackground,color:(n.vars||n).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${Zn.selected}`]:{[`&.${Zn.disabled}`]:{color:(n.vars||n).palette.action.disabled}}}},...Object.entries(n.palette).filter(tn(["dark","contrastText"])).map(([e])=>({props:{variant:"text",color:e},style:{[`&.${Zn.selected}`]:{color:(n.vars||n).palette[e].contrastText,backgroundColor:(n.vars||n).palette[e].main,"&:hover":{backgroundColor:(n.vars||n).palette[e].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e].main}},[`&.${Zn.focusVisible}`]:{backgroundColor:(n.vars||n).palette[e].dark},[`&.${Zn.disabled}`]:{color:(n.vars||n).palette.action.disabled}}}})),...Object.entries(n.palette).filter(tn(["light"])).map(([e])=>({props:{variant:"outlined",color:e},style:{[`&.${Zn.selected}`]:{color:(n.vars||n).palette[e].main,border:`1px solid ${n.vars?`rgba(${n.vars.palette[e].mainChannel} / 0.5)`:ot(n.palette[e].main,.5)}`,backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / ${n.vars.palette.action.activatedOpacity})`:ot(n.palette[e].main,n.palette.action.activatedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.activatedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ot(n.palette[e].main,n.palette.action.activatedOpacity+n.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zn.focusVisible}`]:{backgroundColor:n.vars?`rgba(${n.vars.palette[e].mainChannel} / calc(${n.vars.palette.action.activatedOpacity} + ${n.vars.palette.action.focusOpacity}))`:ot(n.palette[e].main,n.palette.action.activatedOpacity+n.palette.action.focusOpacity)}}}}))]}))),_U=de("div",{name:"MuiPaginationItem",slot:"Icon"})(We(({theme:n})=>({fontSize:n.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(22)}}]}))),OU=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiPaginationItem"}),{className:i,color:s="standard",component:o,components:c={},disabled:d=!1,page:u,selected:h=!1,shape:p="circular",size:g="medium",slots:v={},slotProps:y={},type:x="page",variant:S="text",...E}=r,R={...r,color:s,disabled:d,selected:h,shape:p,size:g,type:x,variant:S},A=wl(),L=IU(R),I={slots:{previous:v.previous??c.previous,next:v.next??c.next,first:v.first??c.first,last:v.last??c.last},slotProps:y},[M,P]=Ze("previous",{elementType:wU,externalForwardedProps:I,ownerState:R}),[k,_]=Ze("next",{elementType:LU,externalForwardedProps:I,ownerState:R}),[w,B]=Ze("first",{elementType:CU,externalForwardedProps:I,ownerState:R}),[j,z]=Ze("last",{elementType:RU,externalForwardedProps:I,ownerState:R}),q=A?{previous:"next",next:"previous",first:"last",last:"first"}[x]:x,K={previous:M,next:k,first:w,last:j}[q],$={previous:P,next:_,first:B,last:z}[q];return x==="start-ellipsis"||x==="end-ellipsis"?T.jsx(DU,{ref:t,ownerState:R,className:Re(L.root,i),children:""}):T.jsxs(PU,{ref:t,ownerState:R,component:o,disabled:d,className:Re(L.root,i),...E,children:[x==="page"&&u,K?T.jsx(_U,{...$,className:L.icon,as:K}):null]})}),kU=n=>{const{classes:e,variant:t}=n;return Ve({root:["root",t],ul:["ul"]},EU,e)},MU=de("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant]]}})({}),NU=de("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function BU(n,e,t){return n==="page"?`${t?"":"Go to "}page ${e}`:`Go to ${n} page`}const $U=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiPagination"}),{boundaryCount:i=1,className:s,color:o="standard",count:c=1,defaultPage:d=1,disabled:u=!1,getItemAriaLabel:h=BU,hideNextButton:p=!1,hidePrevButton:g=!1,onChange:v,page:y,renderItem:x=w=>T.jsx(OU,{...w}),shape:S="circular",showFirstButton:E=!1,showLastButton:R=!1,siblingCount:A=1,size:L="medium",variant:I="text",...M}=r,{items:P}=TU({...r,componentName:"Pagination"}),k={...r,boundaryCount:i,color:o,count:c,defaultPage:d,disabled:u,getItemAriaLabel:h,hideNextButton:p,hidePrevButton:g,renderItem:x,shape:S,showFirstButton:E,showLastButton:R,siblingCount:A,size:L,variant:I},_=kU(k);return T.jsx(MU,{"aria-label":"pagination navigation",className:Re(_.root,s),ownerState:k,ref:t,...M,children:T.jsx(NU,{className:_.ul,ownerState:k,children:P.map((w,B)=>T.jsx("li",{children:x({...w,color:o,"aria-label":h(w.type,w.page,w.selected),shape:S,size:L,variant:I})},B))})})}),bw={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},FU=Qe(T.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),UU=Qe(T.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function jU(n){return He("MuiRating",n)}const Bc=qe("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function zU(n){const e=n.toString().split(".")[1];return e?e.length:0}function Wg(n,e){if(n==null)return n;const t=Math.round(n/e)*e;return Number(t.toFixed(zU(e)))}const GU=n=>{const{classes:e,size:t,readOnly:r,disabled:i,emptyValueFocused:s,focusVisible:o}=n,c={root:["root",`size${he(t)}`,i&&"disabled",o&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[s&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return Ve(c,jU,e)},HU=de("span",{name:"MuiRating",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`& .${Bc.visuallyHidden}`]:e.visuallyHidden},e.root,e[`size${he(t.size)}`],t.readOnly&&e.readOnly]}})(We(({theme:n})=>({display:"inline-flex",position:"relative",fontSize:n.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${Bc.disabled}`]:{opacity:(n.vars||n).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${Bc.focusVisible} .${Bc.iconActive}`]:{outline:"1px solid #999"},[`& .${Bc.visuallyHidden}`]:bw,variants:[{props:{size:"small"},style:{fontSize:n.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:n.typography.pxToRem(30)}},{props:({ownerState:e})=>e.readOnly,style:{pointerEvents:"none"}}]}))),Sw=de("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:n},e)=>[e.label,n.emptyValueFocused&&e.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:n})=>n.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),VU=de("span",{name:"MuiRating",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.iconEmpty&&e.iconEmpty,t.iconFilled&&e.iconFilled,t.iconHover&&e.iconHover,t.iconFocus&&e.iconFocus,t.iconActive&&e.iconActive]}})(We(({theme:n})=>({display:"flex",transition:n.transitions.create("transform",{duration:n.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:e})=>e.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:e})=>e.iconEmpty,style:{color:(n.vars||n).palette.action.disabled}}]}))),KU=de("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:n=>Mu(n)&&n!=="iconActive",overridesResolver:(n,e)=>{const{iconActive:t}=n;return[e.decimal,t&&e.iconActive]}})({position:"relative",variants:[{props:({iconActive:n})=>n,style:{transform:"scale(1.2)"}}]});function WU(n){const{value:e,...t}=n;return T.jsx("span",{...t})}function I1(n){const{classes:e,disabled:t,emptyIcon:r,focus:i,getLabelText:s,highlightSelectedOnly:o,hover:c,icon:d,IconContainerComponent:u,isActive:h,itemValue:p,labelProps:g,name:v,onBlur:y,onChange:x,onClick:S,onFocus:E,readOnly:R,ownerState:A,ratingValue:L,ratingValueRounded:I,slots:M={},slotProps:P={}}=n,k=o?p===L:p<=L,_=p<=c,w=p<=i,B=p===I,j=`${v}-${vs()}`,z={slots:M,slotProps:P},[q,K]=Ze("icon",{elementType:VU,className:Re(e.icon,k?e.iconFilled:e.iconEmpty,_&&e.iconHover,w&&e.iconFocus,h&&e.iconActive),externalForwardedProps:z,ownerState:{...A,iconEmpty:!k,iconFilled:k,iconHover:_,iconFocus:w,iconActive:h},additionalProps:{value:p},internalForwardedProps:{as:u}}),[$,W]=Ze("label",{elementType:Sw,externalForwardedProps:z,ownerState:{...A,emptyValueFocused:void 0},additionalProps:{style:g?.style,htmlFor:j}}),G=T.jsx(q,{...K,children:r&&!k?r:d});return R?T.jsx("span",{...g,children:G}):T.jsxs(D.Fragment,{children:[T.jsxs($,{...W,children:[G,T.jsx("span",{className:e.visuallyHidden,children:s(p)})]}),T.jsx("input",{className:e.visuallyHidden,onFocus:E,onBlur:y,onChange:x,onClick:S,disabled:t,value:p,id:j,type:"radio",name:v,checked:B})]})}const qU=T.jsx(FU,{fontSize:"inherit"}),YU=T.jsx(UU,{fontSize:"inherit"});function XU(n){return`${n||"0"} Star${n!==1?"s":""}`}const QU=D.forwardRef(function(e,t){const r=Ke({name:"MuiRating",props:e}),{component:i="span",className:s,defaultValue:o=null,disabled:c=!1,emptyIcon:d=YU,emptyLabelText:u="Empty",getLabelText:h=XU,highlightSelectedOnly:p=!1,icon:g=qU,IconContainerComponent:v=WU,max:y=5,name:x,onChange:S,onChangeActive:E,onMouseLeave:R,onMouseMove:A,precision:L=1,readOnly:I=!1,size:M="medium",value:P,slots:k={},slotProps:_={},...w}=r,B=vs(x),[j,z]=fl({controlled:P,default:o,name:"Rating"}),q=Wg(j,L),K=wl(),[{hover:$,focus:W},G]=D.useState({hover:-1,focus:-1});let Y=q;$!==-1&&(Y=$),W!==-1&&(Y=W);const[F,H]=D.useState(!1),Q=D.useRef(),ee=ln(Q,t),ce=De=>{A&&A(De);const Se=Q.current,{right:ht,left:ut,width:Ae}=Se.getBoundingClientRect();let be;K?be=(ht-De.clientX)/Ae:be=(De.clientX-ut)/Ae;let Ee=Wg(y*be+L/2,L);Ee=Ma(Ee,L,y),G(Ie=>Ie.hover===Ee&&Ie.focus===Ee?Ie:{hover:Ee,focus:Ee}),H(!1),E&&$!==Ee&&E(De,Ee)},se=De=>{R&&R(De);const Se=-1;G({hover:Se,focus:Se}),E&&$!==Se&&E(De,Se)},V=De=>{let Se=De.target.value===""?null:parseFloat(De.target.value);$!==-1&&(Se=$),z(Se),S&&S(De,Se)},oe=De=>{De.clientX===0&&De.clientY===0||(G({hover:-1,focus:-1}),z(null),S&&parseFloat(De.target.value)===q&&S(De,null))},me=De=>{$i(De.target)&&H(!0);const Se=parseFloat(De.target.value);G(ht=>({hover:ht.hover,focus:Se}))},we=De=>{if($!==-1)return;$i(De.target)||H(!1);const Se=-1;G(ht=>({hover:ht.hover,focus:Se}))},[Te,Pe]=D.useState(!1),ke={...r,component:i,defaultValue:o,disabled:c,emptyIcon:d,emptyLabelText:u,emptyValueFocused:Te,focusVisible:F,getLabelText:h,icon:g,IconContainerComponent:v,max:y,precision:L,readOnly:I,size:M},Be=GU(ke),Me={slots:k,slotProps:_},[ct,Ue]=Ze("root",{ref:ee,className:Re(Be.root,s),elementType:HU,externalForwardedProps:{...Me,...w,component:i},getSlotProps:De=>({...De,onMouseMove:Se=>{ce(Se),De.onMouseMove?.(Se)},onMouseLeave:Se=>{se(Se),De.onMouseLeave?.(Se)}}),ownerState:ke,additionalProps:{role:I?"img":null,"aria-label":I?h(Y):null}}),[Oe,et]=Ze("label",{className:Re(Be.label,Be.labelEmptyValue),elementType:Sw,externalForwardedProps:Me,ownerState:ke}),[at,Je]=Ze("decimal",{className:Be.decimal,elementType:KU,externalForwardedProps:Me,ownerState:ke});return T.jsxs(ct,{...Ue,children:[Array.from(new Array(y)).map((De,Se)=>{const ht=Se+1,ut={classes:Be,disabled:c,emptyIcon:d,focus:W,getLabelText:h,highlightSelectedOnly:p,hover:$,icon:g,IconContainerComponent:v,name:B,onBlur:we,onChange:V,onClick:oe,onFocus:me,ratingValue:Y,ratingValueRounded:q,readOnly:I,ownerState:ke,slots:k,slotProps:_},Ae=ht===Math.ceil(Y)&&($!==-1||W!==-1);if(L<1){const be=Array.from(new Array(1/L));return D.createElement(at,{...Je,key:ht,className:Re(Je.className,Ae&&Be.iconActive),iconActive:Ae},be.map((Ee,Ie)=>{const Le=Wg(ht-1+(Ie+1)*L,L);return T.jsx(I1,{...ut,isActive:!1,itemValue:Le,labelProps:{style:be.length-1===Ie?{}:{width:Le===Y?`${(Ie+1)*L*100}%`:"0%",overflow:"hidden",position:"absolute"}}},Le)}))}return T.jsx(I1,{...ut,isActive:Ae,itemValue:ht},ht)}),!I&&!c&&T.jsxs(Oe,{...et,children:[T.jsx("input",{className:Be.visuallyHidden,value:"",id:`${B}-empty`,type:"radio",name:B,checked:q==null,onFocus:()=>Pe(!0),onBlur:()=>Pe(!1),onChange:V}),T.jsx("span",{className:Be.visuallyHidden,children:u})]})]})});function Ew(n){return He("MuiSelect",n)}const $c=qe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var D1;const ZU=de(yw,{name:"MuiSelect",slot:"Select",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[{[`&.${$c.select}`]:e.select},{[`&.${$c.select}`]:e[t.variant]},{[`&.${$c.error}`]:e.error},{[`&.${$c.multiple}`]:e.multiple}]}})({[`&.${$c.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),JU=de(vw,{name:"MuiSelect",slot:"Icon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.icon,t.variant&&e[`icon${he(t.variant)}`],t.open&&e.iconOpen]}})({}),e4=de("input",{shouldForwardProp:n=>Mu(n)&&n!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function P1(n,e){return typeof e=="object"&&e!==null?n===e:String(n)===String(e)}function t4(n){return n==null||typeof n=="string"&&!n.trim()}const n4=n=>{const{classes:e,variant:t,disabled:r,multiple:i,open:s,error:o}=n,c={select:["select",t,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(t)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Ve(c,Ew,e)},r4=D.forwardRef(function(e,t){const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:o,children:c,className:d,defaultOpen:u,defaultValue:h,disabled:p,displayEmpty:g,error:v=!1,IconComponent:y,inputRef:x,labelId:S,MenuProps:E={},multiple:R,name:A,onBlur:L,onChange:I,onClose:M,onFocus:P,onOpen:k,open:_,readOnly:w,renderValue:B,required:j,SelectDisplayProps:z={},tabIndex:q,type:K,value:$,variant:W="standard",...G}=e,[Y,F]=fl({controlled:$,default:h,name:"Select"}),[H,Q]=fl({controlled:_,default:u,name:"Select"}),ee=D.useRef(null),ce=D.useRef(null),[se,V]=D.useState(null),{current:oe}=D.useRef(_!=null),[me,we]=D.useState(),Te=ln(t,x),Pe=D.useCallback($e=>{ce.current=$e,$e&&V($e)},[]),ke=se?.parentNode;D.useImperativeHandle(Te,()=>({focus:()=>{ce.current.focus()},node:ee.current,value:Y}),[Y]),D.useEffect(()=>{u&&H&&se&&!oe&&(we(o?null:ke.clientWidth),ce.current.focus())},[se,o]),D.useEffect(()=>{s&&ce.current.focus()},[s]),D.useEffect(()=>{if(!S)return;const $e=jn(ce.current).getElementById(S);if($e){const At=()=>{getSelection().isCollapsed&&ce.current.focus()};return $e.addEventListener("click",At),()=>{$e.removeEventListener("click",At)}}},[S]);const Be=($e,At)=>{$e?k&&k(At):M&&M(At),oe||(we(o?null:ke.clientWidth),Q($e))},Me=$e=>{$e.button===0&&($e.preventDefault(),ce.current.focus(),Be(!0,$e))},ct=$e=>{Be(!1,$e)},Ue=D.Children.toArray(c),Oe=$e=>{const At=Ue.find(_t=>_t.props.value===$e.target.value);At!==void 0&&(F(At.props.value),I&&I($e,At))},et=$e=>At=>{let _t;if(At.currentTarget.hasAttribute("tabindex")){if(R){_t=Array.isArray(Y)?Y.slice():[];const Yn=Y.indexOf($e.props.value);Yn===-1?_t.push($e.props.value):_t.splice(Yn,1)}else _t=$e.props.value;if($e.props.onClick&&$e.props.onClick(At),Y!==_t&&(F(_t),I)){const Yn=At.nativeEvent||At,Zr=new Yn.constructor(Yn.type,Yn);Object.defineProperty(Zr,"target",{writable:!0,value:{value:_t,name:A}}),I(Zr,$e)}R||Be(!1,At)}},at=$e=>{w||[" ","ArrowUp","ArrowDown","Enter"].includes($e.key)&&($e.preventDefault(),Be(!0,$e))},Je=se!==null&&H,De=$e=>{!Je&&L&&(Object.defineProperty($e,"target",{writable:!0,value:{value:Y,name:A}}),L($e))};delete G["aria-invalid"];let Se,ht;const ut=[];let Ae=!1;(oh({value:Y})||g)&&(B?Se=B(Y):Ae=!0);const be=Ue.map($e=>{if(!D.isValidElement($e))return null;let At;if(R){if(!Array.isArray(Y))throw new Error(ms(2));At=Y.some(_t=>P1(_t,$e.props.value)),At&&Ae&&ut.push($e.props.children)}else At=P1(Y,$e.props.value),At&&Ae&&(ht=$e.props.children);return D.cloneElement($e,{"aria-selected":At?"true":"false",onClick:et($e),onKeyUp:_t=>{_t.key===" "&&_t.preventDefault(),$e.props.onKeyUp&&$e.props.onKeyUp(_t)},role:"option",selected:At,value:void 0,"data-value":$e.props.value})});Ae&&(R?ut.length===0?Se=null:Se=ut.reduce(($e,At,_t)=>($e.push(At),_t<ut.length-1&&$e.push(", "),$e),[]):Se=ht);let Ee=me;!o&&oe&&se&&(Ee=ke.clientWidth);let Ie;typeof q<"u"?Ie=q:Ie=p?null:0;const Le=z.id||(A?`mui-component-select-${A}`:void 0),Ye={...e,variant:W,value:Y,open:Je,error:v},je=n4(Ye),zt={...E.PaperProps,...E.slotProps?.paper},bt={...E.MenuListProps,...E.slotProps?.list},Xt=vs();return T.jsxs(D.Fragment,{children:[T.jsx(ZU,{as:"div",ref:Pe,tabIndex:Ie,role:"combobox","aria-controls":Je?Xt:void 0,"aria-disabled":p?"true":void 0,"aria-expanded":Je?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[S,Le].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":j?"true":void 0,"aria-invalid":v?"true":void 0,onKeyDown:at,onMouseDown:p||w?null:Me,onBlur:De,onFocus:P,...z,ownerState:Ye,className:Re(z.className,je.select,d),id:Le,children:t4(Se)?D1||(D1=T.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Se}),T.jsx(e4,{"aria-invalid":v,value:Array.isArray(Y)?Y.join(","):Y,name:A,ref:ee,"aria-hidden":!0,onChange:Oe,tabIndex:-1,disabled:p,className:je.nativeInput,autoFocus:s,required:j,...G,ownerState:Ye}),T.jsx(JU,{as:y,className:je.icon,ownerState:Ye}),T.jsx(gu,{id:`menu-${A||""}`,anchorEl:ke,open:Je,onClose:ct,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...E,slotProps:{...E.slotProps,list:{"aria-labelledby":S,role:"listbox","aria-multiselectable":R?"true":void 0,disableListWrap:!0,id:Xt,...bt},paper:{...zt,style:{minWidth:Ee,...zt!=null?zt.style:null}}},children:be})]})}),i4=n=>{const{classes:e}=n,r=Ve({root:["root"]},Ew,e);return{...e,...r}},Cv={name:"MuiSelect",slot:"Root",shouldForwardProp:n=>Qr(n)&&n!=="variant"},s4=de(Sv,Cv)(""),a4=de(Av,Cv)(""),o4=de(bv,Cv)(""),al=D.forwardRef(function(e,t){const r=Ke({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:c,defaultOpen:d=!1,displayEmpty:u=!1,IconComponent:h=TF,id:p,input:g,inputProps:v,label:y,labelId:x,MenuProps:S,multiple:E=!1,native:R=!1,onClose:A,onOpen:L,open:I,renderValue:M,SelectDisplayProps:P,variant:k="outlined",..._}=r,w=R?pU:r4,B=Ja(),j=Dl({props:r,muiFormControl:B,states:["variant","error"]}),z=j.variant||k,q={...r,variant:z,classes:o},K=i4(q),{root:$,...W}=K,G=g||{standard:T.jsx(s4,{ownerState:q}),outlined:T.jsx(a4,{label:y,ownerState:q}),filled:T.jsx(o4,{ownerState:q})}[z],Y=ln(t,Il(G));return T.jsx(D.Fragment,{children:D.cloneElement(G,{inputComponent:w,inputProps:{children:s,error:j.error,IconComponent:h,variant:z,type:void 0,multiple:E,...R?{id:p}:{autoWidth:i,defaultOpen:d,displayEmpty:u,labelId:x,MenuProps:S,onClose:A,onOpen:L,open:I,renderValue:M,SelectDisplayProps:{id:p,...P}},...v,classes:v?Nn(W,v.classes):W,...g?g.props.inputProps:{}},...(E&&R||u)&&z==="outlined"?{notched:!0}:{},ref:Y,className:Re(G.props.className,c,K.root),...!g&&{variant:z},..._})})});al.muiName="Select";function l4(n,e,t=(r,i)=>r===i){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}const c4=2;function Ko(n,e,t,r,i){return t===1?Math.min(n+e,i):Math.max(n-e,r)}function Tw(n,e){return n-e}function _1(n,e){const{index:t}=n.reduce((r,i,s)=>{const o=Math.abs(e-i);return r===null||o<r.distance||o===r.distance?{distance:o,index:s}:r},null)??{};return t}function of(n,e){if(e.current!==void 0&&n.changedTouches){const t=n;for(let r=0;r<t.changedTouches.length;r+=1){const i=t.changedTouches[r];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:n.clientX,y:n.clientY}}function uh(n,e,t){return(n-e)*100/(t-e)}function u4(n,e,t){return(t-e)*n+e}function d4(n){if(Math.abs(n)<1){const t=n.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const e=n.toString().split(".")[1];return e?e.length:0}function f4(n,e,t){const r=Math.round((n-t)/e)*e+t;return Number(r.toFixed(d4(e)))}function O1({values:n,newValue:e,index:t}){const r=n.slice();return r[t]=e,r.sort(Tw)}function lf({sliderRef:n,activeIndex:e,setActive:t}){const r=jn(n.current);(!n.current?.contains(r.activeElement)||Number(r?.activeElement?.getAttribute("data-index"))!==e)&&n.current?.querySelector(`[type="range"][data-index="${e}"]`).focus(),t&&t(e)}function cf(n,e){return typeof n=="number"&&typeof e=="number"?n===e:typeof n=="object"&&typeof e=="object"?l4(n,e):!1}const h4={horizontal:{offset:n=>({left:`${n}%`}),leap:n=>({width:`${n}%`})},"horizontal-reverse":{offset:n=>({right:`${n}%`}),leap:n=>({width:`${n}%`})},vertical:{offset:n=>({bottom:`${n}%`}),leap:n=>({height:`${n}%`})}},p4=n=>n;let uf;function k1(){return uf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?uf=CSS.supports("touch-action","none"):uf=!0),uf}function m4(n){const{"aria-labelledby":e,defaultValue:t,disabled:r=!1,disableSwap:i=!1,isRtl:s=!1,marks:o=!1,max:c=100,min:d=0,name:u,onChange:h,onChangeCommitted:p,orientation:g="horizontal",rootRef:v,scale:y=p4,step:x=1,shiftStep:S=10,tabIndex:E,value:R}=n,A=D.useRef(void 0),[L,I]=D.useState(-1),[M,P]=D.useState(-1),[k,_]=D.useState(!1),w=D.useRef(0),B=D.useRef(null),[j,z]=fl({controlled:R,default:t??d,name:"Slider"}),q=h&&((Ae,be,Ee)=>{const Ie=Ae.nativeEvent||Ae,Le=new Ie.constructor(Ie.type,Ie);Object.defineProperty(Le,"target",{writable:!0,value:{value:be,name:u}}),B.current=be,h(Le,be,Ee)}),K=Array.isArray(j);let $=K?j.slice().sort(Tw):[j];$=$.map(Ae=>Ae==null?d:Ma(Ae,d,c));const W=o===!0&&x!==null?[...Array(Math.floor((c-d)/x)+1)].map((Ae,be)=>({value:d+x*be})):o||[],G=W.map(Ae=>Ae.value),[Y,F]=D.useState(-1),H=D.useRef(null),Q=ln(v,H),ee=Ae=>be=>{const Ee=Number(be.currentTarget.getAttribute("data-index"));$i(be.target)&&F(Ee),P(Ee),Ae?.onFocus?.(be)},ce=Ae=>be=>{$i(be.target)||F(-1),P(-1),Ae?.onBlur?.(be)},se=(Ae,be)=>{const Ee=Number(Ae.currentTarget.getAttribute("data-index")),Ie=$[Ee],Le=G.indexOf(Ie);let Ye=be;if(W&&x==null){const je=G[G.length-1];Ye>=je?Ye=je:Ye<=G[0]?Ye=G[0]:Ye=Ye<Ie?G[Le-1]:G[Le+1]}if(Ye=Ma(Ye,d,c),K){i&&(Ye=Ma(Ye,$[Ee-1]||-1/0,$[Ee+1]||1/0));const je=Ye;Ye=O1({values:$,newValue:Ye,index:Ee});let zt=Ee;i||(zt=Ye.indexOf(je)),lf({sliderRef:H,activeIndex:zt})}z(Ye),F(Ee),q&&!cf(Ye,j)&&q(Ae,Ye,Ee),p&&p(Ae,B.current??Ye)},V=Ae=>be=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(be.key)){be.preventDefault();const Ee=Number(be.currentTarget.getAttribute("data-index")),Ie=$[Ee];let Le=null;if(x!=null){const Ye=be.shiftKey?S:x;switch(be.key){case"ArrowUp":Le=Ko(Ie,Ye,1,d,c);break;case"ArrowRight":Le=Ko(Ie,Ye,s?-1:1,d,c);break;case"ArrowDown":Le=Ko(Ie,Ye,-1,d,c);break;case"ArrowLeft":Le=Ko(Ie,Ye,s?1:-1,d,c);break;case"PageUp":Le=Ko(Ie,S,1,d,c);break;case"PageDown":Le=Ko(Ie,S,-1,d,c);break;case"Home":Le=d;break;case"End":Le=c;break}}else if(W){const Ye=G[G.length-1],je=G.indexOf(Ie),zt=[s?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],bt=[s?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];zt.includes(be.key)?je===0?Le=G[0]:Le=G[je-1]:bt.includes(be.key)&&(je===G.length-1?Le=Ye:Le=G[je+1])}Le!=null&&se(be,Le)}Ae?.onKeyDown?.(be)};pr(()=>{r&&H.current.contains(document.activeElement)&&document.activeElement?.blur()},[r]),r&&L!==-1&&I(-1),r&&Y!==-1&&F(-1);const oe=Ae=>be=>{Ae.onChange?.(be),se(be,be.target.valueAsNumber)},me=D.useRef(void 0);let we=g;s&&g==="horizontal"&&(we+="-reverse");const Te=({finger:Ae,move:be=!1})=>{const{current:Ee}=H,{width:Ie,height:Le,bottom:Ye,left:je}=Ee.getBoundingClientRect();let zt;we.startsWith("vertical")?zt=(Ye-Ae.y)/Le:zt=(Ae.x-je)/Ie,we.includes("-reverse")&&(zt=1-zt);let bt;if(bt=u4(zt,d,c),x)bt=f4(bt,x,d);else{const $e=_1(G,bt);bt=G[$e]}bt=Ma(bt,d,c);let Xt=0;if(K){be?Xt=me.current:Xt=_1($,bt),i&&(bt=Ma(bt,$[Xt-1]||-1/0,$[Xt+1]||1/0));const $e=bt;bt=O1({values:$,newValue:bt,index:Xt}),i&&be||(Xt=bt.indexOf($e),me.current=Xt)}return{newValue:bt,activeIndex:Xt}},Pe=Hr(Ae=>{const be=of(Ae,A);if(!be)return;if(w.current+=1,Ae.type==="mousemove"&&Ae.buttons===0){ke(Ae);return}const{newValue:Ee,activeIndex:Ie}=Te({finger:be,move:!0});lf({sliderRef:H,activeIndex:Ie,setActive:I}),z(Ee),!k&&w.current>c4&&_(!0),q&&!cf(Ee,j)&&q(Ae,Ee,Ie)}),ke=Hr(Ae=>{const be=of(Ae,A);if(_(!1),!be)return;const{newValue:Ee}=Te({finger:be,move:!0});I(-1),Ae.type==="touchend"&&P(-1),p&&p(Ae,B.current??Ee),A.current=void 0,Me()}),Be=Hr(Ae=>{if(r)return;k1()||Ae.preventDefault();const be=Ae.changedTouches[0];be!=null&&(A.current=be.identifier);const Ee=of(Ae,A);if(Ee!==!1){const{newValue:Le,activeIndex:Ye}=Te({finger:Ee});lf({sliderRef:H,activeIndex:Ye,setActive:I}),z(Le),q&&!cf(Le,j)&&q(Ae,Le,Ye)}w.current=0;const Ie=jn(H.current);Ie.addEventListener("touchmove",Pe,{passive:!0}),Ie.addEventListener("touchend",ke,{passive:!0})}),Me=D.useCallback(()=>{const Ae=jn(H.current);Ae.removeEventListener("mousemove",Pe),Ae.removeEventListener("mouseup",ke),Ae.removeEventListener("touchmove",Pe),Ae.removeEventListener("touchend",ke)},[ke,Pe]);D.useEffect(()=>{const{current:Ae}=H;return Ae.addEventListener("touchstart",Be,{passive:k1()}),()=>{Ae.removeEventListener("touchstart",Be),Me()}},[Me,Be]),D.useEffect(()=>{r&&Me()},[r,Me]);const ct=Ae=>be=>{if(Ae.onMouseDown?.(be),r||be.defaultPrevented||be.button!==0)return;be.preventDefault();const Ee=of(be,A);if(Ee!==!1){const{newValue:Le,activeIndex:Ye}=Te({finger:Ee});lf({sliderRef:H,activeIndex:Ye,setActive:I}),z(Le),q&&!cf(Le,j)&&q(be,Le,Ye)}w.current=0;const Ie=jn(H.current);Ie.addEventListener("mousemove",Pe,{passive:!0}),Ie.addEventListener("mouseup",ke)},Ue=uh(K?$[0]:d,d,c),Oe=uh($[$.length-1],d,c)-Ue,et=(Ae={})=>{const be=Xc(Ae),Ee={onMouseDown:ct(be||{})},Ie={...be,...Ee};return{...Ae,ref:Q,...Ie}},at=Ae=>be=>{Ae.onMouseOver?.(be);const Ee=Number(be.currentTarget.getAttribute("data-index"));P(Ee)},Je=Ae=>be=>{Ae.onMouseLeave?.(be),P(-1)},De=(Ae={})=>{const be=Xc(Ae),Ee={onMouseOver:at(be||{}),onMouseLeave:Je(be||{})};return{...Ae,...be,...Ee}},Se=Ae=>({pointerEvents:L!==-1&&L!==Ae?"none":void 0});let ht;return g==="vertical"&&(ht=s?"vertical-rl":"vertical-lr"),{active:L,axis:we,axisProps:h4,dragging:k,focusedThumbIndex:Y,getHiddenInputProps:(Ae={})=>{const be=Xc(Ae),Ee={onChange:oe(be||{}),onFocus:ee(be||{}),onBlur:ce(be||{}),onKeyDown:V(be||{})},Ie={...be,...Ee};return{tabIndex:E,"aria-labelledby":e,"aria-orientation":g,"aria-valuemax":y(c),"aria-valuemin":y(d),name:u,type:"range",min:n.min,max:n.max,step:n.step===null&&n.marks?"any":n.step??void 0,disabled:r,...Ae,...Ie,style:{...bw,direction:s?"rtl":"ltr",width:"100%",height:"100%",writingMode:ht}}},getRootProps:et,getThumbProps:De,marks:W,open:M,range:K,rootRef:Q,trackLeap:Oe,trackOffset:Ue,values:$,getThumbStyle:Se}}const g4=n=>!n||!fs(n);function y4(n){return He("MuiSlider",n)}const zr=qe("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),v4=n=>{const{open:e}=n;return{offset:Re(e&&zr.valueLabelOpen),circle:zr.valueLabelCircle,label:zr.valueLabelLabel}};function x4(n){const{children:e,className:t,value:r}=n,i=v4(n);return e?D.cloneElement(e,{className:e.props.className},T.jsxs(D.Fragment,{children:[e.props.children,T.jsx("span",{className:Re(i.offset,t),"aria-hidden":!0,children:T.jsx("span",{className:i.circle,children:T.jsx("span",{className:i.label,children:r})})})]})):null}function M1(n){return n}const b4=de("span",{name:"MuiSlider",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[`color${he(t.color)}`],t.size!=="medium"&&e[`size${he(t.size)}`],t.marked&&e.marked,t.orientation==="vertical"&&e.vertical,t.track==="inverted"&&e.trackInverted,t.track===!1&&e.trackFalse]}})(We(({theme:n})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${zr.disabled}`]:{pointerEvents:"none",cursor:"default",color:(n.vars||n).palette.grey[400]},[`&.${zr.dragging}`]:{[`& .${zr.thumb}, & .${zr.track}`]:{transition:"none"}},variants:[...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{color:(n.vars||n).palette[e].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),S4=de("span",{name:"MuiSlider",slot:"Rail"})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),E4=de("span",{name:"MuiSlider",slot:"Track"})(We(({theme:n})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e,track:"inverted"},style:{...n.vars?{backgroundColor:n.vars.palette.Slider[`${e}Track`],borderColor:n.vars.palette.Slider[`${e}Track`]}:{backgroundColor:Wa(n.palette[e].main,.62),borderColor:Wa(n.palette[e].main,.62),...n.applyStyles("dark",{backgroundColor:Ka(n.palette[e].main,.5)}),...n.applyStyles("dark",{borderColor:Ka(n.palette[e].main,.5)})}}}))]}))),T4=de("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.thumb,e[`thumbColor${he(t.color)}`],t.size!=="medium"&&e[`thumbSize${he(t.size)}`]]}})(We(({theme:n})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(n.vars||n).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${zr.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(n.palette).filter(tn()).map(([e])=>({props:{color:e},style:{[`&:hover, &.${zr.focusVisible}`]:{...n.vars?{boxShadow:`0px 0px 0px 8px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${ot(n.palette[e].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${zr.active}`]:{...n.vars?{boxShadow:`0px 0px 0px 14px rgba(${n.vars.palette[e].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${ot(n.palette[e].main,.16)}`}}}}))]}))),A4=de(x4,{name:"MuiSlider",slot:"ValueLabel"})(We(({theme:n})=>({zIndex:1,whiteSpace:"nowrap",...n.typography.body2,fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),position:"absolute",backgroundColor:(n.vars||n).palette.grey[600],borderRadius:2,color:(n.vars||n).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${zr.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${zr.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),C4=de("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:n=>Mu(n)&&n!=="markActive",overridesResolver:(n,e)=>{const{markActive:t}=n;return[e.mark,t&&e.markActive]}})(We(({theme:n})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(n.vars||n).palette.background.paper,opacity:.8}}]}))),R4=de("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:n=>Mu(n)&&n!=="markLabelActive"})(We(({theme:n})=>({...n.typography.body2,color:(n.vars||n).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(n.vars||n).palette.text.primary}}]}))),w4=n=>{const{disabled:e,dragging:t,marked:r,orientation:i,track:s,classes:o,color:c,size:d}=n,u={root:["root",e&&"disabled",t&&"dragging",r&&"marked",i==="vertical"&&"vertical",s==="inverted"&&"trackInverted",s===!1&&"trackFalse",c&&`color${he(c)}`,d&&`size${he(d)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",d&&`thumbSize${he(d)}`,c&&`thumbColor${he(c)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return Ve(u,y4,o)},L4=({children:n})=>n,N1=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiSlider"}),i=wl(),{"aria-label":s,"aria-valuetext":o,"aria-labelledby":c,component:d="span",components:u={},componentsProps:h={},color:p="primary",classes:g,className:v,disableSwap:y=!1,disabled:x=!1,getAriaLabel:S,getAriaValueText:E,marks:R=!1,max:A=100,min:L=0,name:I,onChange:M,onChangeCommitted:P,orientation:k="horizontal",shiftStep:_=10,size:w="medium",step:B=1,scale:j=M1,slotProps:z,slots:q,tabIndex:K,track:$="normal",value:W,valueLabelDisplay:G="off",valueLabelFormat:Y=M1,...F}=r,H={...r,isRtl:i,max:A,min:L,classes:g,disabled:x,disableSwap:y,orientation:k,marks:R,color:p,size:w,step:B,shiftStep:_,scale:j,track:$,valueLabelDisplay:G,valueLabelFormat:Y},{axisProps:Q,getRootProps:ee,getHiddenInputProps:ce,getThumbProps:se,open:V,active:oe,axis:me,focusedThumbIndex:we,range:Te,dragging:Pe,marks:ke,values:Be,trackOffset:Me,trackLeap:ct,getThumbStyle:Ue}=m4({...H,rootRef:t});H.marked=ke.length>0&&ke.some(Nt=>Nt.label),H.dragging=Pe,H.focusedThumbIndex=we;const Oe=w4(H),et=q?.root??u.Root??b4,at=q?.rail??u.Rail??S4,Je=q?.track??u.Track??E4,De=q?.thumb??u.Thumb??T4,Se=q?.valueLabel??u.ValueLabel??A4,ht=q?.mark??u.Mark??C4,ut=q?.markLabel??u.MarkLabel??R4,Ae=q?.input??u.Input??"input",be=z?.root??h.root,Ee=z?.rail??h.rail,Ie=z?.track??h.track,Le=z?.thumb??h.thumb,Ye=z?.valueLabel??h.valueLabel,je=z?.mark??h.mark,zt=z?.markLabel??h.markLabel,bt=z?.input??h.input,Xt=Ri({elementType:et,getSlotProps:ee,externalSlotProps:be,externalForwardedProps:F,additionalProps:{...g4(et)&&{as:d}},ownerState:{...H,...be?.ownerState},className:[Oe.root,v]}),$e=Ri({elementType:at,externalSlotProps:Ee,ownerState:H,className:Oe.rail}),At=Ri({elementType:Je,externalSlotProps:Ie,additionalProps:{style:{...Q[me].offset(Me),...Q[me].leap(ct)}},ownerState:{...H,...Ie?.ownerState},className:Oe.track}),_t=Ri({elementType:De,getSlotProps:se,externalSlotProps:Le,ownerState:{...H,...Le?.ownerState},className:Oe.thumb}),Yn=Ri({elementType:Se,externalSlotProps:Ye,ownerState:{...H,...Ye?.ownerState},className:Oe.valueLabel}),Zr=Ri({elementType:ht,externalSlotProps:je,ownerState:H,className:Oe.mark}),xs=Ri({elementType:ut,externalSlotProps:zt,ownerState:H,className:Oe.markLabel}),la=Ri({elementType:Ae,getSlotProps:ce,externalSlotProps:bt,ownerState:H});return T.jsxs(et,{...Xt,children:[T.jsx(at,{...$e}),T.jsx(Je,{...At}),ke.filter(Nt=>Nt.value>=L&&Nt.value<=A).map((Nt,mn)=>{const bs=uh(Nt.value,L,A),ji=Q[me].offset(bs);let Xn;return $===!1?Xn=Be.includes(Nt.value):Xn=$==="normal"&&(Te?Nt.value>=Be[0]&&Nt.value<=Be[Be.length-1]:Nt.value<=Be[0])||$==="inverted"&&(Te?Nt.value<=Be[0]||Nt.value>=Be[Be.length-1]:Nt.value>=Be[0]),T.jsxs(D.Fragment,{children:[T.jsx(ht,{"data-index":mn,...Zr,...!fs(ht)&&{markActive:Xn},style:{...ji,...Zr.style},className:Re(Zr.className,Xn&&Oe.markActive)}),Nt.label!=null?T.jsx(ut,{"aria-hidden":!0,"data-index":mn,...xs,...!fs(ut)&&{markLabelActive:Xn},style:{...ji,...xs.style},className:Re(Oe.markLabel,xs.className,Xn&&Oe.markLabelActive),children:Nt.label}):null]},mn)}),Be.map((Nt,mn)=>{const bs=uh(Nt,L,A),ji=Q[me].offset(bs),Xn=G==="off"?L4:Se;return T.jsx(Xn,{...!fs(Xn)&&{valueLabelFormat:Y,valueLabelDisplay:G,value:typeof Y=="function"?Y(j(Nt),mn):Y,index:mn,open:V===mn||oe===mn||G==="on",disabled:x},...Yn,children:T.jsx(De,{"data-index":mn,..._t,className:Re(Oe.thumb,_t.className,oe===mn&&Oe.active,we===mn&&Oe.focusVisible),style:{...ji,...Ue(mn),..._t.style},children:T.jsx(Ae,{"data-index":mn,"aria-label":S?S(mn):s,"aria-valuenow":j(Nt),"aria-labelledby":c,"aria-valuetext":E?E(j(Nt),mn):o,value:Be[mn],...la})})},mn)})]})});function I4(n){return He("MuiTooltip",n)}const hn=qe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function D4(n){return Math.round(n*1e5)/1e5}const P4=n=>{const{classes:e,disableInteractive:t,arrow:r,touch:i,placement:s}=n,o={popper:["popper",!t&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${he(s.split("-")[0])}`],arrow:["arrow"]};return Ve(o,I4,e)},_4=de(rw,{name:"MuiTooltip",slot:"Popper",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(We(({theme:n})=>({zIndex:(n.vars||n).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${hn.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${hn.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${hn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${hn.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${hn.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${hn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${hn.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${hn.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),O4=de("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${he(t.placement.split("-")[0])}`]]}})(We(({theme:n})=>({backgroundColor:n.vars?n.vars.palette.Tooltip.bg:ot(n.palette.grey[700],.92),borderRadius:(n.vars||n).shape.borderRadius,color:(n.vars||n).palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium,[`.${hn.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${hn.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${hn.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${hn.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:`${D4(16/14)}em`,fontWeight:n.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${hn.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${hn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${hn.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${hn.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${hn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${hn.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${hn.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${hn.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${hn.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${hn.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),k4=de("span",{name:"MuiTooltip",slot:"Arrow"})(We(({theme:n})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:n.vars?n.vars.palette.Tooltip.bg:ot(n.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let df=!1;const B1=new Yh;let Fc={x:0,y:0};function ff(n,e){return(t,...r)=>{e&&e(t,...r),n(t,...r)}}const dh=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:o,components:c={},componentsProps:d={},describeChild:u=!1,disableFocusListener:h=!1,disableHoverListener:p=!1,disableInteractive:g=!1,disableTouchListener:v=!1,enterDelay:y=100,enterNextDelay:x=0,enterTouchDelay:S=700,followCursor:E=!1,id:R,leaveDelay:A=0,leaveTouchDelay:L=1500,onClose:I,onOpen:M,open:P,placement:k="bottom",PopperComponent:_,PopperProps:w={},slotProps:B={},slots:j={},title:z,TransitionComponent:q,TransitionProps:K,...$}=r,W=D.isValidElement(s)?s:T.jsx("span",{children:s}),G=hi(),Y=wl(),[F,H]=D.useState(),[Q,ee]=D.useState(null),ce=D.useRef(!1),se=g||E,V=Fa(),oe=Fa(),me=Fa(),we=Fa(),[Te,Pe]=fl({controlled:P,default:!1,name:"Tooltip",state:"open"});let ke=Te;const Be=vs(R),Me=D.useRef(),ct=Hr(()=>{Me.current!==void 0&&(document.body.style.WebkitUserSelect=Me.current,Me.current=void 0),we.clear()});D.useEffect(()=>ct,[ct]);const Ue=dt=>{B1.clear(),df=!0,Pe(!0),M&&!ke&&M(dt)},Oe=Hr(dt=>{B1.start(800+A,()=>{df=!1}),Pe(!1),I&&ke&&I(dt),V.start(G.transitions.duration.shortest,()=>{ce.current=!1})}),et=dt=>{ce.current&&dt.type!=="touchstart"||(F&&F.removeAttribute("title"),oe.clear(),me.clear(),y||df&&x?oe.start(df?x:y,()=>{Ue(dt)}):Ue(dt))},at=dt=>{oe.clear(),me.start(A,()=>{Oe(dt)})},[,Je]=D.useState(!1),De=dt=>{$i(dt.target)||(Je(!1),at(dt))},Se=dt=>{F||H(dt.currentTarget),$i(dt.target)&&(Je(!0),et(dt))},ht=dt=>{ce.current=!0;const Jr=W.props;Jr.onTouchStart&&Jr.onTouchStart(dt)},ut=dt=>{ht(dt),me.clear(),V.clear(),ct(),Me.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",we.start(S,()=>{document.body.style.WebkitUserSelect=Me.current,et(dt)})},Ae=dt=>{W.props.onTouchEnd&&W.props.onTouchEnd(dt),ct(),me.start(L,()=>{Oe(dt)})};D.useEffect(()=>{if(!ke)return;function dt(Jr){Jr.key==="Escape"&&Oe(Jr)}return document.addEventListener("keydown",dt),()=>{document.removeEventListener("keydown",dt)}},[Oe,ke]);const be=ln(Il(W),H,t);!z&&z!==0&&(ke=!1);const Ee=D.useRef(),Ie=dt=>{const Jr=W.props;Jr.onMouseMove&&Jr.onMouseMove(dt),Fc={x:dt.clientX,y:dt.clientY},Ee.current&&Ee.current.update()},Le={},Ye=typeof z=="string";u?(Le.title=!ke&&Ye&&!p?z:null,Le["aria-describedby"]=ke?Be:null):(Le["aria-label"]=Ye?z:null,Le["aria-labelledby"]=ke&&!Ye?Be:null);const je={...Le,...$,...W.props,className:Re($.className,W.props.className),onTouchStart:ht,ref:be,...E?{onMouseMove:Ie}:{}},zt={};v||(je.onTouchStart=ut,je.onTouchEnd=Ae),p||(je.onMouseOver=ff(et,je.onMouseOver),je.onMouseLeave=ff(at,je.onMouseLeave),se||(zt.onMouseOver=et,zt.onMouseLeave=at)),h||(je.onFocus=ff(Se,je.onFocus),je.onBlur=ff(De,je.onBlur),se||(zt.onFocus=Se,zt.onBlur=De));const bt={...r,isRtl:Y,arrow:i,disableInteractive:se,placement:k,PopperComponentProp:_,touch:ce.current},Xt=typeof B.popper=="function"?B.popper(bt):B.popper,$e=D.useMemo(()=>{let dt=[{name:"arrow",enabled:!!Q,options:{element:Q,padding:4}}];return w.popperOptions?.modifiers&&(dt=dt.concat(w.popperOptions.modifiers)),Xt?.popperOptions?.modifiers&&(dt=dt.concat(Xt.popperOptions.modifiers)),{...w.popperOptions,...Xt?.popperOptions,modifiers:dt}},[Q,w.popperOptions,Xt?.popperOptions]),At=P4(bt),_t=typeof B.transition=="function"?B.transition(bt):B.transition,Yn={slots:{popper:c.Popper,transition:c.Transition??q,tooltip:c.Tooltip,arrow:c.Arrow,...j},slotProps:{arrow:B.arrow??d.arrow,popper:{...w,...Xt??d.popper},tooltip:B.tooltip??d.tooltip,transition:{...K,..._t??d.transition}}},[Zr,xs]=Ze("popper",{elementType:_4,externalForwardedProps:Yn,ownerState:bt,className:Re(At.popper,w?.className)}),[la,Nt]=Ze("transition",{elementType:ch,externalForwardedProps:Yn,ownerState:bt}),[mn,bs]=Ze("tooltip",{elementType:O4,className:At.tooltip,externalForwardedProps:Yn,ownerState:bt}),[ji,Xn]=Ze("arrow",{elementType:k4,className:At.arrow,externalForwardedProps:Yn,ownerState:bt,ref:ee});return T.jsxs(D.Fragment,{children:[D.cloneElement(W,je),T.jsx(Zr,{as:_??rw,placement:k,anchorEl:E?{getBoundingClientRect:()=>({top:Fc.y,left:Fc.x,right:Fc.x,bottom:Fc.y,width:0,height:0})}:F,popperRef:Ee,open:F?ke:!1,id:Be,transition:!0,...zt,...xs,popperOptions:$e,children:({TransitionProps:dt})=>T.jsx(la,{timeout:G.transitions.duration.shorter,...dt,...Nt,children:T.jsxs(mn,{...bs,children:[z,i?T.jsx(ji,{...Xn}):null]})})})]})}),qg=JM({createStyledComponent:de("div",{name:"MuiStack",slot:"Root"}),useThemeProps:n=>Ke({props:n,name:"MuiStack"})}),rp=D.createContext({}),Rv=D.createContext({});function M4(n){return He("MuiStep",n)}qe("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const N4=n=>{const{classes:e,orientation:t,alternativeLabel:r,completed:i}=n;return Ve({root:["root",t,r&&"alternativeLabel",i&&"completed"]},M4,e)},B4=de("div",{name:"MuiStep",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.alternativeLabel&&e.alternativeLabel,t.completed&&e.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),$4=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiStep"}),{active:i,children:s,className:o,component:c="div",completed:d,disabled:u,expanded:h=!1,index:p,last:g,...v}=r,{activeStep:y,connector:x,alternativeLabel:S,orientation:E,nonLinear:R}=D.useContext(rp);let[A=!1,L=!1,I=!1]=[i,d,u];y===p?A=i!==void 0?i:!0:!R&&y>p?L=d!==void 0?d:!0:!R&&y<p&&(I=u!==void 0?u:!0);const M=D.useMemo(()=>({index:p,last:g,expanded:h,icon:p+1,active:A,completed:L,disabled:I}),[p,g,h,A,L,I]),P={...r,active:A,orientation:E,alternativeLabel:S,completed:L,disabled:I,expanded:h,component:c},k=N4(P),_=T.jsxs(B4,{as:c,className:Re(k.root,o),ref:t,ownerState:P,...v,children:[x&&S&&p!==0?x:null,s]});return T.jsx(Rv.Provider,{value:M,children:x&&!S&&p!==0?T.jsxs(D.Fragment,{children:[x,_]}):_})}),F4=Qe(T.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),U4=Qe(T.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function j4(n){return He("MuiStepIcon",n)}const Yg=qe("MuiStepIcon",["root","active","completed","error","text"]);var $1;const z4=n=>{const{classes:e,active:t,completed:r,error:i}=n;return Ve({root:["root",t&&"active",r&&"completed",i&&"error"],text:["text"]},j4,e)},Xg=de(nh,{name:"MuiStepIcon",slot:"Root"})(We(({theme:n})=>({display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest}),color:(n.vars||n).palette.text.disabled,[`&.${Yg.completed}`]:{color:(n.vars||n).palette.primary.main},[`&.${Yg.active}`]:{color:(n.vars||n).palette.primary.main},[`&.${Yg.error}`]:{color:(n.vars||n).palette.error.main}}))),G4=de("text",{name:"MuiStepIcon",slot:"Text"})(We(({theme:n})=>({fill:(n.vars||n).palette.primary.contrastText,fontSize:n.typography.caption.fontSize,fontFamily:n.typography.fontFamily}))),H4=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiStepIcon"}),{active:i=!1,className:s,completed:o=!1,error:c=!1,icon:d,...u}=r,h={...r,active:i,completed:o,error:c},p=z4(h);if(typeof d=="number"||typeof d=="string"){const g=Re(s,p.root);return c?T.jsx(Xg,{as:U4,className:g,ref:t,ownerState:h,...u}):o?T.jsx(Xg,{as:F4,className:g,ref:t,ownerState:h,...u}):T.jsxs(Xg,{className:g,ref:t,ownerState:h,...u,children:[$1||($1=T.jsx("circle",{cx:"12",cy:"12",r:"12"})),T.jsx(G4,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:h,children:d})]})}return d});function V4(n){return He("MuiStepLabel",n)}const Qs=qe("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),K4=n=>{const{classes:e,orientation:t,active:r,completed:i,error:s,disabled:o,alternativeLabel:c}=n;return Ve({root:["root",t,s&&"error",o&&"disabled",c&&"alternativeLabel"],label:["label",r&&"active",i&&"completed",s&&"error",o&&"disabled",c&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",i&&"completed",s&&"error",o&&"disabled",c&&"alternativeLabel"],labelContainer:["labelContainer",c&&"alternativeLabel"]},V4,e)},W4=de("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation]]}})({display:"flex",alignItems:"center",[`&.${Qs.alternativeLabel}`]:{flexDirection:"column"},[`&.${Qs.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),q4=de("span",{name:"MuiStepLabel",slot:"Label"})(We(({theme:n})=>({...n.typography.body2,display:"block",transition:n.transitions.create("color",{duration:n.transitions.duration.shortest}),[`&.${Qs.active}`]:{color:(n.vars||n).palette.text.primary,fontWeight:500},[`&.${Qs.completed}`]:{color:(n.vars||n).palette.text.primary,fontWeight:500},[`&.${Qs.alternativeLabel}`]:{marginTop:16},[`&.${Qs.error}`]:{color:(n.vars||n).palette.error.main}}))),Y4=de("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${Qs.alternativeLabel}`]:{paddingRight:0}}),X4=de("span",{name:"MuiStepLabel",slot:"LabelContainer"})(We(({theme:n})=>({width:"100%",color:(n.vars||n).palette.text.secondary,[`&.${Qs.alternativeLabel}`]:{textAlign:"center"}}))),Aw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiStepLabel"}),{children:i,className:s,componentsProps:o={},error:c=!1,icon:d,optional:u,slots:h={},slotProps:p={},StepIconComponent:g,StepIconProps:v,...y}=r,{alternativeLabel:x,orientation:S}=D.useContext(rp),{active:E,disabled:R,completed:A,icon:L}=D.useContext(Rv),I=d||L;let M=g;I&&!M&&(M=H4);const P={...r,active:E,alternativeLabel:x,completed:A,disabled:R,error:c,orientation:S},k=K4(P),_={slots:h,slotProps:{stepIcon:v,...o,...p}},[w,B]=Ze("root",{elementType:W4,externalForwardedProps:{..._,...y},ownerState:P,ref:t,className:Re(k.root,s)}),[j,z]=Ze("label",{elementType:q4,externalForwardedProps:_,ownerState:P}),[q,K]=Ze("stepIcon",{elementType:M,externalForwardedProps:_,ownerState:P});return T.jsxs(w,{...B,children:[I||q?T.jsx(Y4,{className:k.iconContainer,ownerState:P,children:T.jsx(q,{completed:A,active:E,error:c,icon:I,...K})}):null,T.jsxs(X4,{className:k.labelContainer,ownerState:P,children:[i?T.jsx(j,{...z,className:Re(k.label,z?.className),children:i}):null,u]})]})});Aw.muiName="StepLabel";function Q4(n){return He("MuiStepConnector",n)}qe("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const Z4=n=>{const{classes:e,orientation:t,alternativeLabel:r,active:i,completed:s,disabled:o}=n,c={root:["root",t,r&&"alternativeLabel",i&&"active",s&&"completed",o&&"disabled"],line:["line",`line${he(t)}`]};return Ve(c,Q4,e)},J4=de("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.alternativeLabel&&e.alternativeLabel,t.completed&&e.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),ej=de("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.line,e[`line${he(t.orientation)}`]]}})(We(({theme:n})=>{const e=n.palette.mode==="light"?n.palette.grey[400]:n.palette.grey[600];return{display:"block",borderColor:n.vars?n.vars.palette.StepConnector.border:e,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),tj=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiStepConnector"}),{className:i,...s}=r,{alternativeLabel:o,orientation:c="horizontal"}=D.useContext(rp),{active:d,disabled:u,completed:h}=D.useContext(Rv),p={...r,alternativeLabel:o,orientation:c,active:d,completed:h,disabled:u},g=Z4(p);return T.jsx(J4,{className:Re(g.root,i),ref:t,ownerState:p,...s,children:T.jsx(ej,{className:g.line,ownerState:p})})});function nj(n){return He("MuiStepper",n)}qe("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const rj=n=>{const{orientation:e,nonLinear:t,alternativeLabel:r,classes:i}=n;return Ve({root:["root",e,t&&"nonLinear",r&&"alternativeLabel"]},nj,i)},ij=de("div",{name:"MuiStepper",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.orientation],t.alternativeLabel&&e.alternativeLabel,t.nonLinear&&e.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),sj=T.jsx(tj,{}),aj=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:s=!1,children:o,className:c,component:d="div",connector:u=sj,nonLinear:h=!1,orientation:p="horizontal",...g}=r,v={...r,nonLinear:h,alternativeLabel:s,orientation:p,component:d},y=rj(v),x=D.Children.toArray(o).filter(Boolean),S=x.map((R,A)=>D.cloneElement(R,{index:A,last:A+1===x.length,...R.props})),E=D.useMemo(()=>({activeStep:i,alternativeLabel:s,connector:u,nonLinear:h,orientation:p}),[i,s,u,h,p]);return T.jsx(rp.Provider,{value:E,children:T.jsx(ij,{as:d,ownerState:v,className:Re(y.root,c),ref:t,...g,children:S})})});function oj(n){return He("MuiToolbar",n)}qe("MuiToolbar",["root","gutters","regular","dense"]);const lj=n=>{const{classes:e,disableGutters:t,variant:r}=n;return Ve({root:["root",!t&&"gutters",r]},oj,e)},cj=de("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,!t.disableGutters&&e.gutters,e[t.variant]]}})(We(({theme:n})=>({position:"relative",display:"flex",alignItems:"center",variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:n.spacing(2),paddingRight:n.spacing(2),[n.breakpoints.up("sm")]:{paddingLeft:n.spacing(3),paddingRight:n.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:n.mixins.toolbar}]}))),Cw=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:c="regular",...d}=r,u={...r,component:s,disableGutters:o,variant:c},h=lj(u);return T.jsx(cj,{as:s,className:Re(h.root,i),ref:t,ownerState:u,...d})});function uj(n){return He("MuiTextField",n)}qe("MuiTextField",["root"]);const dj={standard:Sv,filled:bv,outlined:Av},fj=n=>{const{classes:e}=n;return Ve({root:["root"]},uj,e)},hj=de(eu,{name:"MuiTextField",slot:"Root"})({}),Ua=D.forwardRef(function(e,t){const r=Ke({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:c,color:d="primary",defaultValue:u,disabled:h=!1,error:p=!1,FormHelperTextProps:g,fullWidth:v=!1,helperText:y,id:x,InputLabelProps:S,inputProps:E,InputProps:R,inputRef:A,label:L,maxRows:I,minRows:M,multiline:P=!1,name:k,onBlur:_,onChange:w,onFocus:B,placeholder:j,required:z=!1,rows:q,select:K=!1,SelectProps:$,slots:W={},slotProps:G={},type:Y,value:F,variant:H="outlined",...Q}=r,ee={...r,autoFocus:s,color:d,disabled:h,error:p,fullWidth:v,multiline:P,required:z,select:K,variant:H},ce=fj(ee),se=vs(x),V=y&&se?`${se}-helper-text`:void 0,oe=L&&se?`${se}-label`:void 0,me=dj[H],we={slots:W,slotProps:{input:R,inputLabel:S,htmlInput:E,formHelperText:g,select:$,...G}},Te={},Pe=we.slotProps.inputLabel;H==="outlined"&&(Pe&&typeof Pe.shrink<"u"&&(Te.notched=Pe.shrink),Te.label=L),K&&((!$||!$.native)&&(Te.id=void 0),Te["aria-describedby"]=void 0);const[ke,Be]=Ze("root",{elementType:hj,shouldForwardComponentProp:!0,externalForwardedProps:{...we,...Q},ownerState:ee,className:Re(ce.root,c),ref:t,additionalProps:{disabled:h,error:p,fullWidth:v,required:z,color:d,variant:H}}),[Me,ct]=Ze("input",{elementType:me,externalForwardedProps:we,additionalProps:Te,ownerState:ee}),[Ue,Oe]=Ze("inputLabel",{elementType:nu,externalForwardedProps:we,ownerState:ee}),[et,at]=Ze("htmlInput",{elementType:"input",externalForwardedProps:we,ownerState:ee}),[Je,De]=Ze("formHelperText",{elementType:dw,externalForwardedProps:we,ownerState:ee}),[Se,ht]=Ze("select",{elementType:al,externalForwardedProps:we,ownerState:ee}),ut=T.jsx(Me,{"aria-describedby":V,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:v,multiline:P,name:k,rows:q,maxRows:I,minRows:M,type:Y,value:F,id:se,inputRef:A,onBlur:_,onChange:w,onFocus:B,placeholder:j,inputProps:at,slots:{input:W.htmlInput?et:void 0},...ct});return T.jsxs(ke,{...Be,children:[L!=null&&L!==""&&T.jsx(Ue,{htmlFor:se,id:oe,...Oe,children:L}),K?T.jsx(Se,{"aria-describedby":V,id:se,labelId:oe,value:F,input:ut,...ht,children:o}):ut,y&&T.jsx(Je,{id:V,...De,children:y})]})}),fh=ER({themeId:oi}),pj=ku({palette:{mode:"light",primary:{main:"#333333",contrastText:"#ffffff"},secondary:{main:"#d81b60",contrastText:"#ffffff"},background:{default:"#f2f2f2",paper:"#ffffff"},text:{primary:"#212121",secondary:"#555555"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontSize:"2.5rem",fontWeight:500,lineHeight:1.2},h5:{fontSize:"2rem",fontWeight:500,lineHeight:1.3},h6:{fontSize:"1.5rem",fontWeight:500,lineHeight:1.4},body1:{fontSize:"1rem",fontWeight:400,lineHeight:1.6},body2:{fontSize:"0.875rem",fontWeight:400,lineHeight:1.6}},shape:{borderRadius:12},components:{MuiCssBaseline:{styleOverrides:{body:{backgroundColor:"#f2f2f2",color:"#212121"}}},MuiCard:{styleOverrides:{root:{backgroundColor:"#fff",border:"1px solid #e0e0e0",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-3px)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}}},MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500,borderRadius:24}}},MuiChip:{styleOverrides:{root:{fontWeight:500,borderRadius:8}}},MuiPaper:{styleOverrides:{root:{"& .category-header":{backgroundColor:"#333333",color:"#ffffff","&:hover":{backgroundColor:"#424242"},"& .MuiTypography-root, .MuiSvgIcon-root":{color:"#ffffff !important"},"& .MuiChip-root":{backgroundColor:"rgba(255,255,255,0.2)",color:"#ffffff"}}}}}}});function Rw(n,e){return function(){return n.apply(e,arguments)}}const{toString:mj}=Object.prototype,{getPrototypeOf:wv}=Object,{iterator:ip,toStringTag:ww}=Symbol,sp=(n=>e=>{const t=mj.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),mi=n=>(n=n.toLowerCase(),e=>sp(e)===n),ap=n=>e=>typeof e===n,{isArray:Pl}=Array,yu=ap("undefined");function gj(n){return n!==null&&!yu(n)&&n.constructor!==null&&!yu(n.constructor)&&dr(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Lw=mi("ArrayBuffer");function yj(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Lw(n.buffer),e}const vj=ap("string"),dr=ap("function"),Iw=ap("number"),op=n=>n!==null&&typeof n=="object",xj=n=>n===!0||n===!1,$f=n=>{if(sp(n)!=="object")return!1;const e=wv(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(ww in n)&&!(ip in n)},bj=mi("Date"),Sj=mi("File"),Ej=mi("Blob"),Tj=mi("FileList"),Aj=n=>op(n)&&dr(n.pipe),Cj=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||dr(n.append)&&((e=sp(n))==="formdata"||e==="object"&&dr(n.toString)&&n.toString()==="[object FormData]"))},Rj=mi("URLSearchParams"),[wj,Lj,Ij,Dj]=["ReadableStream","Request","Response","Headers"].map(mi),Pj=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $u(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),Pl(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let c;for(r=0;r<o;r++)c=s[r],e.call(null,n[c],c,n)}}function Dw(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const ja=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pw=n=>!yu(n)&&n!==ja;function ey(){const{caseless:n}=Pw(this)&&this||{},e={},t=(r,i)=>{const s=n&&Dw(e,i)||i;$f(e[s])&&$f(r)?e[s]=ey(e[s],r):$f(r)?e[s]=ey({},r):Pl(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&$u(arguments[r],t);return e}const _j=(n,e,t,{allOwnKeys:r}={})=>($u(e,(i,s)=>{t&&dr(i)?n[s]=Rw(i,t):n[s]=i},{allOwnKeys:r}),n),Oj=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),kj=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Mj=(n,e,t,r)=>{let i,s,o;const c={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),s=i.length;s-- >0;)o=i[s],(!r||r(o,n,e))&&!c[o]&&(e[o]=n[o],c[o]=!0);n=t!==!1&&wv(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Nj=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Bj=n=>{if(!n)return null;if(Pl(n))return n;let e=n.length;if(!Iw(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},$j=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&wv(Uint8Array)),Fj=(n,e)=>{const r=(n&&n[ip]).call(n);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(n,s[0],s[1])}},Uj=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},jj=mi("HTMLFormElement"),zj=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),F1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Gj=mi("RegExp"),_w=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};$u(t,(i,s)=>{let o;(o=e(i,s,n))!==!1&&(r[s]=o||i)}),Object.defineProperties(n,r)},Hj=n=>{_w(n,(e,t)=>{if(dr(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(dr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Vj=(n,e)=>{const t={},r=i=>{i.forEach(s=>{t[s]=!0})};return Pl(n)?r(n):r(String(n).split(e)),t},Kj=()=>{},Wj=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function qj(n){return!!(n&&dr(n.append)&&n[ww]==="FormData"&&n[ip])}const Yj=n=>{const e=new Array(10),t=(r,i)=>{if(op(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=Pl(r)?[]:{};return $u(r,(o,c)=>{const d=t(o,i+1);!yu(d)&&(s[c]=d)}),e[i]=void 0,s}}return r};return t(n,0)},Xj=mi("AsyncFunction"),Qj=n=>n&&(op(n)||dr(n))&&dr(n.then)&&dr(n.catch),Ow=((n,e)=>n?setImmediate:e?((t,r)=>(ja.addEventListener("message",({source:i,data:s})=>{i===ja&&s===t&&r.length&&r.shift()()},!1),i=>{r.push(i),ja.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",dr(ja.postMessage)),Zj=typeof queueMicrotask<"u"?queueMicrotask.bind(ja):typeof process<"u"&&process.nextTick||Ow,Jj=n=>n!=null&&dr(n[ip]),ue={isArray:Pl,isArrayBuffer:Lw,isBuffer:gj,isFormData:Cj,isArrayBufferView:yj,isString:vj,isNumber:Iw,isBoolean:xj,isObject:op,isPlainObject:$f,isReadableStream:wj,isRequest:Lj,isResponse:Ij,isHeaders:Dj,isUndefined:yu,isDate:bj,isFile:Sj,isBlob:Ej,isRegExp:Gj,isFunction:dr,isStream:Aj,isURLSearchParams:Rj,isTypedArray:$j,isFileList:Tj,forEach:$u,merge:ey,extend:_j,trim:Pj,stripBOM:Oj,inherits:kj,toFlatObject:Mj,kindOf:sp,kindOfTest:mi,endsWith:Nj,toArray:Bj,forEachEntry:Fj,matchAll:Uj,isHTMLForm:jj,hasOwnProperty:F1,hasOwnProp:F1,reduceDescriptors:_w,freezeMethods:Hj,toObjectSet:Vj,toCamelCase:zj,noop:Kj,toFiniteNumber:Wj,findKey:Dw,global:ja,isContextDefined:Pw,isSpecCompliantForm:qj,toJSONObject:Yj,isAsyncFn:Xj,isThenable:Qj,setImmediate:Ow,asap:Zj,isIterable:Jj};function ft(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ue.inherits(ft,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const kw=ft.prototype,Mw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{Mw[n]={value:n}});Object.defineProperties(ft,Mw);Object.defineProperty(kw,"isAxiosError",{value:!0});ft.from=(n,e,t,r,i,s)=>{const o=Object.create(kw);return ue.toFlatObject(n,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),ft.call(o,n.message,e,t,r,i),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const e6=null;function ty(n){return ue.isPlainObject(n)||ue.isArray(n)}function Nw(n){return ue.endsWith(n,"[]")?n.slice(0,-2):n}function U1(n,e,t){return n?n.concat(e).map(function(i,s){return i=Nw(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function t6(n){return ue.isArray(n)&&!n.some(ty)}const n6=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function lp(n,e,t){if(!ue.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ue.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,S){return!ue.isUndefined(S[x])});const r=t.metaTokens,i=t.visitor||h,s=t.dots,o=t.indexes,d=(t.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(i))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ue.isDate(y))return y.toISOString();if(ue.isBoolean(y))return y.toString();if(!d&&ue.isBlob(y))throw new ft("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(y)||ue.isTypedArray(y)?d&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,x,S){let E=y;if(y&&!S&&typeof y=="object"){if(ue.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(ue.isArray(y)&&t6(y)||(ue.isFileList(y)||ue.endsWith(x,"[]"))&&(E=ue.toArray(y)))return x=Nw(x),E.forEach(function(A,L){!(ue.isUndefined(A)||A===null)&&e.append(o===!0?U1([x],L,s):o===null?x:x+"[]",u(A))}),!1}return ty(y)?!0:(e.append(U1(S,x,s),u(y)),!1)}const p=[],g=Object.assign(n6,{defaultVisitor:h,convertValue:u,isVisitable:ty});function v(y,x){if(!ue.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));p.push(y),ue.forEach(y,function(E,R){(!(ue.isUndefined(E)||E===null)&&i.call(e,E,ue.isString(R)?R.trim():R,x,g))===!0&&v(E,x?x.concat(R):[R])}),p.pop()}}if(!ue.isObject(n))throw new TypeError("data must be an object");return v(n),e}function j1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Lv(n,e){this._pairs=[],n&&lp(n,this,e)}const Bw=Lv.prototype;Bw.append=function(e,t){this._pairs.push([e,t])};Bw.toString=function(e){const t=e?function(r){return e.call(this,r,j1)}:j1;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function r6(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $w(n,e,t){if(!e)return n;const r=t&&t.encode||r6;ue.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let s;if(i?s=i(e,t):s=ue.isURLSearchParams(e)?e.toString():new Lv(e,t).toString(r),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class z1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(r){r!==null&&e(r)})}}const Fw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},i6=typeof URLSearchParams<"u"?URLSearchParams:Lv,s6=typeof FormData<"u"?FormData:null,a6=typeof Blob<"u"?Blob:null,o6={isBrowser:!0,classes:{URLSearchParams:i6,FormData:s6,Blob:a6},protocols:["http","https","file","blob","url","data"]},Iv=typeof window<"u"&&typeof document<"u",ny=typeof navigator=="object"&&navigator||void 0,l6=Iv&&(!ny||["ReactNative","NativeScript","NS"].indexOf(ny.product)<0),c6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",u6=Iv&&window.location.href||"http://localhost",d6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Iv,hasStandardBrowserEnv:l6,hasStandardBrowserWebWorkerEnv:c6,navigator:ny,origin:u6},Symbol.toStringTag,{value:"Module"})),qn={...d6,...o6};function f6(n,e){return lp(n,new qn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,s){return qn.isNode&&ue.isBuffer(t)?(this.append(r,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function h6(n){return ue.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function p6(n){const e={},t=Object.keys(n);let r;const i=t.length;let s;for(r=0;r<i;r++)s=t[r],e[s]=n[s];return e}function Uw(n){function e(t,r,i,s){let o=t[s++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=s>=t.length;return o=!o&&ue.isArray(i)?i.length:o,d?(ue.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!c):((!i[o]||!ue.isObject(i[o]))&&(i[o]=[]),e(t,r,i[o],s)&&ue.isArray(i[o])&&(i[o]=p6(i[o])),!c)}if(ue.isFormData(n)&&ue.isFunction(n.entries)){const t={};return ue.forEachEntry(n,(r,i)=>{e(h6(r),i,t,0)}),t}return null}function m6(n,e,t){if(ue.isString(n))try{return(e||JSON.parse)(n),ue.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Fu={transitional:Fw,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=ue.isObject(e);if(s&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return i?JSON.stringify(Uw(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return f6(e,this.formSerializer).toString();if((c=ue.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return lp(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),m6(e)):e}],transformResponse:[function(e){const t=this.transitional||Fu.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(r&&!this.responseType||i)){const o=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(o)throw c.name==="SyntaxError"?ft.from(c,ft.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qn.classes.FormData,Blob:qn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],n=>{Fu.headers[n]={}});const g6=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),y6=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(o){i=o.indexOf(":"),t=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!t||e[t]&&g6[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},G1=Symbol("internals");function Uc(n){return n&&String(n).trim().toLowerCase()}function Ff(n){return n===!1||n==null?n:ue.isArray(n)?n.map(Ff):String(n)}function v6(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const x6=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Qg(n,e,t,r,i){if(ue.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!ue.isString(e)){if(ue.isString(r))return e.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(e)}}function b6(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function S6(n,e){const t=ue.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let fr=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function s(c,d,u){const h=Uc(d);if(!h)throw new Error("header name must be a non-empty string");const p=ue.findKey(i,h);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||d]=Ff(c))}const o=(c,d)=>ue.forEach(c,(u,h)=>s(u,h,d));if(ue.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(ue.isString(e)&&(e=e.trim())&&!x6(e))o(y6(e),t);else if(ue.isObject(e)&&ue.isIterable(e)){let c={},d,u;for(const h of e){if(!ue.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[u=h[0]]=(d=c[u])?ue.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}o(c,t)}else e!=null&&s(t,e,r);return this}get(e,t){if(e=Uc(e),e){const r=ue.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return v6(i);if(ue.isFunction(t))return t.call(this,i,r);if(ue.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Uc(e),e){const r=ue.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Qg(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function s(o){if(o=Uc(o),o){const c=ue.findKey(r,o);c&&(!t||Qg(r,r[c],c,t))&&(delete r[c],i=!0)}}return ue.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const s=t[r];(!e||Qg(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,r={};return ue.forEach(this,(i,s)=>{const o=ue.findKey(r,s);if(o){t[o]=Ff(i),delete t[s];return}const c=e?b6(s):String(s).trim();c!==s&&delete t[s],t[c]=Ff(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ue.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&ue.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[G1]=this[G1]={accessors:{}}).accessors,i=this.prototype;function s(o){const c=Uc(o);r[c]||(S6(i,o),r[c]=!0)}return ue.isArray(e)?e.forEach(s):s(e),this}};fr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(fr.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});ue.freezeMethods(fr);function Zg(n,e){const t=this||Fu,r=e||t,i=fr.from(r.headers);let s=r.data;return ue.forEach(n,function(c){s=c.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function jw(n){return!!(n&&n.__CANCEL__)}function _l(n,e,t){ft.call(this,n??"canceled",ft.ERR_CANCELED,e,t),this.name="CanceledError"}ue.inherits(_l,ft,{__CANCEL__:!0});function zw(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new ft("Request failed with status code "+t.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function E6(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function T6(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(d){const u=Date.now(),h=r[s];o||(o=u),t[i]=d,r[i]=u;let p=s,g=0;for(;p!==i;)g+=t[p++],p=p%n;if(i=(i+1)%n,i===s&&(s=(s+1)%n),u-o<e)return;const v=h&&u-h;return v?Math.round(g*1e3/v):void 0}}function A6(n,e){let t=0,r=1e3/e,i,s;const o=(u,h=Date.now())=>{t=h,i=null,s&&(clearTimeout(s),s=null),n.apply(null,u)};return[(...u)=>{const h=Date.now(),p=h-t;p>=r?o(u,h):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const hh=(n,e,t=3)=>{let r=0;const i=T6(50,250);return A6(s=>{const o=s.loaded,c=s.lengthComputable?s.total:void 0,d=o-r,u=i(d),h=o<=c;r=o;const p={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&h?(c-o)/u:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};n(p)},t)},H1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},V1=n=>(...e)=>ue.asap(()=>n(...e)),C6=qn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,qn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(qn.origin),qn.navigator&&/(msie|trident)/i.test(qn.navigator.userAgent)):()=>!0,R6=qn.hasStandardBrowserEnv?{write(n,e,t,r,i,s){const o=[n+"="+encodeURIComponent(e)];ue.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),ue.isString(r)&&o.push("path="+r),ue.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function w6(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function L6(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Gw(n,e,t){let r=!w6(e);return n&&(r||t==!1)?L6(n,e):e}const K1=n=>n instanceof fr?{...n}:n;function Xa(n,e){e=e||{};const t={};function r(u,h,p,g){return ue.isPlainObject(u)&&ue.isPlainObject(h)?ue.merge.call({caseless:g},u,h):ue.isPlainObject(h)?ue.merge({},h):ue.isArray(h)?h.slice():h}function i(u,h,p,g){if(ue.isUndefined(h)){if(!ue.isUndefined(u))return r(void 0,u,p,g)}else return r(u,h,p,g)}function s(u,h){if(!ue.isUndefined(h))return r(void 0,h)}function o(u,h){if(ue.isUndefined(h)){if(!ue.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function c(u,h,p){if(p in e)return r(u,h);if(p in n)return r(void 0,u)}const d={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(u,h,p)=>i(K1(u),K1(h),p,!0)};return ue.forEach(Object.keys(Object.assign({},n,e)),function(h){const p=d[h]||i,g=p(n[h],e[h],h);ue.isUndefined(g)&&p!==c||(t[h]=g)}),t}const Hw=n=>{const e=Xa({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:c}=e;e.headers=o=fr.from(o),e.url=$w(Gw(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(ue.isFormData(t)){if(qn.hasStandardBrowserEnv||qn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[u,...h]=d?d.split(";").map(p=>p.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...h].join("; "))}}if(qn.hasStandardBrowserEnv&&(r&&ue.isFunction(r)&&(r=r(e)),r||r!==!1&&C6(e.url))){const u=i&&s&&R6.read(s);u&&o.set(i,u)}return e},I6=typeof XMLHttpRequest<"u",D6=I6&&function(n){return new Promise(function(t,r){const i=Hw(n);let s=i.data;const o=fr.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=i,h,p,g,v,y;function x(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(i.method.toUpperCase(),i.url,!0),S.timeout=i.timeout;function E(){if(!S)return;const A=fr.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),I={data:!c||c==="text"||c==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:A,config:n,request:S};zw(function(P){t(P),x()},function(P){r(P),x()},I),S=null}"onloadend"in S?S.onloadend=E:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(E)},S.onabort=function(){S&&(r(new ft("Request aborted",ft.ECONNABORTED,n,S)),S=null)},S.onerror=function(){r(new ft("Network Error",ft.ERR_NETWORK,n,S)),S=null},S.ontimeout=function(){let L=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const I=i.transitional||Fw;i.timeoutErrorMessage&&(L=i.timeoutErrorMessage),r(new ft(L,I.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,n,S)),S=null},s===void 0&&o.setContentType(null),"setRequestHeader"in S&&ue.forEach(o.toJSON(),function(L,I){S.setRequestHeader(I,L)}),ue.isUndefined(i.withCredentials)||(S.withCredentials=!!i.withCredentials),c&&c!=="json"&&(S.responseType=i.responseType),u&&([g,y]=hh(u,!0),S.addEventListener("progress",g)),d&&S.upload&&([p,v]=hh(d),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(h=A=>{S&&(r(!A||A.type?new _l(null,n,S):A),S.abort(),S=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const R=E6(i.url);if(R&&qn.protocols.indexOf(R)===-1){r(new ft("Unsupported protocol "+R+":",ft.ERR_BAD_REQUEST,n));return}S.send(s||null)})},P6=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const s=function(u){if(!i){i=!0,c();const h=u instanceof Error?u:this.reason;r.abort(h instanceof ft?h:new _l(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,s(new ft(`timeout ${e} of ms exceeded`,ft.ETIMEDOUT))},e);const c=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),n=null)};n.forEach(u=>u.addEventListener("abort",s));const{signal:d}=r;return d.unsubscribe=()=>ue.asap(c),d}},_6=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},O6=async function*(n,e){for await(const t of k6(n))yield*_6(t,e)},k6=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},W1=(n,e,t,r)=>{const i=O6(n,e);let s=0,o,c=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await i.next();if(u){c(),d.close();return}let p=h.byteLength;if(t){let g=s+=p;t(g)}d.enqueue(new Uint8Array(h))}catch(u){throw c(u),u}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},cp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vw=cp&&typeof ReadableStream=="function",M6=cp&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Kw=(n,...e)=>{try{return!!n(...e)}catch{return!1}},N6=Vw&&Kw(()=>{let n=!1;const e=new Request(qn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),q1=64*1024,ry=Vw&&Kw(()=>ue.isReadableStream(new Response("").body)),ph={stream:ry&&(n=>n.body)};cp&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ph[e]&&(ph[e]=ue.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new ft(`Response type '${e}' is not supported`,ft.ERR_NOT_SUPPORT,r)})})})(new Response);const B6=async n=>{if(n==null)return 0;if(ue.isBlob(n))return n.size;if(ue.isSpecCompliantForm(n))return(await new Request(qn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(n)||ue.isArrayBuffer(n))return n.byteLength;if(ue.isURLSearchParams(n)&&(n=n+""),ue.isString(n))return(await M6(n)).byteLength},$6=async(n,e)=>{const t=ue.toFiniteNumber(n.getContentLength());return t??B6(e)},F6=cp&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:c,onUploadProgress:d,responseType:u,headers:h,withCredentials:p="same-origin",fetchOptions:g}=Hw(n);u=u?(u+"").toLowerCase():"text";let v=P6([i,s&&s.toAbortSignal()],o),y;const x=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let S;try{if(d&&N6&&t!=="get"&&t!=="head"&&(S=await $6(h,r))!==0){let I=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(ue.isFormData(r)&&(M=I.headers.get("content-type"))&&h.setContentType(M),I.body){const[P,k]=H1(S,hh(V1(d)));r=W1(I.body,q1,P,k)}}ue.isString(p)||(p=p?"include":"omit");const E="credentials"in Request.prototype;y=new Request(e,{...g,signal:v,method:t.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:E?p:void 0});let R=await fetch(y,g);const A=ry&&(u==="stream"||u==="response");if(ry&&(c||A&&x)){const I={};["status","statusText","headers"].forEach(_=>{I[_]=R[_]});const M=ue.toFiniteNumber(R.headers.get("content-length")),[P,k]=c&&H1(M,hh(V1(c),!0))||[];R=new Response(W1(R.body,q1,P,()=>{k&&k(),x&&x()}),I)}u=u||"text";let L=await ph[ue.findKey(ph,u)||"text"](R,n);return!A&&x&&x(),await new Promise((I,M)=>{zw(I,M,{data:L,headers:fr.from(R.headers),status:R.status,statusText:R.statusText,config:n,request:y})})}catch(E){throw x&&x(),E&&E.name==="TypeError"&&/Load failed|fetch/i.test(E.message)?Object.assign(new ft("Network Error",ft.ERR_NETWORK,n,y),{cause:E.cause||E}):ft.from(E,E&&E.code,n,y)}}),iy={http:e6,xhr:D6,fetch:F6};ue.forEach(iy,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Y1=n=>`- ${n}`,U6=n=>ue.isFunction(n)||n===null||n===!1,Ww={getAdapter:n=>{n=ue.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let s=0;s<e;s++){t=n[s];let o;if(r=t,!U6(t)&&(r=iy[(o=String(t)).toLowerCase()],r===void 0))throw new ft(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(Y1).join(`
`):" "+Y1(s[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:iy};function Jg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new _l(null,n)}function X1(n){return Jg(n),n.headers=fr.from(n.headers),n.data=Zg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ww.getAdapter(n.adapter||Fu.adapter)(n).then(function(r){return Jg(n),r.data=Zg.call(n,n.transformResponse,r),r.headers=fr.from(r.headers),r},function(r){return jw(r)||(Jg(n),r&&r.response&&(r.response.data=Zg.call(n,n.transformResponse,r.response),r.response.headers=fr.from(r.response.headers))),Promise.reject(r)})}const qw="1.10.0",up={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{up[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Q1={};up.transitional=function(e,t,r){function i(s,o){return"[Axios v"+qw+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,c)=>{if(e===!1)throw new ft(i(o," has been removed"+(t?" in "+t:"")),ft.ERR_DEPRECATED);return t&&!Q1[o]&&(Q1[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,c):!0}};up.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function j6(n,e,t){if(typeof n!="object")throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const c=n[s],d=c===void 0||o(c,s,n);if(d!==!0)throw new ft("option "+s+" must be "+d,ft.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ft("Unknown option "+s,ft.ERR_BAD_OPTION)}}const Uf={assertOptions:j6,validators:up},Ai=Uf.validators;let Ga=class{constructor(e){this.defaults=e||{},this.interceptors={request:new z1,response:new z1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Xa(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:s}=t;r!==void 0&&Uf.assertOptions(r,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),i!=null&&(ue.isFunction(i)?t.paramsSerializer={serialize:i}:Uf.assertOptions(i,{encode:Ai.function,serialize:Ai.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Uf.assertOptions(t,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&ue.merge(s.common,s[t.method]);s&&ue.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=fr.concat(o,s);const c=[];let d=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(t)===!1||(d=d&&x.synchronous,c.unshift(x.fulfilled,x.rejected))});const u=[];this.interceptors.response.forEach(function(x){u.push(x.fulfilled,x.rejected)});let h,p=0,g;if(!d){const y=[X1.bind(this),void 0];for(y.unshift.apply(y,c),y.push.apply(y,u),g=y.length,h=Promise.resolve(t);p<g;)h=h.then(y[p++],y[p++]);return h}g=c.length;let v=t;for(p=0;p<g;){const y=c[p++],x=c[p++];try{v=y(v)}catch(S){x.call(this,S);break}}try{h=X1.call(this,v)}catch(y){return Promise.reject(y)}for(p=0,g=u.length;p<g;)h=h.then(u[p++],u[p++]);return h}getUri(e){e=Xa(this.defaults,e);const t=Gw(e.baseURL,e.url,e.allowAbsoluteUrls);return $w(t,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Ga.prototype[e]=function(t,r){return this.request(Xa(r||{},{method:e,url:t,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function t(r){return function(s,o,c){return this.request(Xa(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ga.prototype[e]=t(),Ga.prototype[e+"Form"]=t(!0)});let z6=class Yw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(c=>{r.subscribe(c),s=c}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,c){r.reason||(r.reason=new _l(s,o,c),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Yw(function(i){e=i}),cancel:e}}};function G6(n){return function(t){return n.apply(null,t)}}function H6(n){return ue.isObject(n)&&n.isAxiosError===!0}const sy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(sy).forEach(([n,e])=>{sy[e]=n});function Xw(n){const e=new Ga(n),t=Rw(Ga.prototype.request,e);return ue.extend(t,Ga.prototype,e,{allOwnKeys:!0}),ue.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Xw(Xa(n,i))},t}const bn=Xw(Fu);bn.Axios=Ga;bn.CanceledError=_l;bn.CancelToken=z6;bn.isCancel=jw;bn.VERSION=qw;bn.toFormData=lp;bn.AxiosError=ft;bn.Cancel=bn.CanceledError;bn.all=function(e){return Promise.all(e)};bn.spread=G6;bn.isAxiosError=H6;bn.mergeConfig=Xa;bn.AxiosHeaders=fr;bn.formToJSON=n=>Uw(ue.isHTMLForm(n)?new FormData(n):n);bn.getAdapter=Ww.getAdapter;bn.HttpStatusCode=sy;bn.default=bn;const{Axios:wK,AxiosError:LK,CanceledError:IK,isCancel:DK,CancelToken:PK,VERSION:_K,all:OK,Cancel:kK,isAxiosError:MK,spread:NK,toFormData:BK,AxiosHeaders:$K,HttpStatusCode:FK,formToJSON:UK,getAdapter:jK,mergeConfig:zK}=bn,V6="/api",it=bn.create({baseURL:V6,timeout:1e4,headers:{"Content-Type":"application/json"}});it.interceptors.request.use(n=>{const e=localStorage.getItem("token");return e&&(n.headers.Authorization=`Bearer ${e}`),n},n=>Promise.reject(n));it.interceptors.response.use(n=>n.data,n=>(n.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login"),Promise.reject(n.response?.data||n.message)));const hf={login:async({email:n,senha:e})=>it.post("/auth/login",{email:n,senha:e}),register:async({nome:n,email:e,senha:t,planoId:r})=>(console.log("Payload enviado para /auth/register:",{nome:n,email:e,senha:t,planoId:r}),it.post("/auth/register",{nome:n,email:e,senha:t,planoId:r})),logout:async()=>{await it.post("/auth/logout"),localStorage.removeItem("token"),localStorage.removeItem("user")},verifyToken:async()=>it.get("/auth/verify"),verifyTokenRaw:async()=>{try{return await it.get("/auth/verify",{validateStatus:()=>!0})}catch(n){return{status:500,data:null,error:n}}},refreshToken:async()=>it.post("/auth/refresh")},pf={getChannels:async(n={})=>it.get("/channels",{params:n}),getChannel:async n=>it.get(`/channels/${n}`),getChannelStream:async n=>it.get(`/channels/${n}/stream`),getChannelEPG:async(n,e)=>it.get(`/channels/${n}/epg`,{params:{date:e}}),addToFavorites:async n=>it.post(`/channels/${n}/favorite`),removeFromFavorites:async n=>it.delete(`/channels/${n}/favorite`),getFavoriteChannels:async()=>it.get("/channels/favorites/list")},K6={getCategories:async()=>it.get("/categories"),getCategory:async n=>it.get(`/categories/${n}`),getCategoryChannels:async(n,e=1,t=20)=>it.get(`/categories/${n}/channels`,{params:{page:e,limit:t}})},Qw={getAll:async()=>it.get("/plans"),getPlans:async()=>it.get("/plans"),getPlan:async n=>it.get(`/plans/${n}`)},Zw={getMovies:async(n={})=>it.get("/vod/movies",{params:n}),getMovie:async n=>it.get(`/vod/movies/${n}`),getMoviesStream:async n=>it.get(`/vod/movies/${n}/stream`),getSeries:async(n={})=>it.get("/vod/series",{params:n}),getSerie:async n=>it.get(`/vod/series/${n}`),getSerieEpisodes:async(n,e,t=1,r=20)=>it.get(`/vod/series/${n}/episodes`,{params:{temporada:e,page:t,limit:r}}),getEpisodeStream:async n=>it.get(`/vod/episodes/${n}/stream`),getFeatured:async()=>it.get("/vod/featured")},W6={getAll:n=>it.get("/epg",{params:n}),getById:n=>it.get(`/epg/${n}`),getByChannel:(n,e)=>it.get(`/epg/channel/${n}`,{params:e}),getByDate:n=>it.get("/epg/date",{params:{date:n}}),getEPG:async(n,e,t=1,r=50)=>it.get("/epg",{params:{date:n,canalId:e,page:t,limit:r}}),getCurrentPrograms:async n=>it.get("/epg/now",{params:{canalId:n}}),getNextPrograms:async(n,e=6)=>it.get("/epg/next",{params:{canalId:n,hours:e}}),getProgramsByCategory:async(n,e,t=1,r=20)=>it.get(`/epg/category/${n}`,{params:{date:e,page:t,limit:r}}),getProgram:async n=>it.get(`/epg/program/${n}`),getProgramCategories:async()=>it.get("/epg/categories")},Jw={user:null,token:null,subscription:null,isAuthenticated:!1,isLoading:!0,error:null},pn={LOGIN_START:"LOGIN_START",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGIN_FAILURE:"LOGIN_FAILURE",LOGOUT:"LOGOUT",VERIFY_START:"VERIFY_START",VERIFY_SUCCESS:"VERIFY_SUCCESS",VERIFY_FAILURE:"VERIFY_FAILURE",CLEAR_ERROR:"CLEAR_ERROR"},q6=(n,e)=>{switch(e.type){case pn.LOGIN_START:case pn.VERIFY_START:return{...n,isLoading:!0,error:null};case pn.LOGIN_SUCCESS:case pn.VERIFY_SUCCESS:return{...n,user:e.payload.user,token:e.payload.token,subscription:e.payload.subscription,isAuthenticated:!0,isLoading:!1,error:null};case pn.LOGIN_FAILURE:case pn.VERIFY_FAILURE:return{...n,user:null,token:null,subscription:null,isAuthenticated:!1,isLoading:!1,error:e.payload};case pn.LOGOUT:return{...Jw,isLoading:!1};case pn.CLEAR_ERROR:return{...n,error:null};default:return n}},eL=D.createContext(),Y6=({children:n})=>{const[e,t]=D.useReducer(q6,Jw);D.useEffect(()=>{let d=!0;async function u(){if(!d)return;const h=localStorage.getItem("token");if(!h){t({type:pn.VERIFY_FAILURE,payload:null});return}try{t({type:pn.VERIFY_START});const p=await hf.verifyTokenRaw();if(p.status===200&&p.data?.user)t({type:pn.VERIFY_SUCCESS,payload:{user:p.data.user,token:h,subscription:p.data.subscription||null}});else throw new Error("Token invlido")}catch(p){console.error("AuthContext: verify error:",p),p.response?.status===401?(localStorage.removeItem("token"),localStorage.removeItem("user"),t({type:pn.VERIFY_FAILURE,payload:"Sesso expirada. Faa login novamente."})):t({type:pn.VERIFY_FAILURE,payload:p?.message||"Erro ao verificar autenticao"})}}return u(),()=>{d=!1}},[]);const c={...e,login:async d=>{t({type:pn.LOGIN_START});try{const u=await hf.login(d);if(u?.success&&u.data?.token){const{token:h,user:p,subscription:g}=u.data;return localStorage.setItem("token",h),localStorage.setItem("user",JSON.stringify(p)),t({type:pn.LOGIN_SUCCESS,payload:{user:p,token:h,subscription:g}}),{success:!0}}else{const h=u?.error||"Erro no login";return t({type:pn.LOGIN_FAILURE,payload:h}),{success:!1,error:h}}}catch(u){const h=u?.error||u?.message||"Erro no login";return t({type:pn.LOGIN_FAILURE,payload:h}),{success:!1,error:h}}},register:async d=>{console.log("Register called with data:",d);const{nome:u,email:h,senha:p,planoId:g}=d;try{t({type:pn.LOGIN_START});const v=await hf.register({nome:u,email:h,senha:p,planoId:g});if(console.log("Response from authService.register:",v),v?.success&&v.data?.token){const{token:y,user:x,subscription:S}=v.data;return localStorage.setItem("token",y),localStorage.setItem("user",JSON.stringify(x)),t({type:pn.LOGIN_SUCCESS,payload:{user:x,token:y,subscription:S}}),{success:!0}}else throw new Error(v?.error||"Erro no registro")}catch(v){const y=v?.error||v?.message||"Erro no registro";return t({type:pn.LOGIN_FAILURE,payload:y}),{success:!1,error:y}}},logout:async()=>{try{await hf.logout()}catch(d){console.error("Erro ao fazer logout:",d)}finally{localStorage.removeItem("token"),localStorage.removeItem("user"),t({type:pn.LOGOUT})}},clearError:()=>{t({type:pn.CLEAR_ERROR})}};return T.jsx(eL.Provider,{value:c,children:n})},oa=()=>{const n=D.useContext(eL);if(!n)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return n},tL=Qe(T.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),X6=de(VR,{shouldForwardProp:n=>n!=="scrolled"})(({theme:n,scrolled:e})=>({background:e?ot(n.palette.primary.main,.9):`linear-gradient(135deg, ${n.palette.primary.main} 0%, ${n.palette.primary.dark} 100%)`,transition:"all 0.3s ease-in-out",backdropFilter:e?"blur(8px)":"none",borderRadius:"0 0 16px 16px",boxShadow:e?"0 4px 10px rgba(0, 0, 0, 0.1)":"0 4px 20px rgba(0, 0, 0, 0.1)"})),Q6=()=>{const n=hi(),e=fh(n.breakpoints.down("md")),t=fi(),{isAuthenticated:r,user:i,logout:s}=oa(),[o,c]=D.useState(!1);D.useEffect(()=>{const M=()=>{const P=window.scrollY>10;P!==o&&c(P)};return window.addEventListener("scroll",M,{passive:!0}),()=>window.removeEventListener("scroll",M)},[o]);const[d,u]=D.useState(null),h=M=>u(M.currentTarget),p=()=>u(null),[g,v]=D.useState(null),y=M=>v(M.currentTarget),x=()=>v(null),S=["Ao","Comdia","Drama","Fico Cientfica","Terror"],E=M=>{t(M),x(),p()},R=async()=>{await s(),t("/login")},A=de(vn)(({theme:M})=>({color:M.palette.common.white,fontWeight:500,transition:"all 0.2s ease","&:hover":{backgroundColor:ot(M.palette.common.white,.1),transform:"translateY(-2px)"}})),L=T.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:2,flexGrow:1,ml:3},children:[T.jsx(A,{onClick:()=>E("/quem-somos"),children:"Quem Somos"}),T.jsx(A,{onClick:()=>E("/movies"),children:"Filmes"}),T.jsx(A,{onClick:()=>E("/series"),children:"Sries"}),T.jsx(A,{onClick:h,"aria-controls":"categorias-menu","aria-haspopup":"true",children:"Categorias"}),T.jsx(A,{onClick:()=>E("/channels"),children:"TV ao Vivo"})]}),I=T.jsxs(T.Fragment,{children:[T.jsx(an,{edge:"start",color:"inherit","aria-label":"menu",onClick:y,sx:{mr:1},children:T.jsx(tL,{})}),T.jsxs(gu,{anchorEl:g,open:!!g,onClose:x,PaperProps:{sx:{borderRadius:2,minWidth:200,boxShadow:"0 8px 16px rgba(0, 0, 0, 0.2)"}},children:[T.jsx(en,{onClick:()=>E("/quem-somos"),children:"Quem Somos"}),T.jsx(en,{onClick:()=>E("/movies"),children:"Filmes"}),T.jsx(en,{onClick:()=>E("/series"),children:"Sries"}),T.jsx(en,{onClick:()=>E("/channels"),children:"TV ao Vivo"}),T.jsx(en,{onClick:h,children:"Categorias"})]}),T.jsx(gu,{id:"categorias-menu-mobile",anchorEl:d,open:!!d,onClose:p,children:S.map(M=>T.jsx(en,{onClick:()=>E(`/categoria/${M.toLowerCase()}`),children:M},M))})]});return T.jsx(X6,{position:"fixed",scrolled:o,children:T.jsxs(Cw,{sx:{justifyContent:"space-between"},children:[T.jsx(ve,{variant:"h5",sx:{fontWeight:"bold",cursor:"pointer",background:`linear-gradient(90deg, ${n.palette.secondary.main}, ${n.palette.secondary.light})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"}},onClick:()=>t("/"),children:"IPTV Pro"}),e?I:L,T.jsx(Ce,{sx:{display:"flex",alignItems:"center"},children:r?T.jsxs(T.Fragment,{children:[T.jsx(ve,{variant:"body1",sx:{mr:2,display:{xs:"none",sm:"block"},maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i?.nome||i?.email}),T.jsx(vn,{variant:"outlined",color:"inherit",sx:{borderRadius:2,borderWidth:2,"&:hover":{borderWidth:2}},onClick:R,children:"Sair"})]}):T.jsxs(T.Fragment,{children:[T.jsx(A,{sx:{mr:1},onClick:()=>t("/login"),children:"Login"}),T.jsx(vn,{variant:"contained",color:"secondary",sx:{borderRadius:2,boxShadow:"none","&:hover":{boxShadow:"none",backgroundColor:n.palette.secondary.dark}},onClick:()=>t("/register"),children:"Registrar"})]})})]})})},Z1=Qe(T.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"})),nL=Qe(T.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),mh=Qe([T.jsx("path",{d:"m12 2-5.5 9h11z"},"0"),T.jsx("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),T.jsx("path",{d:"M3 13.5h8v8H3z"},"2")]),Z6=Qe(T.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),e0=Qe(T.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),J6=Qe(T.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-8 7H9.5v-.5h-2v3h2V13H11v1c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm7 0h-1.5v-.5h-2v3h2V13H18v1c0 .55-.45 1-1 1h-3c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1z"})),Dv=Qe(T.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),e8=Qe(T.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),J1=Qe(T.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),eA=Qe(T.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),t8=Qe(T.jsx("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"})),Pv=Qe(T.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),_v=Qe(T.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),tA=Qe(T.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),n8=Qe(T.jsx("path",{d:"M7 14H5v5h5v-2H7zm-2-4h2V7h3V5H5zm12 7h-3v2h5v-5h-2zM14 5v2h3v3h2V5z"})),r8=Qe(T.jsx("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m-8 11H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11zm7-1c0 .55-.45 1-1 1h-.75v1.5h-1.5V15H14c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1h3c.55 0 1 .45 1 1zm-3.5-.5h2v-3h-2z"})),i8=Qe(T.jsx("path",{fillRule:"evenodd",d:"m9 17 3-2.94c-.39-.04-.68-.06-1-.06-2.67 0-8 1.34-8 4v2h9zm2-5c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m4.47 8.5L12 17l1.4-1.41 2.07 2.08 5.13-5.17 1.4 1.41z"})),s8=Qe(T.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),a8=Qe(T.jsx("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"})),nA=Qe(T.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56M12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96M4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56m2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8M12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96M14.34 14H9.66c-.09-.66-.16-1.32-.16-2s.07-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2m.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2z"})),ay=Qe(T.jsx("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2m0 14H3V8h18zM9 10v8l7-4z"})),o8=Qe(T.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),oy=Qe(T.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1s3.1 1.39 3.1 3.1z"})),l8=Qe(T.jsx("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"})),rA=Qe(T.jsx("path",{d:"m18 4 2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4z"})),c8=Qe(T.jsx("path",{d:"M6 19h4V5H6zm8-14v14h4V5z"})),u8=Qe(T.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),d8=Qe(T.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"})),Ov=Qe(T.jsx("path",{d:"M8 5v14l11-7z"})),ly=Qe(T.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),rL=Qe(T.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92-1.31-2.92-2.92-2.92"})),f8=Qe(T.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),cy=Qe(T.jsx("path",{d:"M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3zM8 17H6v-2h2zm0-4H6v-2h2zm0-4H6V7h2zm10 8h-2v-2h2zm0-4h-2v-2h2zm0-4h-2V7h2z"})),h8=Qe(T.jsx("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"})),uy=Qe(T.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),dy=Qe(T.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"})),p8=Qe(T.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63m2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71M4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9zM12 4 9.91 6.09 12 8.18z"})),m8=Qe(T.jsx("path",{d:"M3 9v6h4l5 5V4L7 9zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02M14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77"})),g8=Qe(T.jsx("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"})),y8=de(VR,{shouldForwardProp:n=>n!=="scrolled"})(({theme:n,scrolled:e})=>({background:e?ot(n.palette.primary.main,.9):`linear-gradient(135deg, ${n.palette.primary.main} 0%, ${n.palette.primary.dark} 100%)`,boxShadow:e?"0 4px 10px rgba(0, 0, 0, 0.1)":"0 4px 20px rgba(0, 0, 0, 0.1)",padding:n.spacing(.5,0),transition:"all 0.3s ease-in-out",backdropFilter:e?"blur(8px)":"none",[n.breakpoints.down("sm")]:{borderRadius:0,padding:n.spacing(.25,0)},[n.breakpoints.up("sm")]:{borderRadius:"0 0 16px 16px"}})),t0=de(gu)(({theme:n})=>({"& .MuiPaper-root":{borderRadius:12,minWidth:200,boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)","& .MuiMenuItem-root":{padding:n.spacing(1.5,2),transition:"all 0.2s ease","&:hover":{backgroundColor:ot(n.palette.primary.main,.1),transform:"translateX(4px)"},"& .MuiSvgIcon-root":{transition:"all 0.2s ease",fontSize:"1.25rem",[n.breakpoints.down("sm")]:{fontSize:"1.1rem"}},"&:hover .MuiSvgIcon-root":{color:n.palette.primary.main,transform:"scale(1.1)"}}}})),La=de(vn)(({theme:n})=>({color:n.palette.common.white,fontWeight:500,transition:"all 0.2s ease",padding:n.spacing(1,1.5),fontSize:"0.875rem",minWidth:"auto","&:hover":{backgroundColor:ot(n.palette.common.white,.1),transform:"translateY(-2px)"},"& .MuiSvgIcon-root":{transition:"all 0.2s ease",fontSize:"1.1rem",[n.breakpoints.up("md")]:{marginRight:n.spacing(.5)}},"&:hover .MuiSvgIcon-root":{transform:"scale(1.1)"},[n.breakpoints.down("lg")]:{padding:n.spacing(.75,1),fontSize:"0.8125rem"},[n.breakpoints.down("md")]:{"& .MuiButton-startIcon":{margin:0},span:{display:"none"}}})),v8=de(ve)(({theme:n})=>({fontWeight:700,background:`linear-gradient(90deg, ${n.palette.secondary.main}, ${n.palette.secondary.light})`,WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 2px 4px rgba(0,0,0,0.1)",letterSpacing:"1px",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"},[n.breakpoints.up("xl")]:{fontSize:"1.75rem"},[n.breakpoints.between("lg","xl")]:{fontSize:"1.5rem"},[n.breakpoints.between("md","lg")]:{fontSize:"1.25rem"},[n.breakpoints.down("md")]:{fontSize:"1.1rem"},[n.breakpoints.down("sm")]:{display:"none"}})),x8=()=>{const n=hi(),e=fh(n.breakpoints.down("md")),t=fh(n.breakpoints.down("sm")),r=fi(),{isAuthenticated:i,logout:s,user:o}=oa(),[c,d]=D.useState(!1),[u,h]=D.useState(null),[p,g]=D.useState(null),v=["Ao","Comdia","Drama","Fico Cientfica","Terror","Romance","Documentrio"];D.useEffect(()=>{const P=()=>{const k=window.scrollY>10;k!==c&&d(k)};return document.addEventListener("scroll",P,{passive:!0}),()=>{document.removeEventListener("scroll",P)}},[c]);const y=P=>h(P.currentTarget),x=()=>h(null),S=P=>g(P.currentTarget),E=()=>g(null),R=P=>{r(P),E(),x()},A=()=>{s(),r("/login")},L=T.jsxs(qg,{direction:"row",spacing:1,sx:{flexGrow:1,ml:{md:2,lg:3},overflowX:"auto","&::-webkit-scrollbar":{display:"none"},msOverflowStyle:"none",scrollbarWidth:"none"},children:[T.jsx(La,{startIcon:T.jsx(Z1,{}),onClick:()=>R("/quem-somos"),children:"Quem Somos"}),T.jsx(La,{startIcon:T.jsx(rA,{}),onClick:()=>R("/movies"),children:"Filmes"}),T.jsx(La,{startIcon:T.jsx(cy,{}),onClick:()=>R("/series"),children:"Sries"}),T.jsx(La,{startIcon:T.jsx(mh,{}),onClick:y,"aria-controls":"categorias-menu","aria-haspopup":"true",children:"Categorias"}),T.jsx(La,{startIcon:T.jsx(ay,{}),onClick:()=>R("/channels"),children:"TV ao Vivo"}),T.jsx(La,{startIcon:T.jsx(ly,{}),onClick:()=>R("/search"),children:"Buscar"})]}),I=T.jsxs(T.Fragment,{children:[T.jsx(an,{size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:S,sx:{mr:1,[n.breakpoints.down("sm")]:{padding:"6px"}},children:T.jsx(tL,{fontSize:t?"medium":"large"})}),T.jsxs(t0,{anchorEl:p,open:!!p,onClose:E,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[T.jsxs(en,{onClick:()=>R("/quem-somos"),children:[T.jsx(Z1,{sx:{mr:1.5}})," Quem Somos"]}),T.jsxs(en,{onClick:()=>R("/movies"),children:[T.jsx(rA,{sx:{mr:1.5}})," Filmes"]}),T.jsxs(en,{onClick:()=>R("/series"),children:[T.jsx(cy,{sx:{mr:1.5}})," Sries"]}),T.jsxs(en,{onClick:()=>R("/channels"),children:[T.jsx(ay,{sx:{mr:1.5}})," TV ao Vivo"]}),T.jsxs(en,{onClick:()=>R("/search"),children:[T.jsx(ly,{sx:{mr:1.5}})," Buscar"]}),T.jsxs(en,{onClick:y,children:[T.jsx(mh,{sx:{mr:1.5}})," Categorias"]})]}),T.jsx(t0,{id:"categorias-menu-mobile",anchorEl:u,open:!!u,onClose:x,children:v.map(P=>T.jsx(en,{onClick:()=>R(`/categoria/${P.toLowerCase()}`),children:P},P))})]}),M=()=>T.jsx(qg,{direction:"row",spacing:1,alignItems:"center",children:i?T.jsxs(T.Fragment,{children:[T.jsxs(qg,{direction:"row",spacing:1,alignItems:"center",sx:{cursor:"pointer",[n.breakpoints.down("sm")]:{"& .MuiTypography-root":{display:"none"}}},onClick:()=>R("/profile"),children:[T.jsx(Zo,{sx:{width:{xs:30,sm:36},height:{xs:30,sm:36},bgcolor:"secondary.main",transition:"all 0.3s ease","&:hover":{transform:"scale(1.1)"}},children:o?.name?.charAt(0).toUpperCase()}),T.jsx(ve,{variant:"body2",noWrap:!0,sx:{maxWidth:120,[n.breakpoints.down("md")]:{maxWidth:80}},children:o?.name||"Usurio"})]}),T.jsx(an,{color:"inherit",onClick:A,size:t?"small":"medium",sx:{transition:"all 0.3s ease",padding:t?"6px":"8px","&:hover":{color:n.palette.error.main,transform:"scale(1.1)"}},children:T.jsx(e8,{fontSize:t?"small":"medium"})})]}):T.jsxs(T.Fragment,{children:[T.jsx(La,{startIcon:T.jsx(l8,{}),onClick:()=>r("/login"),sx:{px:{xs:1,sm:2},[n.breakpoints.down("sm")]:{minWidth:"auto",padding:"6px"}},children:!t&&"Login"}),T.jsx(vn,{variant:"contained",color:"secondary",startIcon:T.jsx(i8,{}),onClick:()=>r("/register"),sx:{borderRadius:2,boxShadow:"none",transition:"all 0.3s ease",fontSize:"0.875rem",padding:{xs:"6px 8px",sm:"8px 16px"},minWidth:"auto","&:hover":{boxShadow:"none",backgroundColor:n.palette.secondary.dark,transform:"translateY(-2px)"},"& .MuiButton-startIcon":{marginRight:{xs:0,sm:"8px"}},[n.breakpoints.down("sm")]:{span:{display:"none"}}},children:!t&&"Registrar"})]})});return T.jsxs(y8,{position:"fixed",scrolled:c,children:[T.jsx(on,{maxWidth:"xl",sx:{px:{xs:1,sm:2}},children:T.jsxs(Cw,{disableGutters:!0,sx:{minHeight:{xs:"56px",sm:"64px"}},children:[e&&I,T.jsxs(Ce,{onClick:()=>r("/"),sx:{display:"flex",alignItems:"center",mr:{xs:1,sm:2},cursor:"pointer",gap:1},children:[T.jsx(Ce,{component:"img",src:"/logo.svg",alt:"",sx:{height:{xs:30,sm:36,md:40},transition:"all 0.3s ease","&:hover":{transform:"rotate(-5deg) scale(1.1)"}}}),T.jsx(v8,{variant:"h6",children:"StreamFlix"})]}),!e&&L,T.jsx(Ce,{sx:{flexGrow:1}}),M()]})}),!e&&T.jsx(t0,{id:"categorias-menu",anchorEl:u,open:!!u,onClose:x,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:v.map(P=>T.jsx(en,{onClick:()=>R(`/categoria/${P.toLowerCase()}`),children:P},P))})]})},b8=()=>{const n=new Date().getFullYear(),e={Sobre:[{text:"Quem Somos",href:"/about"},{text:"Carreiras",href:"/careers"},{text:"Imprensa",href:"/press"},{text:"Blog",href:"/blog"}],Suporte:[{text:"Central de Ajuda",href:"/help"},{text:"Contato",href:"/contact"},{text:"Status do Servio",href:"/status"},{text:"Reportar Problema",href:"/report"}],Legal:[{text:"Termos de Uso",href:"/terms"},{text:"Poltica de Privacidade",href:"/privacy"},{text:"Cookies",href:"/cookies"},{text:"DMCA",href:"/dmca"}]},t=[{icon:T.jsx(t8,{}),href:"https://facebook.com",label:"Facebook"},{icon:T.jsx(h8,{}),href:"https://twitter.com",label:"Twitter"},{icon:T.jsx(a8,{}),href:"https://instagram.com",label:"Instagram"},{icon:T.jsx(g8,{}),href:"https://youtube.com",label:"YouTube"}];return T.jsx(Ce,{component:"footer",sx:{backgroundColor:"#121212",color:"white",py:3,mt:"auto",fontSize:"0.875rem"},children:T.jsxs(on,{maxWidth:"xl",children:[T.jsxs(Kt,{container:!0,spacing:3,children:[T.jsxs(Kt,{item:!0,xs:12,md:4,children:[T.jsx(ve,{variant:"h6",component:"div",sx:{fontWeight:"bold",color:"primary.main",mb:1},children:"IPTV Pro"}),T.jsx(ve,{variant:"body2",sx:{mb:2,color:"text.secondary"},children:"A melhor plataforma de streaming de TV e filmes do Brasil. Assista aos seus canais favoritos, filmes e sries em alta qualidade, quando e onde quiser."}),T.jsxs(Ce,{sx:{mb:2},children:[T.jsxs(Ce,{sx:{display:"flex",alignItems:"center",mb:.5},children:[T.jsx(Dv,{sx:{mr:1,fontSize:16}}),T.jsx(ve,{variant:"body2",children:"contato@iptvpro.com.br"})]}),T.jsxs(Ce,{sx:{display:"flex",alignItems:"center",mb:.5},children:[T.jsx(d8,{sx:{mr:1,fontSize:16}}),T.jsx(ve,{variant:"body2",children:"(11) 9999-9999"})]}),T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(o8,{sx:{mr:1,fontSize:16}}),T.jsx(ve,{variant:"body2",children:"So Paulo, SP - Brasil"})]})]}),T.jsx(Ce,{children:t.map(r=>T.jsx(an,{href:r.href,target:"_blank",rel:"noopener noreferrer",sx:{color:"text.secondary","&:hover":{color:"primary.main"}},children:r.icon},r.label))})]}),Object.entries(e).map(([r,i])=>T.jsxs(Kt,{item:!0,xs:12,sm:6,md:2.67,children:[T.jsx(ve,{variant:"subtitle1",component:"div",sx:{fontWeight:600,mb:1},children:r}),T.jsx(Ce,{children:i.map(s=>T.jsx(el,{href:s.href,sx:{display:"block",color:"text.secondary",textDecoration:"none",mb:.5,fontSize:"0.85rem","&:hover":{color:"primary.main",textDecoration:"underline"}},children:s.text},s.text))})]},r))]}),T.jsx(lh,{sx:{my:3,borderColor:"rgba(255, 255, 255, 0.1)"}}),T.jsxs(Kt,{container:!0,spacing:1,alignItems:"center",children:[T.jsx(Kt,{item:!0,xs:12,md:6,children:T.jsxs(ve,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.75rem"},children:[" ",n," IPTV Pro. Todos os direitos reservados."]})}),T.jsx(Kt,{item:!0,xs:12,md:6,children:T.jsxs(Ce,{sx:{display:"flex",justifyContent:{xs:"flex-start",md:"flex-end"}},children:[T.jsx(ve,{variant:"body2",sx:{color:"text.secondary",mr:1,fontSize:"0.75rem"},children:"Desenvolvido por Manus AI"}),T.jsx(ve,{variant:"body2",sx:{color:"text.secondary",fontSize:"0.75rem"},children:"v1.0.0"})]})})]}),T.jsx(Ce,{sx:{mt:2},children:T.jsx(ve,{variant:"caption",sx:{color:"text.secondary",fontSize:"0.7rem",lineHeight:1.4},children:"Este servio  destinado apenas para contedo licenciado e autorizado. O uso indevido pode resultar na suspenso da conta. Consulte nossos Termos de Uso para mais informaes."})})]})})},n0=({children:n})=>{const{isAuthenticated:e,isLoading:t}=oa();return t?T.jsx("div",{children:"Carregando..."}):e?n:T.jsx(n_,{to:"/login",replace:!0})},S8=()=>{const n=fi(),{login:e,isLoading:t,error:r,clearError:i}=oa(),[s,o]=D.useState({email:"",senha:""}),[c,d]=D.useState({}),[u,h]=D.useState(!1),p=x=>{const{name:S,value:E}=x.target;o(R=>({...R,[S]:E})),r&&i()},g=()=>{const x={};return s.email?/\S+@\S+\.\S+/.test(s.email)||(x.email="Email invlido"):x.email="Email  obrigatrio",s.senha||(x.senha="Senha  obrigatria"),d(x),Object.keys(x).length===0},v=()=>{h(x=>!x)},y=async x=>{if(x.preventDefault(),!g())return;(await e({email:s.email,senha:s.senha})).success&&n("/dashboard")};return T.jsxs(on,{maxWidth:"sm",sx:{py:8},children:[T.jsxs(Wn,{elevation:3,sx:{p:4,backgroundColor:"background.paper",borderRadius:3},children:[T.jsxs(Ce,{sx:{textAlign:"center",mb:4},children:[T.jsx(ve,{variant:"h4",component:"h1",sx:{fontWeight:"bold",color:"primary.main",mb:1},children:"Entrar"}),T.jsx(ve,{variant:"body1",color:"text.secondary",children:"Acesse sua conta IPTV Pro"})]}),r&&T.jsx(sa,{severity:"error",sx:{mb:3},children:r}),T.jsxs(Ce,{component:"form",onSubmit:y,children:[T.jsx(Ua,{fullWidth:!0,name:"email",label:"Email",type:"email",value:s.email,onChange:p,error:!!c.email,helperText:c.email,margin:"normal",InputProps:{startAdornment:T.jsx(us,{position:"start",children:T.jsx(Dv,{})})},sx:{mb:2}}),T.jsx(Ua,{fullWidth:!0,name:"senha",label:"Senha",type:u?"text":"password",value:s.senha,onChange:p,error:!!c.senha,helperText:c.senha,margin:"normal",InputProps:{startAdornment:T.jsx(us,{position:"start",children:T.jsx(oy,{})}),endAdornment:T.jsx(us,{position:"end",children:T.jsx(an,{onClick:v,edge:"end",children:u?T.jsx(dy,{}):T.jsx(uy,{})})})},sx:{mb:3}}),T.jsx(vn,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:t,sx:{py:1.5,fontWeight:"bold",fontSize:"1.1rem",mb:3},children:t?T.jsx(Kr,{size:24,color:"inherit"}):"Entrar"}),T.jsx(Ce,{sx:{textAlign:"center"},children:T.jsxs(ve,{variant:"body2",color:"text.secondary",children:["No tem uma conta?"," ",T.jsx(el,{component:kh,to:"/register",sx:{color:"primary.main",textDecoration:"none",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"Cadastre-se aqui"})]})}),T.jsx(Ce,{sx:{textAlign:"center",mt:2},children:T.jsx(el,{href:"#",sx:{color:"text.secondary",textDecoration:"none",fontSize:"0.9rem","&:hover":{textDecoration:"underline"}},children:"Esqueceu sua senha?"})})]})]}),T.jsx(Ce,{sx:{textAlign:"center",mt:4},children:T.jsxs(ve,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["Ao fazer login, voc concorda com nossos"," ",T.jsx(el,{href:"/terms",color:"primary.main",children:"Termos de Uso"})," ","e"," ",T.jsx(el,{href:"/privacy",color:"primary.main",children:"Poltica de Privacidade"})]})})]})},E8=()=>{const n=fi(),{register:e,isLoading:t,error:r,clearError:i}=oa(),[s,o]=D.useState(0),[c,d]=D.useState([]),[u,h]=D.useState(!0),[p,g]=D.useState({nome:"",email:"",senha:"",confirmarSenha:"",planoId:""}),[v,y]=D.useState(!1),[x,S]=D.useState(!1),[E,R]=D.useState({}),A=["Dados Pessoais","Escolher Plano","Confirmao"];D.useEffect(()=>{(async()=>{try{const B=await Qw.getAll();d(B.data||[])}catch(B){console.error("Erro ao carregar planos:",B)}finally{h(!1)}})()},[]);const L=w=>{const{name:B,value:j}=w.target;g(z=>({...z,[B]:j})),E[B]&&R(z=>({...z,[B]:""})),r&&i()},I=w=>{const B={};return w===0&&((!p.nome||p.nome.length<2)&&(B.nome="Nome deve ter pelo menos 2 caracteres"),(!p.email||!/\S+@\S+\.\S+/.test(p.email))&&(B.email="Email invlido"),(!p.senha||p.senha.length<6)&&(B.senha="Senha deve ter pelo menos 6 caracteres"),(!p.confirmarSenha||p.senha!==p.confirmarSenha)&&(B.confirmarSenha="Senhas no coincidem")),w===1&&!p.planoId&&(B.planoId="Selecione um plano"),R(B),Object.keys(B).length===0},M=()=>{I(s)&&o(w=>w+1)},P=()=>{o(w=>w-1)},k=async w=>{if(w.preventDefault(),!I(0)||!I(1))return;console.log("Dados enviados no registro:",p);const B=await e(p);console.log("Resultado do registro:",B),B.success&&(i(),n("/dashboard",{replace:!0}))},_=w=>{const B=c.find(j=>String(j.id)===String(p.planoId));return w===0?T.jsxs(Ce,{children:[T.jsx(Ua,{fullWidth:!0,name:"nome",label:"Nome Completo",value:p.nome,onChange:L,error:!!E.nome,helperText:E.nome,margin:"normal",InputProps:{startAdornment:T.jsx(us,{position:"start",children:T.jsx(u8,{})})},sx:{mb:2}}),T.jsx(Ua,{fullWidth:!0,name:"email",label:"Email",type:"email",value:p.email,onChange:L,error:!!E.email,helperText:E.email,margin:"normal",InputProps:{startAdornment:T.jsx(us,{position:"start",children:T.jsx(Dv,{})})},sx:{mb:2}}),T.jsx(Ua,{fullWidth:!0,name:"senha",label:"Senha",type:v?"text":"password",value:p.senha,onChange:L,error:!!E.senha,helperText:E.senha,margin:"normal",InputProps:{startAdornment:T.jsx(us,{position:"start",children:T.jsx(oy,{})}),endAdornment:T.jsx(us,{position:"end",children:T.jsx(an,{onClick:()=>y(!v),edge:"end",children:v?T.jsx(dy,{}):T.jsx(uy,{})})})},sx:{mb:2}}),T.jsx(Ua,{fullWidth:!0,name:"confirmarSenha",label:"Confirmar Senha",type:x?"text":"password",value:p.confirmarSenha,onChange:L,error:!!E.confirmarSenha,helperText:E.confirmarSenha,margin:"normal",InputProps:{startAdornment:T.jsx(us,{position:"start",children:T.jsx(oy,{})}),endAdornment:T.jsx(us,{position:"end",children:T.jsx(an,{onClick:()=>S(!x),edge:"end",children:x?T.jsx(dy,{}):T.jsx(uy,{})})})}})]}):w===1?T.jsxs(Ce,{children:[T.jsx(ve,{variant:"h6",sx:{mb:3,textAlign:"center"},children:"Escolha seu plano"}),u?T.jsx(Ce,{sx:{textAlign:"center",py:4},children:T.jsx(Kr,{})}):T.jsxs(eu,{fullWidth:!0,error:!!E.planoId,children:[T.jsx(nu,{children:"Plano"}),T.jsx(al,{name:"planoId",value:p.planoId,onChange:L,label:"Plano",children:c.map(j=>T.jsx(en,{value:String(j.id),children:T.jsxs(Ce,{children:[T.jsxs(ve,{variant:"subtitle1",fontWeight:"bold",children:[j.nome," - R$ ",parseFloat(j.preco).toFixed(2),"/ms"]}),T.jsxs(ve,{variant:"body2",color:"text.secondary",children:[j.descricao,"  ",j.qualidade_max,"  ",j.dispositivos_simultaneos," dispositivo(s)"]})]})},j.id))}),E.planoId&&T.jsx(dw,{children:E.planoId})]})]}):w===2?T.jsxs(Ce,{children:[T.jsx(ve,{variant:"h6",sx:{mb:3,textAlign:"center"},children:"Confirme seus dados"}),T.jsxs(Ce,{sx:{mb:3},children:[T.jsx(ve,{variant:"subtitle2",color:"text.secondary",children:"Nome:"}),T.jsx(ve,{variant:"body1",children:p.nome})]}),T.jsxs(Ce,{sx:{mb:3},children:[T.jsx(ve,{variant:"subtitle2",color:"text.secondary",children:"Email:"}),T.jsx(ve,{variant:"body1",children:p.email})]}),B&&T.jsxs(Ce,{sx:{mb:3},children:[T.jsx(ve,{variant:"subtitle2",color:"text.secondary",children:"Plano Selecionado:"}),T.jsxs(ve,{variant:"body1",fontWeight:"bold",children:[B.nome," - R$ ",parseFloat(B.preco).toFixed(2),"/ms"]}),T.jsx(ve,{variant:"body2",color:"text.secondary",children:B.descricao})]})]}):null};return T.jsx(on,{maxWidth:"md",sx:{py:8},children:T.jsxs(Wn,{elevation:3,sx:{p:4,borderRadius:3},children:[T.jsxs(Ce,{sx:{textAlign:"center",mb:4},children:[T.jsx(ve,{variant:"h4",fontWeight:"bold",color:"primary.main",gutterBottom:!0,children:"Criar Conta"}),T.jsx(ve,{variant:"body1",color:"text.secondary",children:"Junte-se ao IPTV Pro"})]}),T.jsx(aj,{activeStep:s,sx:{mb:4},children:A.map(w=>T.jsx($4,{children:T.jsx(Aw,{children:w})},w))}),r&&T.jsx(sa,{severity:"error",sx:{mb:3},children:r}),T.jsxs(Ce,{component:"form",onSubmit:k,children:[_(s),T.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[T.jsx(vn,{onClick:P,disabled:s===0,children:"Voltar"}),s===A.length-1?T.jsx(vn,{type:"submit",variant:"contained",disabled:t,children:t?T.jsx(Kr,{size:24,color:"inherit"}):"Criar Conta"}):T.jsx(vn,{variant:"contained",onClick:M,children:"Prximo"})]})]}),T.jsx(Ce,{sx:{textAlign:"center",mt:4},children:T.jsxs(ve,{variant:"body2",color:"text.secondary",children:["J tem uma conta?"," ",T.jsx(el,{component:kh,to:"/login",sx:{fontWeight:600,color:"primary.main"},children:"Faa login aqui"})]})})]})})},ze=ku({palette:{primary:{main:"#1565c0",dark:"#0d47a1",light:"#1976d2",contrastText:"#ffffff"},secondary:{main:"#7b1fa2"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#212121",secondary:"#424242"},grey:{100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',h4:{fontWeight:500,fontSize:"2.125rem"},h5:{fontWeight:500,fontSize:"1.5rem"},h6:{fontWeight:500,fontSize:"1.25rem"},body1:{fontSize:"1rem"},body2:{fontSize:"0.875rem"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:500}}},MuiCard:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"box-shadow 0.3s ease","&:hover":{boxShadow:"0 4px 8px rgba(0,0,0,0.2)"}}}},MuiTextField:{styleOverrides:{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#e0e0e0"},"&:hover fieldset":{borderColor:"#1976d2"},"&.Mui-focused fieldset":{borderColor:"#1976d2",borderWidth:"1px"}}}}}}}),T8=()=>{const{isAuthenticated:n,user:e,logout:t}=oa(),[r,i]=D.useState({}),[s,o]=D.useState([]),[c,d]=D.useState([]),[u,h]=D.useState(!0),[p,g]=D.useState(null),[v,y]=D.useState(null),[x,S]=D.useState(!1),[E,R]=D.useState(!1),[A,L]=D.useState(new Set),[I,M]=D.useState(!1),[P,k]=D.useState({}),[_,w]=D.useState({search:"",category:"",quality:"",language:"",country:""}),[B,j]=D.useState({page:1,limit:1e3,totalPages:1,totalItems:0});D.useEffect(()=>{(async()=>{try{h(!0),await Promise.all([z(),q(),n&&K(),n&&$()])}catch(oe){console.error("Erro ao carregar dados:",oe),g("Erro ao carregar dados. Tente novamente.")}finally{h(!1)}})()},[_,B.page,n]);const z=async()=>{const V=await K6.getCategories();o(V.data||[])},q=async()=>{try{const V={..._,page:B.page,limit:B.limit};Object.keys(V).forEach(Te=>!V[Te]&&delete V[Te]);const oe=await pf.getChannels(V),me={};(oe.data||[]).forEach(Te=>{const Pe=Te.categoria_nome||"Sem Categoria";me[Pe]||(me[Pe]=[]),me[Pe].push({...Te,safeLogoUrl:W(Te.logo_url,Te.name)})}),i(me);const we={};Object.keys(me).forEach(Te=>{we[Te]=me[Te].length<=6}),k(we),oe.pagination&&j(Te=>({...Te,totalPages:oe.pagination.totalPages,totalItems:oe.pagination.total})),g(null)}catch(V){console.error("Erro ao carregar canais:",V),g("Erro ao carregar canais. Tente novamente."),i({})}},K=async()=>{const V=await W6.getCurrentPrograms();d(V.data||[])},$=async()=>{const V=await pf.getFavoriteChannels(),oe=new Set((V.data||[]).map(me=>me.id));L(oe)},W=(V,oe)=>{if(!V)return G(oe);try{return V.startsWith("/")||V.includes(window.location.hostname)?V:`https://images.weserv.nl/?url=${encodeURIComponent(V.replace(/^https?:\/\//,""))}&w=300&h=150&fit=contain&output=webp`}catch{return G(oe)}},G=V=>{const oe=["4285F4","EA4335","FBBC05","34A853","FF6D00"];return`https://via.placeholder.com/300x150/${oe[Math.floor(Math.random()*oe.length)]}/FFFFFF?text=${encodeURIComponent(V?.substring(0,15)||"TV")}`},Y=V=>c.find(oe=>oe.channel_id===V),F=(V,oe)=>{w(me=>({...me,[V]:oe})),j(me=>({...me,page:1}))},H=V=>{if(!n)return g("Faa login para assistir aos canais");y(V),S(!0)},Q=V=>{y(V),R(!0)},ee=async V=>{if(!n)return g("Faa login para gerenciar favoritos");try{A.has(V)?(await pf.removeFromFavorites(V),L(oe=>new Set([...oe].filter(me=>me!==V)))):(await pf.addToFavorites(V),L(oe=>new Set([...oe,V])))}catch(oe){console.error("Erro ao atualizar favoritos:",oe),g("Erro ao atualizar favoritos")}},ce=V=>{k(oe=>({...oe,[V]:!oe[V]}))},se=gt.memo(({channel:V})=>{const oe=Y(V.id),me=A.has(V.id);return T.jsxs(Jn,{children:[T.jsxs(Ce,{sx:{height:120,display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:ze.palette.grey[100],p:2,position:"relative"},children:[T.jsx(UF,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"left"},badgeContent:me?T.jsx(f8,{color:"warning",sx:{fontSize:24}}):null,children:T.jsx(np,{component:"img",image:V.safeLogoUrl,alt:V.name,sx:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"},onError:we=>{we.target.src!==G(V.name)&&(we.target.src=G(V.name))}})}),V.quality&&T.jsx(Jt,{label:V.quality,size:"small",color:"primary",sx:{position:"absolute",top:8,right:8,fontWeight:"bold",fontSize:"0.7rem"}})]}),T.jsxs(Cr,{sx:{flexGrow:1,p:2},children:[T.jsx(ve,{variant:"h6",noWrap:!0,sx:{mb:1,fontWeight:500},children:V.name}),T.jsxs(Ce,{sx:{display:"flex",gap:1,mb:1,flexWrap:"wrap"},children:[V.category_name&&T.jsx(Jt,{label:V.category_name,size:"small",icon:T.jsx(mh,{fontSize:"small"}),sx:{fontSize:"0.7rem"}}),V.language&&T.jsx(Jt,{label:V.language,size:"small",icon:T.jsx(nA,{fontSize:"small"}),sx:{fontSize:"0.7rem"}})]}),oe&&T.jsxs(Ce,{sx:{mb:1,p:1,backgroundColor:ze.palette.grey[100],borderRadius:1},children:[T.jsx(ve,{variant:"caption",color:"text.secondary",display:"block",children:"Agora:"}),T.jsx(ve,{variant:"body2",fontWeight:500,noWrap:!0,children:oe.title}),T.jsxs(ve,{variant:"caption",color:"text.secondary",display:"block",children:[new Date(oe.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," - "," ",new Date(oe.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),T.jsxs(Ce,{sx:{display:"flex",gap:1,mt:"auto",pt:1},children:[T.jsx(vn,{variant:"contained",size:"small",startIcon:T.jsx(Ov,{}),onClick:()=>H(V),sx:{flex:1},children:"Assistir"}),T.jsx(an,{onClick:()=>Q(V),color:"info",size:"small",sx:{border:`1px solid ${ze.palette.info.main}`},children:T.jsx(s8,{fontSize:"small"})}),T.jsx(an,{onClick:()=>ee(V.id),color:me?"error":"default",size:"small",sx:{border:`1px solid ${me?ze.palette.error.main:ze.palette.grey[400]}`,"&:hover":{backgroundColor:me?ze.palette.error.light:ze.palette.grey[200]}},children:me?T.jsx(Pv,{fontSize:"small"}):T.jsx(_v,{fontSize:"small"})})]})]})]})});return T.jsx(NR,{theme:ze,children:T.jsxs(on,{maxWidth:"xl",sx:{py:2,backgroundColor:ze.palette.background.default},children:[T.jsxs(Wn,{sx:{mb:3,p:2,display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:ze.palette.primary.main,color:ze.palette.primary.contrastText,boxShadow:ze.shadows[2]},children:[T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(ay,{sx:{fontSize:40,mr:2}}),T.jsx(ve,{variant:"h4",component:"h1",sx:{fontWeight:500},children:"StreamFlux"})]}),T.jsx(Ce,{children:n?T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsxs(ve,{variant:"body1",sx:{mr:2},children:["Ol, ",e?.name]}),T.jsx(vn,{variant:"outlined",color:"inherit",onClick:t,children:"Sair"})]}):T.jsxs(T.Fragment,{children:[T.jsx(vn,{variant:"outlined",color:"inherit",sx:{mr:2},onClick:()=>{},children:"Login"}),T.jsx(vn,{variant:"contained",color:"secondary",onClick:()=>{},children:"Registrar"})]})})]}),T.jsxs(Wn,{sx:{mb:3,p:2,display:"flex",alignItems:"center",backgroundColor:ze.palette.background.paper,boxShadow:ze.shadows[1]},children:[T.jsx(ly,{sx:{color:ze.palette.text.secondary,mr:2,fontSize:30}}),T.jsx(Ua,{fullWidth:!0,variant:"outlined",placeholder:"Buscar canais...",value:_.search,onChange:V=>F("search",V.target.value),sx:{"& input":{color:ze.palette.text.primary,fontSize:"1.2rem"}}})]}),T.jsx(vn,{fullWidth:!0,variant:"outlined",startIcon:T.jsx(tA,{}),endIcon:I?T.jsx(J1,{}):T.jsx(eA,{}),onClick:()=>M(!I),sx:{mb:2,color:ze.palette.primary.main,borderColor:ze.palette.primary.main,"&:hover":{backgroundColor:ze.palette.primary.light,color:ze.palette.primary.dark,borderColor:ze.palette.primary.dark}},children:"Filtros Avanados"}),T.jsx(ih,{in:I,children:T.jsx(Wn,{sx:{mb:3,p:3,backgroundColor:ze.palette.background.paper,boxShadow:ze.shadows[1]},children:T.jsxs(Kt,{container:!0,spacing:2,children:[T.jsx(Kt,{item:!0,xs:12,sm:6,md:3,children:T.jsxs(eu,{fullWidth:!0,children:[T.jsx(nu,{sx:{color:ze.palette.text.primary},children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(mh,{sx:{mr:1,fontSize:"1rem",color:ze.palette.text.secondary}}),"Categoria"]})}),T.jsxs(al,{value:_.category,onChange:V=>F("category",V.target.value),label:"Categoria",sx:{color:ze.palette.text.primary,"& .MuiSelect-select":{textShadow:"none",color:ze.palette.text.primary}},MenuProps:{PaperProps:{sx:{backgroundColor:ze.palette.background.paper,color:ze.palette.text.primary}}},children:[T.jsx(en,{value:"",children:"Todas"}),s.map(V=>T.jsx(en,{value:V.id,sx:{color:ze.palette.text.primary},children:V.name},V.id))]})]})}),T.jsx(Kt,{item:!0,xs:12,sm:6,md:3,children:T.jsxs(eu,{fullWidth:!0,children:[T.jsx(nu,{sx:{color:ze.palette.text.primary},children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(r8,{sx:{mr:1,fontSize:"1rem",color:ze.palette.text.secondary}}),"Qualidade"]})}),T.jsxs(al,{value:_.quality,onChange:V=>F("quality",V.target.value),label:"Qualidade",sx:{color:ze.palette.text.primary,"& .MuiSelect-select":{textShadow:"none",color:ze.palette.text.primary}},MenuProps:{PaperProps:{sx:{backgroundColor:ze.palette.background.paper,color:ze.palette.text.primary}}},children:[T.jsx(en,{value:"",children:"Todas"}),["SD","HD","FHD","4K"].map(V=>T.jsx(en,{value:V,children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(Zo,{sx:{width:20,height:20,mr:1,backgroundColor:V==="4K"?"gold":V==="FHD"?"green":V==="HD"?"blue":"grey"},children:T.jsx(ve,{variant:"caption",sx:{fontSize:"0.6rem"},children:V})}),V]})},V))]})]})}),T.jsx(Kt,{item:!0,xs:12,sm:6,md:3,children:T.jsxs(eu,{fullWidth:!0,children:[T.jsx(nu,{sx:{color:ze.palette.text.primary},children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(nA,{sx:{mr:1,fontSize:"1rem",color:ze.palette.text.secondary}}),"Idioma"]})}),T.jsxs(al,{value:_.language,onChange:V=>F("language",V.target.value),label:"Idioma",sx:{color:ze.palette.text.primary,"& .MuiSelect-select":{textShadow:"none",color:ze.palette.text.primary}},MenuProps:{PaperProps:{sx:{backgroundColor:ze.palette.background.paper,color:ze.palette.text.primary}}},children:[T.jsx(en,{value:"",children:"Todos"}),T.jsx(en,{value:"pt-BR",children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(Zo,{src:"https://flagcdn.com/w20/br.png",sx:{width:20,height:20,mr:1}}),"Portugus"]})}),T.jsx(en,{value:"en",children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(Zo,{src:"https://flagcdn.com/w20/us.png",sx:{width:20,height:20,mr:1}}),"Ingls"]})}),T.jsx(en,{value:"es",children:T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(Zo,{src:"https://flagcdn.com/w20/es.png",sx:{width:20,height:20,mr:1}}),"Espanhol"]})})]})]})}),T.jsx(Kt,{item:!0,xs:12,sm:6,md:3,children:T.jsx(vn,{fullWidth:!0,variant:"outlined",startIcon:T.jsx(e0,{}),onClick:()=>{w({search:"",category:"",quality:"",language:"",country:""})},sx:{height:"56px",color:ze.palette.error.main,borderColor:ze.palette.error.main,"&:hover":{backgroundColor:ze.palette.error.light,borderColor:ze.palette.error.dark}},children:"Limpar Filtros"})})]})})}),p&&T.jsx(sa,{severity:"error",sx:{mb:3},onClose:()=>g(null),children:p}),u?T.jsx(Ce,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"300px"},children:T.jsx(Kr,{})}):T.jsx(T.Fragment,{children:Object.keys(r).length>0?T.jsx(Ce,{children:Object.entries(r).map(([V,oe])=>T.jsxs(Wn,{sx:{mb:4,borderRadius:2,overflow:"hidden",boxShadow:ze.shadows[2]},children:[T.jsxs(Ce,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,backgroundColor:ze.palette.primary.main,color:ze.palette.primary.contrastText,cursor:"pointer","&:hover":{backgroundColor:ze.palette.primary.dark}},onClick:()=>ce(V),children:[T.jsxs(Ce,{sx:{display:"flex",alignItems:"center"},children:[T.jsx(cy,{sx:{mr:1}}),T.jsx(ve,{variant:"h5",sx:{fontWeight:500},children:V}),T.jsx(Jt,{label:`${oe.length} canais`,sx:{ml:2,backgroundColor:"rgba(255,255,255,0.2)",color:"white"}})]}),P[V]?T.jsx(J1,{}):T.jsx(eA,{})]}),T.jsx(ih,{in:P[V]!==!1,children:T.jsx(Kt,{container:!0,spacing:3,sx:{p:3,backgroundColor:ze.palette.background.paper},children:oe.map(me=>T.jsx(Kt,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:T.jsx(se,{channel:me})},me.id))})})]},V))}):T.jsxs(Wn,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"300px",textAlign:"center",p:4,borderRadius:2,backgroundColor:ze.palette.background.paper,boxShadow:ze.shadows[1]},children:[T.jsx(ve,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"Nenhum canal encontrado"}),T.jsx(ve,{variant:"body1",color:"text.secondary",sx:{mb:2},children:"Tente ajustar os filtros de busca"}),T.jsx(vn,{variant:"contained",color:"primary",startIcon:T.jsx(tA,{}),onClick:()=>{w({search:"",category:"",quality:"",language:"",country:""})},children:"Limpar Filtros"})]})}),T.jsxs(p1,{open:x,onClose:()=>S(!1),maxWidth:"lg",fullWidth:!0,fullScreen:window.innerWidth<900,children:[T.jsxs(g1,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:ze.palette.primary.main,color:ze.palette.primary.contrastText},children:[v?.name,T.jsx(an,{onClick:()=>S(!1),color:"inherit",children:T.jsx(e0,{})})]}),T.jsx(m1,{sx:{backgroundColor:"#000",padding:0,height:window.innerWidth<900?"100vh":"70vh",display:"flex",justifyContent:"center",alignItems:"center"},children:T.jsxs(Ce,{sx:{textAlign:"center",color:"#fff"},children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Player de Vdeo"}),T.jsx(ve,{children:v?.name})]})})]}),T.jsxs(p1,{open:E,onClose:()=>R(!1),maxWidth:"md",fullWidth:!0,children:[T.jsxs(g1,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:ze.palette.primary.main,color:ze.palette.primary.contrastText},children:["Programao - ",v?.name,T.jsx(an,{onClick:()=>R(!1),color:"inherit",children:T.jsx(e0,{})})]}),T.jsxs(m1,{dividers:!0,sx:{backgroundColor:ze.palette.background.default},children:[T.jsxs(Wn,{sx:{display:"flex",alignItems:"center",mb:3,p:2,backgroundColor:ze.palette.background.paper,borderRadius:1,boxShadow:ze.shadows[1]},children:[T.jsx(Zo,{src:v?.safeLogoUrl,alt:v?.name,sx:{width:60,height:60,mr:2}}),T.jsxs(Ce,{children:[T.jsx(ve,{variant:"h6",children:v?.name}),T.jsx(ve,{variant:"body2",color:"text.secondary",children:v?.category_name})]})]}),T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Programao Atual"}),c.find(V=>V.channel_id===v?.id)?T.jsxs(Wn,{sx:{p:2,mb:3},children:[T.jsx(ve,{variant:"subtitle1",gutterBottom:!0,children:c.find(V=>V.channel_id===v?.id).title}),T.jsx(ve,{variant:"body2",gutterBottom:!0,children:c.find(V=>V.channel_id===v?.id).description||"Nenhuma descrio disponvel."}),T.jsxs(ve,{variant:"caption",color:"text.secondary",children:[new Date(c.find(V=>V.channel_id===v?.id).start_time).toLocaleString()," - "," ",new Date(c.find(V=>V.channel_id===v?.id).end_time).toLocaleString()]})]}):T.jsx(ve,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"Nenhuma informao de programao disponvel no momento."}),T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Prximos Programas"}),T.jsx(Wn,{sx:{p:2},children:T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Funcionalidade de programao completa em desenvolvimento"})})]})]})]})})},A8=()=>{const[n,e]=D.useState([]),[t,r]=D.useState(!0),i=fi(),{isAuthenticated:s}=oa();D.useEffect(()=>{(async()=>{try{const d=await Zw.getMovies();e(d.data)}catch(d){console.error("Erro ao carregar filmes:",d),e([])}finally{r(!1)}})()},[]);const o=c=>{i(s?`/vod/${c}`:"/login")};return t?T.jsx(Ce,{sx:{display:"flex",justifyContent:"center",mt:10},children:T.jsx(Kr,{color:"inherit",size:60})}):T.jsxs(on,{maxWidth:"xl",sx:{py:4},children:[T.jsx(ve,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:4,color:"white"},children:"Filmes"}),n.length===0?T.jsx(ve,{variant:"h6",color:"text.secondary",children:"Nenhum filme encontrado."}):T.jsx(Kt,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",children:n.map(c=>T.jsx(Kt,{item:!0,xs:12,sm:6,md:4,sx:{display:"flex",justifyContent:"center"},children:T.jsxs(Jn,{sx:{width:240,backgroundColor:"#1e1e1e",color:"white",borderRadius:3,boxShadow:6,transition:"transform 0.3s","&:hover":{transform:"scale(1.08)",boxShadow:"0 12px 24px rgba(25, 118, 210, 0.9)"},display:"flex",flexDirection:"column",height:"100%"},children:[T.jsx(np,{component:"img",height:"200",image:c.capa_url||"/sem-imagem.jpg",alt:c.titulo,sx:{objectFit:"cover",borderRadius:"12px 12px 0 0",cursor:"pointer"},onClick:()=>o(c.id)}),T.jsxs(Cr,{sx:{flexGrow:1,p:2,cursor:"pointer"},onClick:()=>o(c.id),children:[T.jsx(ve,{variant:"h6",sx:{fontWeight:"bold",mb:1,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},title:c.titulo,children:c.titulo}),T.jsx(ve,{variant:"body2",color:"gray",sx:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:c.descricao||"Sem descrio"}),T.jsxs(ve,{variant:"body2",color:"lightgray",sx:{mt:1,display:"block"},children:[c.genero||"Gnero no informado","  ",c.ano||"----","  ",c.duracao?`${c.duracao} min`:"--"]})]}),T.jsx(Ce,{sx:{p:2},children:T.jsx(vn,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>o(c.id),children:"Assistir"})})]})},c.id))})]})},C8=()=>{const[n,e]=D.useState([]),[t,r]=D.useState(!0),[i,s]=D.useState(null),[o,c]=D.useState(1),[d,u]=D.useState(1),h=8,p=fi();D.useEffect(()=>{(async()=>{r(!0);try{const x=await Zw.getSeries({page:o,limit:h});e(x.data||[]),u(x.pagination?.totalPages||1),s(null)}catch(x){console.error("Erro ao carregar sries:",x),s("Erro ao carregar sries. Tente novamente mais tarde.")}finally{r(!1)}})()},[o]);const g=y=>{p(`/vod/${y}`)},v=(y,x)=>{c(x)};return t?T.jsx(on,{maxWidth:"xl",sx:{py:8,display:"flex",justifyContent:"center"},children:T.jsx(Kr,{size:60})}):i?T.jsx(on,{maxWidth:"xl",sx:{py:8},children:T.jsx(sa,{severity:"error",children:i})}):T.jsxs(on,{maxWidth:"xl",sx:{py:4},children:[T.jsx(ve,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:4,color:"white"},children:"Sries"}),n.length===0?T.jsx(Ce,{sx:{textAlign:"center",py:8},children:T.jsx(ve,{variant:"h6",color:"text.secondary",children:"Nenhuma srie disponvel no momento"})}):T.jsxs(T.Fragment,{children:[T.jsx(Kt,{container:!0,spacing:3,justifyContent:"center",alignItems:"center",children:n.map(y=>T.jsx(Kt,{item:!0,xs:12,sm:6,md:4,sx:{display:"flex",justifyContent:"center"},children:T.jsxs(Jn,{sx:{width:240,backgroundColor:"#1e1e1e",color:"white",borderRadius:3,boxShadow:6,transition:"transform 0.3s","&:hover":{transform:"scale(1.08)",boxShadow:"0 12px 24px rgba(25, 118, 210, 0.9)"},display:"flex",flexDirection:"column",height:"100%",cursor:"pointer"},onClick:()=>g(y.id),children:[T.jsx(np,{component:"img",height:"200",image:y.capa_url||"/placeholder-series.jpg",alt:y.titulo,sx:{objectFit:"cover",borderRadius:"12px 12px 0 0"}}),T.jsxs(Cr,{sx:{flexGrow:1},children:[T.jsx(ve,{gutterBottom:!0,variant:"h6",component:"div",sx:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:y.titulo}),T.jsxs(Ce,{sx:{display:"flex",alignItems:"center",mb:1},children:[T.jsx(Jt,{label:y.ano_inicio,size:"small",sx:{mr:1}}),T.jsx(Jt,{label:y.genero,size:"small",color:"primary"})]}),T.jsx(ve,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:y.descricao?.length>100?`${y.descricao.substring(0,100)}...`:y.descricao}),T.jsx(vn,{fullWidth:!0,variant:"outlined",size:"small",onClick:x=>{x.stopPropagation(),g(y.id)},children:"Ver Temporadas"})]})]})},y.id))}),T.jsx(Ce,{sx:{display:"flex",justifyContent:"center",mt:4},children:T.jsx($U,{count:d,page:o,onChange:v,color:"primary",shape:"rounded"})})]})]})},R8=()=>T.jsxs(on,{maxWidth:"xl",sx:{py:4},children:[T.jsx(ve,{variant:"h4",component:"h1",sx:{fontWeight:"bold",mb:4,color:"white"},children:"Meu Perfil"}),T.jsx(Ce,{sx:{textAlign:"center",py:8},children:T.jsx(ve,{variant:"h6",color:"text.secondary",children:"Pgina de perfil em desenvolvimento"})})]}),w8=()=>{const{isAuthenticated:n,user:e}=oa(),[t,r]=D.useState([]),[i,s]=D.useState(!0),[o,c]=D.useState(null);D.useEffect(()=>{(async()=>{try{const x=((await Qw.getAll()).data||[]).map(S=>({...S,preco:parseFloat(S.preco)||0}));r(x)}catch(y){console.error("Erro ao carregar planos:",y),c("Erro ao carregar planos. Tente novamente mais tarde.")}finally{s(!1)}})()},[]);const d=v=>{const y=["Acesso a todos os canais","Suporte 24/7","Sem anncios","Mltiplas plataformas"],x={SD:["Qualidade SD (480p)"],HD:["Qualidade HD (720p)","Qualidade SD (480p)"],FHD:["Qualidade Full HD (1080p)","Qualidade HD (720p)","Qualidade SD (480p)"],"4K":["Qualidade 4K (2160p)","Qualidade Full HD (1080p)","Qualidade HD (720p)","Qualidade SD (480p)"]},S=[`${v.dispositivos_simultaneos} dispositivo${v.dispositivos_simultaneos>1?"s":""} simultneo${v.dispositivos_simultaneos>1?"s":""}`];return[...y,...x[v.qualidade_max]||[],...S]},u=()=>t.length>=3?t[1]._id:null,h=v=>{n?console.log("Alterar plano para:",v):window.location.href=`/register?plan=${v}`},p=v=>{try{const y=typeof v=="string"?parseFloat(v.replace(/[^\d.,]/g,"").replace(",",".")):Number(v);return isNaN(y)?(console.warn("Valor de preo invlido:",v),"0,00"):y.toFixed(2).replace(".",",")}catch(y){return console.error("Erro ao formatar preo:",y),"0,00"}},g=(v,y)=>{const x=v._id===u(),S=n&&e?.plano===v._id,E=d(v);return T.jsx(Kt,{item:!0,xs:12,md:4,children:T.jsxs(Jn,{sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative",border:x?"2px solid":"1px solid",borderColor:x?"primary.main":"divider",transform:x?"scale(1.05)":"scale(1)",transition:"transform 0.2s","&:hover":{transform:x?"scale(1.08)":"scale(1.02)"}},children:[x&&T.jsx(Jt,{label:"Mais Popular",color:"primary",sx:{position:"absolute",top:-10,left:"50%",transform:"translateX(-50%)",zIndex:1,fontWeight:"bold"}}),S&&T.jsx(Jt,{label:"Plano Atual",color:"success",sx:{position:"absolute",top:x?20:-10,right:16,zIndex:1,fontWeight:"bold"}}),T.jsxs(Cr,{sx:{flexGrow:1,p:3,pt:x?4:3},children:[T.jsxs(Ce,{sx:{textAlign:"center",mb:3},children:[T.jsx(ve,{variant:"h5",component:"h3",sx:{fontWeight:"bold",mb:1,color:x?"primary.main":"text.primary"},children:v.nome}),T.jsxs(ve,{variant:"h3",component:"div",sx:{fontWeight:"bold",color:"primary.main",mb:1},children:["R$ ",p(v.preco),T.jsx(ve,{component:"span",variant:"h6",sx:{color:"text.secondary",fontWeight:"normal"},children:"/ms"})]}),T.jsx(ve,{variant:"body2",color:"text.secondary",children:v.descricao})]}),T.jsx(Ev,{sx:{mb:3},children:E.map((R,A)=>T.jsxs(hw,{sx:{py:.5,px:0},children:[T.jsx(H5,{sx:{minWidth:32},children:T.jsx(Z6,{color:"primary",fontSize:"small"})}),T.jsx(pw,{primary:R,primaryTypographyProps:{variant:"body2"}})]},A))}),T.jsx(Ce,{sx:{mt:"auto"},children:T.jsx(vn,{fullWidth:!0,variant:x?"contained":"outlined",size:"large",onClick:()=>h(v._id),disabled:S,sx:{py:1.5,fontWeight:"bold",fontSize:"1rem"},children:S?"Plano Atual":n?"Alterar Plano":"Escolher Plano"})})]})]})},v._id)};return i?T.jsx(on,{maxWidth:"lg",sx:{py:8},children:T.jsx(Ce,{sx:{display:"flex",justifyContent:"center"},children:T.jsx(Kr,{size:60})})}):o?T.jsx(on,{maxWidth:"lg",sx:{py:8},children:T.jsx(sa,{severity:"error",children:o})}):T.jsxs(on,{maxWidth:"lg",sx:{py:8},children:[T.jsxs(Ce,{sx:{textAlign:"center",mb:6},children:[T.jsx(ve,{variant:"h3",component:"h1",sx:{fontWeight:"bold",mb:2,color:"white"},children:"Escolha seu Plano"}),T.jsx(ve,{variant:"h6",sx:{color:"text.secondary",maxWidth:"600px",mx:"auto"},children:"Desfrute da melhor experincia de streaming com nossos planos flexveis"})]}),T.jsx(Kt,{container:!0,spacing:4,sx:{mb:8},children:t.map(g)})]})},L8="modulepreload",I8=function(n){return"/"+n},iA={},Oa=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let d=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=d(t.map(u=>{if(u=I8(u),u in iA)return;iA[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":L8,h||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),h)return new Promise((v,y)=>{g.addEventListener("load",v),g.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},iL=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,sA=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,aA=/\.(m3u8)($|\?)/i,D8=/\.(mpd)($|\?)/i,P8=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,_8=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,O8=/vimeo\.com\/(?!progressive_redirect).+/,k8=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,ru=(n,e)=>{if(Array.isArray(n)){for(const t of n)if(typeof t=="string"&&ru(t,e)||ru(t.src,e))return!0;return!1}return e(n)},Ia={html:n=>ru(n,e=>iL.test(e)||sA.test(e)),hls:n=>ru(n,e=>aA.test(e)),dash:n=>ru(n,e=>D8.test(e)),mux:n=>P8.test(n),youtube:n=>_8.test(n),vimeo:n=>O8.test(n)&&!sA.test(n)&&!aA.test(n),wistia:n=>k8.test(n)},M8=gt.forwardRef((n,e)=>{const t=iL.test(`${n.src}`)?"audio":"video";return gt.createElement(t,{...n,ref:e},n.children)});var N8=M8;const B8=[{key:"hls",name:"hls.js",canPlay:Ia.hls,canEnablePIP:()=>!0,player:D.lazy(()=>Oa(()=>import("./react-CC5HjDZ5.js"),__vite__mapDeps([0,1,2])))},{key:"dash",name:"dash.js",canPlay:Ia.dash,canEnablePIP:()=>!0,player:D.lazy(()=>Oa(()=>import("./react-DgA0Kl3D.js"),__vite__mapDeps([3,1])))},{key:"mux",name:"Mux",canPlay:Ia.mux,canEnablePIP:()=>!0,player:D.lazy(()=>Oa(()=>import("./index-eGjKUOgX.js"),__vite__mapDeps([4,1,2])))},{key:"youtube",name:"YouTube",canPlay:Ia.youtube,player:D.lazy(()=>Oa(()=>import("./react-C6y8poTr.js"),[]))},{key:"vimeo",name:"Vimeo",canPlay:Ia.vimeo,player:D.lazy(()=>Oa(()=>import("./react-p35aIc9X.js"),[]))},{key:"wistia",name:"Wistia",canPlay:Ia.wistia,canEnablePIP:()=>!0,player:D.lazy(()=>Oa(()=>import("./react-C6F-I62O.js"),[]))},{key:"html",name:"html",canPlay:Ia.html,canEnablePIP:()=>!0,player:N8}];var fy=B8,r0,oA;function $8(){if(oA)return r0;oA=1;var n=function(R){return e(R)&&!t(R)};function e(E){return!!E&&typeof E=="object"}function t(E){var R=Object.prototype.toString.call(E);return R==="[object RegExp]"||R==="[object Date]"||s(E)}var r=typeof Symbol=="function"&&Symbol.for,i=r?Symbol.for("react.element"):60103;function s(E){return E.$$typeof===i}function o(E){return Array.isArray(E)?[]:{}}function c(E,R){return R.clone!==!1&&R.isMergeableObject(E)?x(o(E),E,R):E}function d(E,R,A){return E.concat(R).map(function(L){return c(L,A)})}function u(E,R){if(!R.customMerge)return x;var A=R.customMerge(E);return typeof A=="function"?A:x}function h(E){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E).filter(function(R){return Object.propertyIsEnumerable.call(E,R)}):[]}function p(E){return Object.keys(E).concat(h(E))}function g(E,R){try{return R in E}catch{return!1}}function v(E,R){return g(E,R)&&!(Object.hasOwnProperty.call(E,R)&&Object.propertyIsEnumerable.call(E,R))}function y(E,R,A){var L={};return A.isMergeableObject(E)&&p(E).forEach(function(I){L[I]=c(E[I],A)}),p(R).forEach(function(I){v(E,I)||(g(E,I)&&A.isMergeableObject(R[I])?L[I]=u(I,A)(E[I],R[I],A):L[I]=c(R[I],A))}),L}function x(E,R,A){A=A||{},A.arrayMerge=A.arrayMerge||d,A.isMergeableObject=A.isMergeableObject||n,A.cloneUnlessOtherwiseSpecified=c;var L=Array.isArray(R),I=Array.isArray(E),M=L===I;return M?L?A.arrayMerge(E,R,A):y(E,R,A):c(R,A)}x.all=function(R,A){if(!Array.isArray(R))throw new Error("first argument should be an array");return R.reduce(function(L,I){return x(L,I,A)},{})};var S=x;return r0=S,r0}var F8=$8();const U8=My(F8),j8={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},sL=gt.forwardRef((n,e)=>{const{playing:t,pip:r}=n,i=n.activePlayer,s=D.useRef(null),o=D.useRef(!0);D.useEffect(()=>{var h,p;s.current&&(s.current.paused&&t===!0&&s.current.play(),!s.current.paused&&t===!1&&s.current.pause(),s.current.playbackRate=(h=n.playbackRate)!=null?h:1,s.current.volume=(p=n.volume)!=null?p:1)}),D.useEffect(()=>{var h,p,g,v,y;if(!(!s.current||!globalThis.document)){if(r&&!document.pictureInPictureElement)try{(p=(h=s.current).requestPictureInPicture)==null||p.call(h)}catch{}if(!r&&document.pictureInPictureElement)try{(v=(g=s.current).exitPictureInPicture)==null||v.call(g),(y=document.exitPictureInPicture)==null||y.call(document)}catch{}}},[r]);const c=h=>{var p,g;o.current=!0,(p=n.onReady)==null||p.call(n),(g=n.onLoadStart)==null||g.call(n,h)},d=h=>{var p,g;o.current&&(o.current=!1,(p=n.onStart)==null||p.call(n,h)),(g=n.onPlay)==null||g.call(n,h)};if(!i)return null;const u={};for(const h in n)h.startsWith("on")&&(u[h]=n[h]);return gt.createElement(i,{...u,style:n.style,className:n.className,slot:n.slot,ref:D.useCallback(h=>{s.current=h,typeof e=="function"?e(h):e!==null&&(e.current=h)},[e]),src:n.src,crossOrigin:n.crossOrigin,preload:n.preload,controls:n.controls,muted:n.muted,autoPlay:n.autoPlay,loop:n.loop,playsInline:n.playsInline,config:n.config,onLoadStart:c,onPlay:d},n.children)});sL.displayName="Player";var z8=sL;const G8=D.lazy(()=>Oa(()=>import("./Preview-BmO2JMhU.js"),[])),jc=[],H8=(n,e)=>{const t=i=>{for(const s of[...jc,...n])if(i&&s.canPlay(i))return s;return e||null},r=gt.forwardRef(({children:i,...s},o)=>{const c=U8(j8,s),{src:d,slot:u,className:h,style:p,width:g,height:v,fallback:y,wrapper:x}=c,[S,E]=D.useState(!!c.light);D.useEffect(()=>{c.light?E(!0):E(!1)},[c.light]);const R=P=>{var k;E(!1),(k=c.onClickPreview)==null||k.call(c,P)},A=P=>{if(!P)return null;const{light:k,playIcon:_,previewTabIndex:w,oEmbedUrl:B,previewAriaLabel:j}=c;return gt.createElement(G8,{src:P,light:k,playIcon:_,previewTabIndex:w,previewAriaLabel:j,oEmbedUrl:B,onClickPreview:R})},L=P=>{var k,_;const w=t(P);if(!w)return null;const{style:B,width:j,height:z,wrapper:q}=c,K=(k=c.config)==null?void 0:k[w.key];return gt.createElement(z8,{...c,ref:o,activePlayer:(_=w.player)!=null?_:w,slot:q?void 0:u,className:q?void 0:h,style:q?{display:"block",width:"100%",height:"100%"}:{display:"block",width:j,height:z,...B},config:K},i)},I=x??lA,M=y===!1?lA:D.Suspense;return gt.createElement(I,{slot:u,className:h,style:{width:g,height:v,...p}},gt.createElement(M,{fallback:y},S?A(d):L(d)))});return r.displayName="ReactPlayer",r.addCustomPlayer=i=>{jc.push(i)},r.removeCustomPlayers=()=>{jc.length=0},r.canPlay=i=>{if(i){for(const s of[...jc,...n])if(s.canPlay(i))return!0}return!1},r.canEnablePIP=i=>{var s;if(i){for(const o of[...jc,...n])if(o.canPlay(i)&&((s=o.canEnablePIP)!=null&&s.call(o)))return!0}return!1},r},lA=({children:n})=>n,V8=fy[fy.length-1];var K8=H8(fy,V8);const _e=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},W8=Number.isSafeInteger||function(n){return typeof n=="number"&&Math.abs(n)<=q8},q8=Number.MAX_SAFE_INTEGER||9007199254740991;let Ge=function(n){return n.NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",n}({}),re=function(n){return n.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",n.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",n.KEY_SYSTEM_NO_SESSION="keySystemNoSession",n.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",n.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",n.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",n.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",n.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",n.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR="keySystemDestroyMediaKeysError",n.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR="keySystemDestroyCloseSessionError",n.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR="keySystemDestroyRemoveSessionError",n.MANIFEST_LOAD_ERROR="manifestLoadError",n.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",n.MANIFEST_PARSING_ERROR="manifestParsingError",n.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",n.LEVEL_EMPTY_ERROR="levelEmptyError",n.LEVEL_LOAD_ERROR="levelLoadError",n.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",n.LEVEL_PARSING_ERROR="levelParsingError",n.LEVEL_SWITCH_ERROR="levelSwitchError",n.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",n.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",n.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",n.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",n.FRAG_LOAD_ERROR="fragLoadError",n.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",n.FRAG_DECRYPT_ERROR="fragDecryptError",n.FRAG_PARSING_ERROR="fragParsingError",n.FRAG_GAP="fragGap",n.REMUX_ALLOC_ERROR="remuxAllocError",n.KEY_LOAD_ERROR="keyLoadError",n.KEY_LOAD_TIMEOUT="keyLoadTimeOut",n.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",n.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",n.BUFFER_APPEND_ERROR="bufferAppendError",n.BUFFER_APPENDING_ERROR="bufferAppendingError",n.BUFFER_STALLED_ERROR="bufferStalledError",n.BUFFER_FULL_ERROR="bufferFullError",n.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",n.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",n.ASSET_LIST_LOAD_ERROR="assetListLoadError",n.ASSET_LIST_LOAD_TIMEOUT="assetListLoadTimeout",n.ASSET_LIST_PARSING_ERROR="assetListParsingError",n.INTERSTITIAL_ASSET_ITEM_ERROR="interstitialAssetItemError",n.INTERNAL_EXCEPTION="internalException",n.INTERNAL_ABORTED="aborted",n.ATTACH_MEDIA_ERROR="attachMediaError",n.UNKNOWN="unknown",n}({}),O=function(n){return n.MEDIA_ATTACHING="hlsMediaAttaching",n.MEDIA_ATTACHED="hlsMediaAttached",n.MEDIA_DETACHING="hlsMediaDetaching",n.MEDIA_DETACHED="hlsMediaDetached",n.MEDIA_ENDED="hlsMediaEnded",n.STALL_RESOLVED="hlsStallResolved",n.BUFFER_RESET="hlsBufferReset",n.BUFFER_CODECS="hlsBufferCodecs",n.BUFFER_CREATED="hlsBufferCreated",n.BUFFER_APPENDING="hlsBufferAppending",n.BUFFER_APPENDED="hlsBufferAppended",n.BUFFER_EOS="hlsBufferEos",n.BUFFERED_TO_END="hlsBufferedToEnd",n.BUFFER_FLUSHING="hlsBufferFlushing",n.BUFFER_FLUSHED="hlsBufferFlushed",n.MANIFEST_LOADING="hlsManifestLoading",n.MANIFEST_LOADED="hlsManifestLoaded",n.MANIFEST_PARSED="hlsManifestParsed",n.LEVEL_SWITCHING="hlsLevelSwitching",n.LEVEL_SWITCHED="hlsLevelSwitched",n.LEVEL_LOADING="hlsLevelLoading",n.LEVEL_LOADED="hlsLevelLoaded",n.LEVEL_UPDATED="hlsLevelUpdated",n.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",n.LEVELS_UPDATED="hlsLevelsUpdated",n.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",n.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",n.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",n.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",n.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",n.AUDIO_TRACK_UPDATED="hlsAudioTrackUpdated",n.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",n.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",n.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",n.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",n.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",n.SUBTITLE_TRACK_UPDATED="hlsSubtitleTrackUpdated",n.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",n.CUES_PARSED="hlsCuesParsed",n.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",n.INIT_PTS_FOUND="hlsInitPtsFound",n.FRAG_LOADING="hlsFragLoading",n.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",n.FRAG_LOADED="hlsFragLoaded",n.FRAG_DECRYPTED="hlsFragDecrypted",n.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",n.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",n.FRAG_PARSING_METADATA="hlsFragParsingMetadata",n.FRAG_PARSED="hlsFragParsed",n.FRAG_BUFFERED="hlsFragBuffered",n.FRAG_CHANGED="hlsFragChanged",n.FPS_DROP="hlsFpsDrop",n.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",n.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",n.ERROR="hlsError",n.DESTROYING="hlsDestroying",n.KEY_LOADING="hlsKeyLoading",n.KEY_LOADED="hlsKeyLoaded",n.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",n.BACK_BUFFER_REACHED="hlsBackBufferReached",n.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",n.ASSET_LIST_LOADING="hlsAssetListLoading",n.ASSET_LIST_LOADED="hlsAssetListLoaded",n.INTERSTITIALS_UPDATED="hlsInterstitialsUpdated",n.INTERSTITIALS_BUFFERED_TO_BOUNDARY="hlsInterstitialsBufferedToBoundary",n.INTERSTITIAL_ASSET_PLAYER_CREATED="hlsInterstitialAssetPlayerCreated",n.INTERSTITIAL_STARTED="hlsInterstitialStarted",n.INTERSTITIAL_ASSET_STARTED="hlsInterstitialAssetStarted",n.INTERSTITIAL_ASSET_ENDED="hlsInterstitialAssetEnded",n.INTERSTITIAL_ASSET_ERROR="hlsInterstitialAssetError",n.INTERSTITIAL_ENDED="hlsInterstitialEnded",n.INTERSTITIALS_PRIMARY_RESUMED="hlsInterstitialsPrimaryResumed",n.PLAYOUT_LIMIT_REACHED="hlsPlayoutLimitReached",n.EVENT_CUE_ENTER="hlsEventCueEnter",n}({});var xt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Ne={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};class Wo{constructor(e,t=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}sample(e,t){const r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class Y8{constructor(e,t,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Wo(e),this.fast_=new Wo(t),this.defaultTTFB_=i,this.ttfb_=new Wo(e)}update(e,t){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new Wo(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==t&&(this.fast_=new Wo(t,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new Wo(e,s.getEstimate(),s.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const r=8*t,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const t=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}get defaultEstimate(){return this.defaultEstimate_}destroy(){}}function X8(n,e,t){return(e=Z8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Mt(){return Mt=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Mt.apply(null,arguments)}function cA(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function jt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(t),!0).forEach(function(r){X8(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cA(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Q8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Z8(n){var e=Q8(n,"string");return typeof e=="symbol"?e:e+""}class gi{constructor(e,t){this.trace=void 0,this.debug=void 0,this.log=void 0,this.warn=void 0,this.info=void 0,this.error=void 0;const r=`[${e}]:`;this.trace=qs,this.debug=t.debug.bind(null,r),this.log=t.log.bind(null,r),this.warn=t.warn.bind(null,r),this.info=t.info.bind(null,r),this.error=t.error.bind(null,r)}}const qs=function(){},J8={trace:qs,debug:qs,log:qs,warn:qs,info:qs,error:qs};function hy(){return Mt({},J8)}function ez(n,e){const t=self.console[n];return t?t.bind(self.console,`${e?"["+e+"] ":""}[${n}] >`):qs}function uA(n,e,t){return e[n]?e[n].bind(e):ez(n,t)}const py=hy();function tz(n,e,t){const r=hy();if(typeof console=="object"&&n===!0||typeof n=="object"){const i=["debug","log","info","warn","error"];i.forEach(s=>{r[s]=uA(s,n,t)});try{r.log(`Debug logs enabled for "${e}" in hls.js version 1.6.7`)}catch{return hy()}i.forEach(s=>{py[s]=uA(s,n)})}else Mt(py,r);return r}const wt=py;function na(n=!0){return typeof self>"u"?void 0:(n||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function nz(n){return typeof self<"u"&&n===self.ManagedMediaSource}function aL(n,e){const t=Object.keys(n),r=Object.keys(e),i=t.length,s=r.length;return!i||!s||i===s&&!t.some(o=>r.indexOf(o)===-1)}function wr(n,e=!1){if(typeof TextDecoder<"u"){const u=new TextDecoder("utf-8").decode(n);if(e){const h=u.indexOf("\0");return h!==-1?u.substring(0,h):u}return u.replace(/\0/g,"")}const t=n.length;let r,i,s,o="",c=0;for(;c<t;){if(r=n[c++],r===0&&e)return o;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:i=n[c++],o+=String.fromCharCode((r&31)<<6|i&63);break;case 14:i=n[c++],s=n[c++],o+=String.fromCharCode((r&15)<<12|(i&63)<<6|(s&63)<<0);break}}return o}const Na={hexDump:function(n){let e="";for(let t=0;t<n.length;t++){let r=n[t].toString(16);r.length<2&&(r="0"+r),e+=r}return e}};function oL(n){return Uint8Array.from(n.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}function rz(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var i0={exports:{}},dA;function iz(){return dA||(dA=1,function(n,e){(function(t){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,c={buildAbsoluteURL:function(d,u,h){if(h=h||{},d=d.trim(),u=u.trim(),!u){if(!h.alwaysNormalize)return d;var p=c.parseURL(d);if(!p)throw new Error("Error trying to parse base URL.");return p.path=c.normalizePath(p.path),c.buildURLFromParts(p)}var g=c.parseURL(u);if(!g)throw new Error("Error trying to parse relative URL.");if(g.scheme)return h.alwaysNormalize?(g.path=c.normalizePath(g.path),c.buildURLFromParts(g)):u;var v=c.parseURL(d);if(!v)throw new Error("Error trying to parse base URL.");if(!v.netLoc&&v.path&&v.path[0]!=="/"){var y=i.exec(v.path);v.netLoc=y[1],v.path=y[2]}v.netLoc&&!v.path&&(v.path="/");var x={scheme:v.scheme,netLoc:g.netLoc,path:null,params:g.params,query:g.query,fragment:g.fragment};if(!g.netLoc&&(x.netLoc=v.netLoc,g.path[0]!=="/"))if(!g.path)x.path=v.path,g.params||(x.params=v.params,g.query||(x.query=v.query));else{var S=v.path,E=S.substring(0,S.lastIndexOf("/")+1)+g.path;x.path=c.normalizePath(E)}return x.path===null&&(x.path=h.alwaysNormalize?c.normalizePath(g.path):g.path),c.buildURLFromParts(x)},parseURL:function(d){var u=r.exec(d);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(d){for(d=d.split("").reverse().join("").replace(s,"");d.length!==(d=d.replace(o,"")).length;);return d.split("").reverse().join("")},buildURLFromParts:function(d){return d.scheme+d.netLoc+d.path+d.params+d.query+d.fragment}};n.exports=c})()}(i0)),i0.exports}var kv=iz();class Mv{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Wt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class lL{constructor(e){this._byteRange=null,this._url=null,this._stats=null,this._streams=null,this.base=void 0,this.relurl=void 0,typeof e=="string"&&(e={url:e}),this.base=e,az(this,"stats")}setByteRange(e,t){const r=e.split("@",2);let i;r.length===1?i=t?.byteRangeEndOffset||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get baseurl(){return this.base.url}get byteRange(){return this._byteRange===null?[]:this._byteRange}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get elementaryStreams(){return this._streams===null&&(this._streams={[Wt.AUDIO]:null,[Wt.VIDEO]:null,[Wt.AUDIOVIDEO]:null}),this._streams}set elementaryStreams(e){this._streams=e}get hasStats(){return this._stats!==null}get hasStreams(){return this._streams!==null}get stats(){return this._stats===null&&(this._stats=new Mv),this._stats}set stats(e){this._stats=e}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=kv.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Wt.AUDIO]=null,e[Wt.VIDEO]=null,e[Wt.AUDIOVIDEO]=null}}function Cn(n){return n.sn!=="initSegment"}class s0 extends lL{constructor(e,t){super(t),this._decryptdata=null,this._programDateTime=null,this._ref=null,this._bitrate=void 0,this.rawProgramDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.playlistOffset=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get byteLength(){if(this.hasStats){const e=this.stats.total;if(e)return e}if(this.byteRange){const e=this.byteRange[0],t=this.byteRange[1];if(_e(e)&&_e(t))return t-e}return null}get bitrate(){return this.byteLength?this.byteLength*8/this.duration:this._bitrate?this._bitrate:null}set bitrate(e){this._bitrate=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null)return null;const e=_e(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),r=t.length;if(r>1||r===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}get programDateTime(){return this._programDateTime===null&&this.rawProgramDateTime&&(this.programDateTime=Date.parse(this.rawProgramDateTime)),this._programDateTime}set programDateTime(e){if(!_e(e)){this._programDateTime=this.rawProgramDateTime=null;return}this._programDateTime=e}get ref(){return Cn(this)?(this._ref||(this._ref={base:this.base,start:this.start,duration:this.duration,sn:this.sn,programDateTime:this.programDateTime}),this._ref):null}addStart(e){this.setStart(this.start+e)}setStart(e){this.start=e,this._ref&&(this._ref.start=e)}setDuration(e){this.duration=e,this._ref&&(this._ref.duration=e)}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,r,i,s,o=!1){const{elementaryStreams:c}=this,d=c[e];if(!d){c[e]={startPTS:t,endPTS:r,startDTS:i,endDTS:s,partial:o};return}d.startPTS=Math.min(d.startPTS,t),d.endPTS=Math.max(d.endPTS,r),d.startDTS=Math.min(d.startDTS,i),d.endDTS=Math.max(d.endDTS,s)}}class sz extends lL{constructor(e,t,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}function cL(n,e){const t=Object.getPrototypeOf(n);if(t){const r=Object.getOwnPropertyDescriptor(t,e);return r||cL(t,e)}}function az(n,e){const t=cL(n,e);t&&(t.enumerable=!0,Object.defineProperty(n,e,t))}const fA=Math.pow(2,32)-1,oz=[].push,uL={video:1,audio:2,id3:3,text:4};function kn(n){return String.fromCharCode.apply(null,n)}function dL(n,e){const t=n[e]<<8|n[e+1];return t<0?65536+t:t}function st(n,e){const t=fL(n,e);return t<0?4294967296+t:t}function hA(n,e){let t=st(n,e);return t*=Math.pow(2,32),t+=st(n,e+4),t}function fL(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}function lz(n){const e=n.byteLength;for(let t=0;t<e;){const r=st(n,t);if(r>8&&n[t+4]===109&&n[t+5]===111&&n[t+6]===111&&n[t+7]===102)return!0;t=r>1?t+r:e}return!1}function yt(n,e){const t=[];if(!e.length)return t;const r=n.byteLength;for(let i=0;i<r;){const s=st(n,i),o=kn(n.subarray(i+4,i+8)),c=s>1?i+s:r;if(o===e[0])if(e.length===1)t.push(n.subarray(i+8,c));else{const d=yt(n.subarray(i+8,c),e.slice(1));d.length&&oz.apply(t,d)}i=c}return t}function cz(n){const e=[],t=n[0];let r=8;const i=st(n,r);r+=4;let s=0,o=0;t===0?(s=st(n,r),o=st(n,r+4),r+=8):(s=hA(n,r),o=hA(n,r+8),r+=16),r+=2;let c=n.length+o;const d=dL(n,r);r+=2;for(let u=0;u<d;u++){let h=r;const p=st(n,h);h+=4;const g=p&2147483647;if((p&2147483648)>>>31===1)return wt.warn("SIDX has hierarchical references (not supported)"),null;const y=st(n,h);h+=4,e.push({referenceSize:g,subsegmentDuration:y,info:{duration:y/i,start:c,end:c+g-1}}),c+=g,h+=4,r=h}return{earliestPresentationTime:s,timescale:i,version:t,referencesCount:d,references:e}}function hL(n){const e=[],t=yt(n,["moov","trak"]);for(let i=0;i<t.length;i++){const s=t[i],o=yt(s,["tkhd"])[0];if(o){let c=o[0];const d=st(o,c===0?12:20),u=yt(s,["mdia","mdhd"])[0];if(u){c=u[0];const h=st(u,c===0?12:20),p=yt(s,["mdia","hdlr"])[0];if(p){const g=kn(p.subarray(8,12)),v={soun:Wt.AUDIO,vide:Wt.VIDEO}[g],y=yt(s,["mdia","minf","stbl","stsd"])[0],x=uz(y);v?(e[d]={timescale:h,type:v,stsd:x},e[v]=jt({timescale:h,id:d},x)):e[d]={timescale:h,type:g,stsd:x}}}}}return yt(n,["moov","mvex","trex"]).forEach(i=>{const s=st(i,4),o=e[s];o&&(o.default={duration:st(i,12),flags:st(i,20)})}),e}function uz(n){const e=n.subarray(8),t=e.subarray(86),r=kn(e.subarray(4,8));let i=r,s;const o=r==="enca"||r==="encv";if(o){const u=yt(e,[r])[0].subarray(r==="enca"?28:78);yt(u,["sinf"]).forEach(p=>{const g=yt(p,["schm"])[0];if(g){const v=kn(g.subarray(4,8));if(v==="cbcs"||v==="cenc"){const y=yt(p,["frma"])[0];y&&(i=kn(y))}}})}const c=i;switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const d=yt(t,["avcC"])[0];d&&d.length>3&&(i+="."+gf(d[1])+gf(d[2])+gf(d[3]),s=mf(c==="avc1"?"dva1":"dvav",t));break}case"mp4a":{const d=yt(e,[r])[0],u=yt(d.subarray(28),["esds"])[0];if(u&&u.length>7){let h=4;if(u[h++]!==3)break;h=a0(u,h),h+=2;const p=u[h++];if(p&128&&(h+=2),p&64&&(h+=u[h++]),u[h++]!==4)break;h=a0(u,h);const g=u[h++];if(g===64)i+="."+gf(g);else break;if(h+=12,u[h++]!==5)break;h=a0(u,h);const v=u[h++];let y=(v&248)>>3;y===31&&(y+=1+((v&7)<<3)+((u[h]&224)>>5)),i+="."+y}break}case"hvc1":case"hev1":{const d=yt(t,["hvcC"])[0];if(d&&d.length>12){const u=d[1],h=["","A","B","C"][u>>6],p=u&31,g=st(d,2),v=(u&32)>>5?"H":"L",y=d[12],x=d.subarray(6,12);i+="."+h+p,i+="."+dz(g).toString(16).toUpperCase(),i+="."+v+y;let S="";for(let E=x.length;E--;){const R=x[E];(R||S)&&(S="."+R.toString(16).toUpperCase()+S)}i+=S}s=mf(c=="hev1"?"dvhe":"dvh1",t);break}case"dvh1":case"dvhe":case"dvav":case"dva1":case"dav1":{i=mf(i,t)||i;break}case"vp09":{const d=yt(t,["vpcC"])[0];if(d&&d.length>6){const u=d[4],h=d[5],p=d[6]>>4&15;i+="."+wi(u)+"."+wi(h)+"."+wi(p)}break}case"av01":{const d=yt(t,["av1C"])[0];if(d&&d.length>2){const u=d[1]>>>5,h=d[1]&31,p=d[2]>>>7?"H":"M",g=(d[2]&64)>>6,v=(d[2]&32)>>5,y=u===2&&g?v?12:10:g?10:8,x=(d[2]&16)>>4,S=(d[2]&8)>>3,E=(d[2]&4)>>2,R=d[2]&3;i+="."+u+"."+wi(h)+p+"."+wi(y)+"."+x+"."+S+E+R+"."+wi(1)+"."+wi(1)+"."+wi(1)+"."+0,s=mf("dav1",t)}break}}return{codec:i,encrypted:o,supplemental:s}}function mf(n,e){const t=yt(e,["dvvC"]),r=t.length?t[0]:yt(e,["dvcC"])[0];if(r){const i=r[2]>>1&127,s=r[2]<<5&32|r[3]>>3&31;return n+"."+wi(i)+"."+wi(s)}}function dz(n){let e=0;for(let t=0;t<32;t++)e|=(n>>t&1)<<31-t;return e>>>0}function a0(n,e){const t=e+5;for(;n[e++]&128&&e<t;);return e}function gf(n){return("0"+n.toString(16).toUpperCase()).slice(-2)}function wi(n){return(n<10?"0":"")+n}function fz(n,e){if(!n||!e)return n;const t=e.keyId;return t&&e.isCommonEncryption&&yt(n,["moov","trak"]).forEach(i=>{const o=yt(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let c=yt(o,["enca"]);const d=c.length>0;d||(c=yt(o,["encv"])),c.forEach(u=>{const h=d?u.subarray(28):u.subarray(78);yt(h,["sinf"]).forEach(g=>{const v=hz(g);if(v){const y=v.subarray(8,24);y.some(x=>x!==0)||(wt.log(`[eme] Patching keyId in 'enc${d?"a":"v"}>sinf>>tenc' box: ${Na.hexDump(y)} -> ${Na.hexDump(t)}`),v.set(t,8))}})})}),n}function hz(n){const e=yt(n,["schm"])[0];if(e){const t=kn(e.subarray(4,8));if(t==="cbcs"||t==="cenc")return yt(n,["schi","tenc"])[0]}return null}function pz(n,e,t){const r={},i=yt(n,["moof","traf"]);for(let s=0;s<i.length;s++){const o=i[s],c=yt(o,["tfhd"])[0],d=st(c,4),u=e[d];if(!u)continue;const h=r[d]||(r[d]={start:NaN,duration:0,sampleCount:0,timescale:u.timescale,type:u.type}),p=yt(o,["tfdt"])[0];if(p){const A=p[0];let L=st(p,4);A===1&&(L===fA?t.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"):(L*=fA+1,L+=st(p,8))),_e(L)&&(!_e(h.start)||L<h.start)&&(h.start=L)}const g=u.default,v=st(c,0)|g?.flags;let y=g?.duration||0;v&8&&(v&2?y=st(c,12):y=st(c,8));const x=yt(o,["trun"]);let S=h.start||0,E=0,R=y;for(let A=0;A<x.length;A++){const L=x[A],I=st(L,4),M=h.sampleCount;h.sampleCount+=I;const P=L[3]&1,k=L[3]&4,_=L[2]&1,w=L[2]&2,B=L[2]&4,j=L[2]&8;let z=8,q=I;for(P&&(z+=4),k&&I&&(!(L[z+1]&1)&&h.keyFrameIndex===void 0&&(h.keyFrameIndex=M),z+=4,_?(R=st(L,z),z+=4):R=y,w&&(z+=4),j&&(z+=4),S+=R,E+=R,q--);q--;)_?(R=st(L,z),z+=4):R=y,w&&(z+=4),B&&(L[z+1]&1||h.keyFrameIndex===void 0&&(h.keyFrameIndex=h.sampleCount-(q+1),h.keyFrameStart=S),z+=4),j&&(z+=4),S+=R,E+=R;!E&&y&&(E+=y*I)}h.duration+=E}if(!Object.keys(r).some(s=>r[s].duration)){let s=1/0,o=0;const c=yt(n,["sidx"]);for(let d=0;d<c.length;d++){const u=cz(c[d]);if(u!=null&&u.references){s=Math.min(s,u.earliestPresentationTime/u.timescale);const h=u.references.reduce((p,g)=>p+g.info.duration||0,0);o=Math.max(o,h+u.earliestPresentationTime/u.timescale)}}o&&_e(o)&&Object.keys(r).forEach(d=>{r[d].duration||(r[d].duration=o*r[d].timescale-r[d].start)})}return r}function mz(n){const e={valid:null,remainder:null},t=yt(n,["moof"]);if(t.length<2)return e.remainder=n,e;const r=t[t.length-1];return e.valid=n.slice(0,r.byteOffset-8),e.remainder=n.slice(r.byteOffset-8),e}function Yr(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function pA(n,e){const t=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return yt(r,["moof"]).map(d=>{const u=d.byteOffset-8;yt(d,["traf"]).map(p=>{const g=yt(p,["tfdt"]).map(v=>{const y=v[0];let x=st(v,4);return y===1&&(x*=Math.pow(2,32),x+=st(v,8)),x/i})[0];return g!==void 0&&(n=g),yt(p,["tfhd"]).map(v=>{const y=st(v,4),x=st(v,0)&16777215,S=(x&1)!==0,E=(x&2)!==0,R=(x&8)!==0;let A=0;const L=(x&16)!==0;let I=0;const M=(x&32)!==0;let P=8;y===s&&(S&&(P+=8),E&&(P+=4),R&&(A=st(v,P),P+=4),L&&(I=st(v,P),P+=4),M&&(P+=4),e.type==="video"&&(o=dp(e.codec)),yt(p,["trun"]).map(k=>{const _=k[0],w=st(k,0)&16777215,B=(w&1)!==0;let j=0;const z=(w&4)!==0,q=(w&256)!==0;let K=0;const $=(w&512)!==0;let W=0;const G=(w&1024)!==0,Y=(w&2048)!==0;let F=0;const H=st(k,4);let Q=8;B&&(j=st(k,Q),Q+=4),z&&(Q+=4);let ee=j+u;for(let ce=0;ce<H;ce++){if(q?(K=st(k,Q),Q+=4):K=A,$?(W=st(k,Q),Q+=4):W=I,G&&(Q+=4),Y&&(_===0?F=st(k,Q):F=fL(k,Q),Q+=4),e.type===Wt.VIDEO){let se=0;for(;se<W;){const V=st(r,ee);if(ee+=4,gz(o,r[ee])){const oe=r.subarray(ee,ee+V);Nv(oe,o?2:1,n+F/i,t)}ee+=V,se+=V+4}}n+=K/i}}))})})}),t}function dp(n){if(!n)return!1;const e=n.substring(0,4);return e==="hvc1"||e==="hev1"||e==="dvh1"||e==="dvhe"}function gz(n,e){if(n){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function Nv(n,e,t,r){const i=pL(n);let s=0;s+=e;let o=0,c=0,d=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;d=i[s++],o+=d}while(d===255);c=0;do{if(s>=i.length)break;d=i[s++],c+=d}while(d===255);const u=i.length-s;let h=s;if(c<u)s+=c;else if(c>u){wt.error(`Malformed SEI payload. ${c} is too small, only ${u} bytes left to parse.`);break}if(o===4){if(i[h++]===181){const g=dL(i,h);if(h+=2,g===49){const v=st(i,h);if(h+=4,v===1195456820){const y=i[h++];if(y===3){const x=i[h++],S=31&x,E=64&x,R=E?2+S*3:0,A=new Uint8Array(R);if(E){A[0]=x;for(let L=1;L<R;L++)A[L]=i[h++]}r.push({type:y,payloadType:o,pts:t,bytes:A})}}}}}else if(o===5&&c>16){const p=[];for(let y=0;y<16;y++){const x=i[h++].toString(16);p.push(x.length==1?"0"+x:x),(y===3||y===5||y===7||y===9)&&p.push("-")}const g=c-16,v=new Uint8Array(g);for(let y=0;y<g;y++)v[y]=i[h++];r.push({payloadType:o,pts:t,uuid:p.join(""),userData:wr(v),userDataBytes:v})}}}function pL(n){const e=n.byteLength,t=[];let r=1;for(;r<e-2;)n[r]===0&&n[r+1]===0&&n[r+2]===3?(t.push(r+2),r+=2):r++;if(t.length===0)return n;const i=e-t.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===t[0]&&(o++,t.shift()),s[r]=n[o];return s}function yz(n){const e=n[0];let t="",r="",i=0,s=0,o=0,c=0,d=0,u=0;if(e===0){for(;kn(n.subarray(u,u+1))!=="\0";)t+=kn(n.subarray(u,u+1)),u+=1;for(t+=kn(n.subarray(u,u+1)),u+=1;kn(n.subarray(u,u+1))!=="\0";)r+=kn(n.subarray(u,u+1)),u+=1;r+=kn(n.subarray(u,u+1)),u+=1,i=st(n,12),s=st(n,16),c=st(n,20),d=st(n,24),u=28}else if(e===1){u+=4,i=st(n,u),u+=4;const p=st(n,u);u+=4;const g=st(n,u);for(u+=4,o=2**32*p+g,W8(o)||(o=Number.MAX_SAFE_INTEGER,wt.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),c=st(n,u),u+=4,d=st(n,u),u+=4;kn(n.subarray(u,u+1))!=="\0";)t+=kn(n.subarray(u,u+1)),u+=1;for(t+=kn(n.subarray(u,u+1)),u+=1;kn(n.subarray(u,u+1))!=="\0";)r+=kn(n.subarray(u,u+1)),u+=1;r+=kn(n.subarray(u,u+1)),u+=1}const h=n.subarray(u,n.byteLength);return{schemeIdUri:t,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:c,id:d,payload:h}}function vz(n,...e){const t=e.length;let r=8,i=t;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(n,4),i=0,r=8;i<t;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function xz(n,e,t){if(n.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(o.buffer).setUint32(0,t.byteLength,!1),vz([112,115,115,104],new Uint8Array([r,0,0,0]),n,s,i,o,t||new Uint8Array)}const mL=()=>/\(Windows.+Firefox\//i.test(navigator.userAgent),xl={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,dav1:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function Bv(n,e){const t=xl[e];return!!t&&!!t[n.slice(0,4)]}function my(n,e,t=!0){return!n.split(",").some(r=>!$v(r,e,t))}function $v(n,e,t=!0){var r;const i=na(t);return(r=i?.isTypeSupported(vu(n,e)))!=null?r:!1}function vu(n,e){return`${e}/mp4;codecs=${n}`}function mA(n){if(n){const e=n.substring(0,4);return xl.video[e]}return 2}function gh(n){const e=mL();return n.split(",").reduce((t,r)=>{const s=e&&dp(r)?9:xl.video[r];return s?(s*2+t)/(t?3:2):(xl.audio[r]+t)/(t?2:1)},0)}const o0={};function bz(n,e=!0){if(o0[n])return o0[n];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"],"mp4a.40.34":["mp3"]}[n];for(let i=0;i<t.length;i++){var r;if($v(t[i],"audio",e))return o0[n]=t[i],t[i];if(t[i]==="mp3"&&(r=na(e))!=null&&r.isTypeSupported("audio/mpeg"))return""}return n}const Sz=/flac|opus|mp4a\.40\.34/i;function yh(n,e=!0){return n.replace(Sz,t=>bz(t.toLowerCase(),e))}function Ez(n,e){const t=[];if(n){const r=n.split(",");for(let i=0;i<r.length;i++)Bv(r[i],"video")||t.push(r[i])}return e&&t.push(e),t.join(",")}function jf(n,e){if(n&&(n.length>4||["ac-3","ec-3","alac","fLaC","Opus"].indexOf(n)!==-1)&&(gA(n,"audio")||gA(n,"video")))return n;if(e){const t=e.split(",");if(t.length>1){if(n){for(let r=t.length;r--;)if(t[r].substring(0,4)===n.substring(0,4))return t[r]}return t[0]}}return e||n}function gA(n,e){return Bv(n,e)&&$v(n,e)}function Tz(n){const e=n.split(",");for(let t=0;t<e.length;t++){const r=e[t].split(".");r.length>2&&r[0]==="avc1"&&(e[t]=`avc1.${parseInt(r[1]).toString(16)}${("000"+parseInt(r[2]).toString(16)).slice(-4)}`)}return e.join(",")}function Az(n){if(n.startsWith("av01.")){const e=n.split("."),t=["0","111","01","01","01","0"];for(let r=e.length;r>4&&r<10;r++)e[r]=t[r-4];return e.join(".")}return n}function yA(n){const e=na(n)||{isTypeSupported:()=>!1};return{mpeg:e.isTypeSupported("audio/mpeg"),mp3:e.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:e.isTypeSupported('audio/mp4; codecs="ac-3"')}}function gy(n){return n.replace(/^.+codecs=["']?([^"']+).*$/,"$1")}const gL={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]};function yL(n,e){return{supported:!1,configurations:e,decodingInfoResults:[{supported:!1,smooth:!1,powerEfficient:!1}],error:n}}function Cz(n,e,t,r,i,s){const o=n.videoCodec,c=n.audioCodec?n.audioGroups:null,d=s?.audioCodec,u=s?.channels,h=u?parseInt(u):d?1/0:2;let p=null;if(c!=null&&c.length)try{c.length===1&&c[0]?p=e.groups[c[0]].channels:p=c.reduce((g,v)=>{if(v){const y=e.groups[v];if(!y)throw new Error(`Audio track group ${v} not found`);Object.keys(y.channels).forEach(x=>{g[x]=(g[x]||0)+y.channels[x]})}return g},{2:0})}catch{return!0}return o!==void 0&&(o.split(",").some(g=>dp(g))||n.width>1920&&n.height>1088||n.height>1920&&n.width>1088||n.frameRate>Math.max(r,30)||n.videoRange!=="SDR"&&n.videoRange!==t||n.bitrate>Math.max(i,8e6))||!!p&&_e(h)&&Object.keys(p).some(g=>parseInt(g)>h)}function vL(n,e,t,r={}){const i=n.videoCodec;if(!i&&!n.audioCodec||!t)return Promise.resolve(gL);const s=[],o=Rz(n),c=o.length,d=wz(n,e,c>0),u=d.length;for(let h=c||1*u||1;h--;){const p={type:"media-source"};if(c&&(p.video=o[h%c]),u){p.audio=d[h%u];const g=p.audio.bitrate;p.video&&g&&(p.video.bitrate-=g)}s.push(p)}if(i){const h=navigator.userAgent;if(i.split(",").some(p=>dp(p))&&mL())return Promise.resolve(yL(new Error(`Overriding Windows Firefox HEVC MediaCapabilities result based on user-agent string: (${h})`),s))}return Promise.all(s.map(h=>{const p=Iz(h);return r[p]||(r[p]=t.decodingInfo(h))})).then(h=>({supported:!h.some(p=>!p.supported),configurations:s,decodingInfoResults:h})).catch(h=>({supported:!1,configurations:s,decodingInfoResults:[],error:h}))}function Rz(n){var e;const t=(e=n.videoCodec)==null?void 0:e.split(","),r=xL(n),i=n.width||640,s=n.height||480,o=n.frameRate||30,c=n.videoRange.toLowerCase();return t?t.map(d=>{const u={contentType:vu(Az(d),"video"),width:i,height:s,bitrate:r,framerate:o};return c!=="sdr"&&(u.transferFunction=c),u}):[]}function wz(n,e,t){var r;const i=(r=n.audioCodec)==null?void 0:r.split(","),s=xL(n);return i&&n.audioGroups?n.audioGroups.reduce((o,c)=>{var d;const u=c?(d=e.groups[c])==null?void 0:d.tracks:null;return u?u.reduce((h,p)=>{if(p.groupId===c){const g=parseFloat(p.channels||"");i.forEach(v=>{const y={contentType:vu(v,"audio"),bitrate:t?Lz(v,s):s};g&&(y.channels=""+g),h.push(y)})}return h},o):o},[]):[]}function Lz(n,e){if(e<=1)return 1;let t=128e3;return n==="ec-3"?t=768e3:n==="ac-3"&&(t=64e4),Math.min(e/2,t)}function xL(n){return Math.ceil(Math.max(n.bitrate*.9,n.averageBitrate)/1e3)*1e3||1}function Iz(n){let e="";const{audio:t,video:r}=n;if(r){const i=gy(r.contentType);e+=`${i}_r${r.height}x${r.width}f${Math.ceil(r.framerate)}${r.transferFunction||"sd"}_${Math.ceil(r.bitrate/1e5)}`}if(t){const i=gy(t.contentType);e+=`${r?"_":""}${i}_c${t.channels}`}return e}const yy=["NONE","TYPE-0","TYPE-1",null];function Dz(n){return yy.indexOf(n)>-1}const vh=["SDR","PQ","HLG"];function Pz(n){return!!n&&vh.indexOf(n)>-1}var zf={No:"",Yes:"YES",v2:"v2"};function vA(n){const{canSkipUntil:e,canSkipDateRanges:t,age:r}=n,i=r<e/2;return e&&i?t?zf.v2:zf.Yes:zf.No}class xA{constructor(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class xu{constructor(e){if(this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.supplemental=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>!!r).map(r=>r.substring(0,4)).join(","),"supplemental"in e){var t;this.supplemental=e.supplemental;const r=(t=e.supplemental)==null?void 0:t.videoCodec;r&&r!==e.videoCodec&&(this.codecSet+=`,${r.substring(0,4)}`)}this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return bA(this._audioGroups,e)}hasSubtitleGroup(e){return bA(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(t)===-1&&r.push(t)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(t)===-1&&r.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function bA(n,e){return!e||!n?!1:n.indexOf(e)!==-1}function _z(){if(typeof matchMedia=="function"){const n=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(n.media!==e.media)return n.matches===!0}return!1}function Oz(n,e){let t=!1,r=[];if(n&&(t=n!=="SDR",r=[n]),e){r=e.allowedVideoRanges||vh.slice(0);const i=r.join("")!=="SDR"&&!e.videoCodec;t=e.preferHDR!==void 0?e.preferHDR:i&&_z(),t||(r=["SDR"])}return{preferHDR:t,allowedVideoRanges:r}}const kz=n=>{const e=new WeakSet;return(t,r)=>{if(n&&(r=n(t,r)),typeof r=="object"&&r!==null){if(e.has(r))return;e.add(r)}return r}},Yt=(n,e)=>JSON.stringify(n,kz(e));function Mz(n,e,t,r,i){const s=Object.keys(n),o=r?.channels,c=r?.audioCodec,d=i?.videoCodec,u=o&&parseInt(o)===2;let h=!1,p=!1,g=1/0,v=1/0,y=1/0,x=1/0,S=0,E=[];const{preferHDR:R,allowedVideoRanges:A}=Oz(e,i);for(let k=s.length;k--;){const _=n[s[k]];h||(h=_.channels[2]>0),g=Math.min(g,_.minHeight),v=Math.min(v,_.minFramerate),y=Math.min(y,_.minBitrate),A.filter(B=>_.videoRanges[B]>0).length>0&&(p=!0)}g=_e(g)?g:0,v=_e(v)?v:0;const L=Math.max(1080,g),I=Math.max(30,v);y=_e(y)?y:t,t=Math.max(y,t),p||(e=void 0);const M=s.length>1;return{codecSet:s.reduce((k,_)=>{const w=n[_];if(_===k)return k;if(E=p?A.filter(B=>w.videoRanges[B]>0):[],M){if(w.minBitrate>t)return Ci(_,`min bitrate of ${w.minBitrate} > current estimate of ${t}`),k;if(!w.hasDefaultAudio)return Ci(_,"no renditions with default or auto-select sound found"),k;if(c&&_.indexOf(c.substring(0,4))%5!==0)return Ci(_,`audio codec preference "${c}" not found`),k;if(o&&!u){if(!w.channels[o])return Ci(_,`no renditions with ${o} channel sound found (channels options: ${Object.keys(w.channels)})`),k}else if((!c||u)&&h&&w.channels[2]===0)return Ci(_,"no renditions with stereo sound found"),k;if(w.minHeight>L)return Ci(_,`min resolution of ${w.minHeight} > maximum of ${L}`),k;if(w.minFramerate>I)return Ci(_,`min framerate of ${w.minFramerate} > maximum of ${I}`),k;if(!E.some(B=>w.videoRanges[B]>0))return Ci(_,`no variants with VIDEO-RANGE of ${Yt(E)} found`),k;if(d&&_.indexOf(d.substring(0,4))%5!==0)return Ci(_,`video codec preference "${d}" not found`),k;if(w.maxScore<S)return Ci(_,`max score of ${w.maxScore} < selected max of ${S}`),k}return k&&(gh(_)>=gh(k)||w.fragmentError>n[k].fragmentError)?k:(x=w.minIndex,S=w.maxScore,_)},void 0),videoRanges:E,preferHDR:R,minFramerate:v,minBitrate:y,minIndex:x}}function Ci(n,e){wt.log(`[abr] start candidates with "${n}" ignored because ${e}`)}function bL(n){return n.reduce((e,t)=>{let r=e.groups[t.groupId];r||(r=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(t);const i=t.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||t.default,r.hasAutoSelect=r.hasAutoSelect||t.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function Nz(n,e,t,r){return n.slice(t,r+1).reduce((i,s,o)=>{if(!s.codecSet)return i;const c=s.audioGroups;let d=i[s.codecSet];d||(i[s.codecSet]=d={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,minIndex:o,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!c,fragmentError:0}),d.minBitrate=Math.min(d.minBitrate,s.bitrate);const u=Math.min(s.height,s.width);return d.minHeight=Math.min(d.minHeight,u),d.minFramerate=Math.min(d.minFramerate,s.frameRate),d.minIndex=Math.min(d.minIndex,o),d.maxScore=Math.max(d.maxScore,s.score),d.fragmentError+=s.fragmentError,d.videoRanges[s.videoRange]=(d.videoRanges[s.videoRange]||0)+1,c&&c.forEach(h=>{if(!h)return;const p=e.groups[h];p&&(d.hasDefaultAudio=d.hasDefaultAudio||e.hasDefaultAudio?p.hasDefault:p.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(p.channels).forEach(g=>{d.channels[g]=(d.channels[g]||0)+p.channels[g]}))}),i},{})}function SA(n){if(!n)return n;const{lang:e,assocLang:t,characteristics:r,channels:i,audioCodec:s}=n;return{lang:e,assocLang:t,characteristics:r,channels:i,audioCodec:s}}function _i(n,e,t){if("attrs"in n){const r=e.indexOf(n);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Ha(n,i,t))return r}return-1}function Ha(n,e,t){const{groupId:r,name:i,lang:s,assocLang:o,default:c}=n,d=n.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||Bz(s,e.lang))&&(s===void 0||e.assocLang===o)&&(c===void 0||e.default===c)&&(d===void 0||e.forced===d)&&(!("characteristics"in n)||$z(n.characteristics||"",e.characteristics))&&(t===void 0||t(n,e))}function Bz(n,e="--"){return n.length===e.length?n===e:n.startsWith(e)||e.startsWith(n)}function $z(n,e=""){const t=n.split(","),r=e.split(",");return t.length===r.length&&!t.some(i=>r.indexOf(i)===-1)}function ka(n,e){const{audioCodec:t,channels:r}=n;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function Fz(n,e,t,r,i){const s=e[r],c=e.reduce((g,v,y)=>{const x=v.uri;return(g[x]||(g[x]=[])).push(y),g},{})[s.uri];c.length>1&&(r=Math.max.apply(Math,c));const d=s.videoRange,u=s.frameRate,h=s.codecSet.substring(0,4),p=EA(e,r,g=>{if(g.videoRange!==d||g.frameRate!==u||g.codecSet.substring(0,4)!==h)return!1;const v=g.audioGroups,y=t.filter(x=>!v||v.indexOf(x.groupId)!==-1);return _i(n,y,i)>-1});return p>-1?p:EA(e,r,g=>{const v=g.audioGroups,y=t.filter(x=>!v||v.indexOf(x.groupId)!==-1);return _i(n,y,i)>-1})}function EA(n,e,t){for(let r=e;r>-1;r--)if(t(n[r]))return r;for(let r=e+1;r<n.length;r++)if(t(n[r]))return r;return-1}function xh(n,e){var t;return!!n&&n!==((t=e.loadLevelObj)==null?void 0:t.uri)}class Uz extends gi{constructor(e){super("abr",e.logger),this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.rebufferNotice=-1,this.supportedCache={},this.bwEstimator=void 0,this._abandonRulesCheck=t=>{var r;const{fragCurrent:i,partCurrent:s,hls:o}=this,{autoLevelEnabled:c,media:d}=o;if(!i||!d)return;const u=performance.now(),h=s?s.stats:i.stats,p=s?s.duration:i.duration,g=u-h.loading.start,v=o.minAutoLevel,y=i.level,x=this._nextAutoLevel;if(h.aborted||h.loaded&&h.loaded===h.total||y<=v){this.clearTimer(),this._nextAutoLevel=-1;return}if(!c)return;const S=x>-1&&x!==y,E=!!t||S;if(!E&&(d.paused||!d.playbackRate||!d.readyState))return;const R=o.mainForwardBufferInfo;if(!E&&R===null)return;const A=this.bwEstimator.getEstimateTTFB(),L=Math.abs(d.playbackRate);if(g<=Math.max(A,1e3*(p/(L*2))))return;const I=R?R.len/L:0,M=h.loading.first?h.loading.first-h.loading.start:-1,P=h.loaded&&M>-1,k=this.getBwEstimate(),_=o.levels,w=_[y],B=Math.max(h.loaded,Math.round(p*(i.bitrate||w.averageBitrate)/8));let j=P?g-M:g;j<1&&P&&(j=Math.min(g,h.loaded*8/k));const z=P?h.loaded*1e3/j:0,q=A/1e3,K=z?(B-h.loaded)/z:B*8/k+q;if(K<=I)return;const $=z?z*8:k,W=((r=t?.details||this.hls.latestLevelDetails)==null?void 0:r.live)===!0,G=this.hls.config.abrBandWidthUpFactor;let Y=Number.POSITIVE_INFINITY,F;for(F=y-1;F>v;F--){const ce=_[F].maxBitrate,se=!_[F].details||W;if(Y=this.getTimeToLoadFrag(q,$,p*ce,se),Y<Math.min(I,p+q))break}if(Y>=K||Y>p*10)return;P?this.bwEstimator.sample(g-Math.min(A,M),h.loaded):this.bwEstimator.sampleTTFB(g);const H=_[F].maxBitrate;this.getBwEstimate()*G>H&&this.resetEstimator(H);const Q=this.findBestLevel(H,v,F,0,I,1,1);Q>-1&&(F=Q),this.warn(`Fragment ${i.sn}${s?" part "+s.index:""} of level ${y} is loading too slowly;
      Fragment duration: ${i.duration.toFixed(3)}
      Time to underbuffer: ${I.toFixed(3)} s
      Estimated load time for current fragment: ${K.toFixed(3)} s
      Estimated load time for down switch fragment: ${Y.toFixed(3)} s
      TTFB estimate: ${M|0} ms
      Current BW estimate: ${_e(k)?k|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${F} @ ${H|0} bps`),o.nextLoadLevel=o.nextAutoLevel=F,this.clearTimer();const ee=()=>{if(this.clearTimer(),this.fragCurrent===i&&this.hls.loadLevel===F&&F>0){const ce=this.getStarvationDelay();if(this.warn(`Aborting inflight request ${F>0?"and switching down":""}
      Fragment duration: ${i.duration.toFixed(3)} s
      Time to underbuffer: ${ce.toFixed(3)} s`),i.abortRequests(),this.fragCurrent=this.partCurrent=null,F>v){let se=this.findBestLevel(this.hls.levels[v].bitrate,v,F,0,ce,1,1);se===-1&&(se=v),this.hls.nextLoadLevel=this.hls.nextAutoLevel=se,this.resetEstimator(this.hls.levels[se].bitrate)}}};S||K>Y*2?ee():this.timer=self.setInterval(ee,Y*1e3),o.trigger(O.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:s,stats:h})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(this.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new Y8(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.FRAG_LOADING,this.onFragLoading,this),e.on(O.FRAG_LOADED,this.onFragLoaded,this),e.on(O.FRAG_BUFFERED,this.onFragBuffered,this),e.on(O.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(O.LEVEL_LOADED,this.onLevelLoaded,this),e.on(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(O.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(O.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.FRAG_LOADING,this.onFragLoading,this),e.off(O.FRAG_LOADED,this.onFragLoaded,this),e.off(O.FRAG_BUFFERED,this.onFragBuffered,this),e.off(O.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(O.LEVEL_LOADED,this.onLevelLoaded,this),e.off(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(O.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(O.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=this.supportedCache=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.supportedCache={},this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const r=t.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=t.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case re.BUFFER_ADD_CODEC_ERROR:case re.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case re.FRAG_LOAD_TIMEOUT:{const r=t.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const o=performance.now(),c=s?s.stats:r.stats,d=o-c.loading.start,u=c.loading.first?c.loading.first-c.loading.start:-1;if(c.loaded&&u>-1){const p=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(d-Math.min(p,u),c.loaded)}else this.bwEstimator.sampleTTFB(d)}break}}}getTimeToLoadFrag(e,t,r,i){const s=e+r/t,o=i?e+this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,t){const r=this.hls.config,{loading:i}=t.stats,s=i.end-i.first;_e(s)&&(this.lastLevelLoadSec=s/1e3),t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD),this.timer>-1&&this._abandonRulesCheck(t.levelInfo)}onFragLoaded(e,{frag:t,part:r}){const i=r?r.stats:t.stats;if(t.type===Ne.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:t.duration,o=this.hls.levels[t.level],c=(o.loaded?o.loaded.bytes:0)+i.loaded,d=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:c,duration:d},o.realBitrate=Math.round(8*c/d)}if(t.bitrateTest){const s={stats:i,frag:t,part:r,id:t.type};this.onFragBuffered(O.FRAG_BUFFERED,s),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:r,part:i}=t,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Ne.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,t,e,0,i,1,1);if(s>-1)return s;const o=this.hls.firstLevel,c=Math.min(Math.max(o,t),e);return this.warn(`Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${c}`),c}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:r}=this;if(r.levels.length<=1)return r.loadLevel;const{maxAutoLevel:i,config:s,minAutoLevel:o}=r,c=t?t.duration:e?e.duration:0,d=this.getBwEstimate(),u=this.getStarvationDelay();let h=s.abrBandWidthFactor,p=s.abrBandWidthUpFactor;if(u){const S=this.findBestLevel(d,o,i,u,0,h,p);if(S>=0)return this.rebufferNotice=-1,S}let g=c?Math.min(c,s.maxStarvationDelay):s.maxStarvationDelay;if(!u){const S=this.bitrateTestDelay;S&&(g=(c?Math.min(c,s.maxLoadingDelay):s.maxLoadingDelay)-S,this.info(`bitrate test took ${Math.round(1e3*S)}ms, set first fragment max fetchDuration to ${Math.round(1e3*g)} ms`),h=p=1)}const v=this.findBestLevel(d,o,i,u,g,h,p);if(this.rebufferNotice!==v&&(this.rebufferNotice=v,this.info(`${u?"rebuffering expected":"buffer is empty"}, optimal quality level ${v}`)),v>-1)return v;const y=r.levels[o],x=r.loadLevelObj;return x&&y?.bitrate<x.bitrate?o:r.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const r=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,r,i,s,o,c){var d;const u=i+s,h=this.lastLoadedFragLevel,p=h===-1?this.hls.firstLevel:h,{fragCurrent:g,partCurrent:v}=this,{levels:y,allAudioTracks:x,loadLevel:S,config:E}=this.hls;if(y.length===1)return 0;const R=y[p],A=!!((d=this.hls.latestLevelDetails)!=null&&d.live),L=S===-1||h===-1;let I,M="SDR",P=R?.frameRate||0;const{audioPreference:k,videoPreference:_}=E,w=this.audioTracksByGroup||(this.audioTracksByGroup=bL(x));let B=-1;if(L){if(this.firstSelection!==-1)return this.firstSelection;const W=this.codecTiers||(this.codecTiers=Nz(y,w,t,r)),G=Mz(W,M,e,k,_),{codecSet:Y,videoRanges:F,minFramerate:H,minBitrate:Q,minIndex:ee,preferHDR:ce}=G;B=ee,I=Y,M=ce?F[F.length-1]:F[0],P=H,e=Math.max(e,Q),this.log(`picked start tier ${Yt(G)}`)}else I=R?.codecSet,M=R?.videoRange;const j=v?v.duration:g?g.duration:0,z=this.bwEstimator.getEstimateTTFB()/1e3,q=[];for(let W=r;W>=t;W--){var K,$;const G=y[W],Y=W>p;if(!G)continue;if(E.useMediaCapabilities&&!G.supportedResult&&!G.supportedPromise){const V=navigator.mediaCapabilities;typeof V?.decodingInfo=="function"&&Cz(G,w,M,P,e,k)?(G.supportedPromise=vL(G,w,V,this.supportedCache),G.supportedPromise.then(oe=>{if(!this.hls)return;G.supportedResult=oe;const me=this.hls.levels,we=me.indexOf(G);oe.error?this.warn(`MediaCapabilities decodingInfo error: "${oe.error}" for level ${we} ${Yt(oe)}`):oe.supported?oe.decodingInfoResults.some(Te=>Te.smooth===!1||Te.powerEfficient===!1)&&this.log(`MediaCapabilities decodingInfo for level ${we} not smooth or powerEfficient: ${Yt(oe)}`):(this.warn(`Unsupported MediaCapabilities decodingInfo result for level ${we} ${Yt(oe)}`),we>-1&&me.length>1&&(this.log(`Removing unsupported level ${we}`),this.hls.removeLevel(we),this.hls.loadLevel===-1&&(this.hls.nextLoadLevel=0)))})):G.supportedResult=gL}if((I&&G.codecSet!==I||M&&G.videoRange!==M||Y&&P>G.frameRate||!Y&&P>0&&P<G.frameRate||(K=G.supportedResult)!=null&&($=K.decodingInfoResults)!=null&&$.some(V=>V.smooth===!1))&&(!L||W!==B)){q.push(W);continue}const F=G.details,H=(v?F?.partTarget:F?.averagetargetduration)||j;let Q;Y?Q=c*e:Q=o*e;const ee=j&&i>=j*2&&s===0?G.averageBitrate:G.maxBitrate,ce=this.getTimeToLoadFrag(z,Q,ee*H,F===void 0);if(Q>=ee&&(W===h||G.loadError===0&&G.fragmentError===0)&&(ce<=z||!_e(ce)||A&&!this.bitrateTestDelay||ce<u)){const V=this.forcedAutoLevel;return W!==S&&(V===-1||V!==S)&&(q.length&&this.trace(`Skipped level(s) ${q.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${y[q[0]].codecs}" ${y[q[0]].videoRange}; not compatible with "${I}" ${M}`),this.info(`switch candidate:${p}->${W} adjustedbw(${Math.round(Q)})-bitrate=${Math.round(Q-ee)} ttfb:${z.toFixed(1)} avgDuration:${H.toFixed(1)} maxFetchDuration:${u.toFixed(1)} fetchDuration:${ce.toFixed(1)} firstSelection:${L} codecSet:${G.codecSet} videoRange:${G.videoRange} hls.loadLevel:${S}`)),L&&(this.firstSelection=W),W}}return-1}set nextAutoLevel(e){const t=this.deriveNextAutoLevel(e);this._nextAutoLevel!==t&&(this.nextAutoLevelKey="",this._nextAutoLevel=t)}deriveNextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:r}=this.hls;return Math.min(Math.max(e,r),t)}}const SL={search:function(n,e){let t=0,r=n.length-1,i=null,s=null;for(;t<=r;){i=(t+r)/2|0,s=n[i];const o=e(s);if(o>0)t=i+1;else if(o<0)r=i-1;else return s}return null}};function jz(n,e,t){if(e===null||!Array.isArray(n)||!n.length||!_e(e))return null;const r=n[0].programDateTime;if(e<(r||0))return null;const i=n[n.length-1].endProgramDateTime;if(e>=(i||0))return null;for(let s=0;s<n.length;++s){const o=n[s];if(Gz(e,t,o))return o}return null}function Qa(n,e,t=0,r=0,i=.005){let s=null;if(n){s=e[1+n.sn-e[0].sn]||null;const c=n.endDTS-t;c>0&&c<15e-7&&(t+=15e-7),s&&n.level!==s.level&&s.end<=n.end&&(s=e[2+n.sn-e[0].sn]||null)}else t===0&&e[0].start===0&&(s=e[0]);if(s&&((!n||n.level===s.level)&&TA(t,r,s)===0||zz(s,n,Math.min(i,r))))return s;const o=SL.search(e,TA.bind(null,t,r));return o&&(o!==n||!s)?o:s}function zz(n,e,t){if(e&&e.start===0&&e.level<n.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),t);return n.start<=r}return!1}function TA(n=0,e=0,t){if(t.start<=n&&t.start+t.duration>n)return 0;const r=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-r<=n?1:t.start-r>n&&t.start?-1:0}function Gz(n,e,t){const r=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-r>n}function EL(n,e,t){if(n&&n.startCC<=e&&n.endCC>=e){let r=n.fragments;const{fragmentHint:i}=n;i&&(r=r.concat(i));let s;return SL.search(r,o=>o.cc<e?1:o.cc>e?-1:(s=o,o.end<=t?1:o.start>t?-1:0)),s||null}return null}function bh(n){switch(n.details){case re.FRAG_LOAD_TIMEOUT:case re.KEY_LOAD_TIMEOUT:case re.LEVEL_LOAD_TIMEOUT:case re.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function AA(n,e){const t=bh(e);return n.default[`${t?"timeout":"error"}Retry`]}function Fv(n,e){const t=n.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*n.retryDelayMs,n.maxRetryDelayMs)}function CA(n){return jt(jt({},n),{errorRetry:null,timeoutRetry:null})}function Sh(n,e,t,r){if(!n)return!1;const i=r?.code,s=e<n.maxNumRetry&&(Hz(i)||!!t);return n.shouldRetry?n.shouldRetry(n,e,t,r,s):s}function Hz(n){return n===0&&navigator.onLine===!1||!!n&&(n<400||n>499)}var Kn={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},ii={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class Vz extends gi{constructor(e){super("error-controller",e.logger),this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(O.ERROR,this.onError,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(O.ERROR,this.onError,this),e.off(O.ERROR,this.onErrorOut,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return e?.type===Ne.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var r;if(t.fatal)return;const i=this.hls,s=t.context;switch(t.details){case re.FRAG_LOAD_ERROR:case re.FRAG_LOAD_TIMEOUT:case re.KEY_LOAD_ERROR:case re.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case re.FRAG_PARSING_ERROR:if((r=t.frag)!=null&&r.gap){t.errorAction=bu();return}case re.FRAG_GAP:case re.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Kn.SendAlternateToPenaltyBox;return}case re.LEVEL_EMPTY_ERROR:case re.LEVEL_PARSING_ERROR:{var o,c;const u=t.parent===Ne.MAIN?t.level:i.loadLevel;t.details===re.LEVEL_EMPTY_ERROR&&((o=t.context)!=null&&(c=o.levelDetails)!=null&&c.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,u):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,u))}return;case re.LEVEL_LOAD_ERROR:case re.LEVEL_LOAD_TIMEOUT:typeof s?.level=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s.level));return;case re.AUDIO_TRACK_LOAD_ERROR:case re.AUDIO_TRACK_LOAD_TIMEOUT:case re.SUBTITLE_LOAD_ERROR:case re.SUBTITLE_TRACK_LOAD_TIMEOUT:if(s){const u=i.loadLevelObj;if(u&&(s.type===xt.AUDIO_TRACK&&u.hasAudioGroup(s.groupId)||s.type===xt.SUBTITLE_TRACK&&u.hasSubtitleGroup(s.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,i.loadLevel),t.errorAction.action=Kn.SendAlternateToPenaltyBox,t.errorAction.flags=ii.MoveAllAlternatesMatchingHost;return}}return;case re.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const u=i.loadLevelObj,h=u?.attrs["HDCP-LEVEL"];h?t.errorAction={action:Kn.SendAlternateToPenaltyBox,flags:ii.MoveAllAlternatesMatchingHDCP,hdcpLevel:h}:this.keySystemError(t)}return;case re.BUFFER_ADD_CODEC_ERROR:case re.REMUX_ALLOC_ERROR:case re.BUFFER_APPEND_ERROR:if(!t.errorAction){var d;t.errorAction=this.getLevelSwitchAction(t,(d=t.level)!=null?d:i.loadLevel)}return;case re.INTERNAL_EXCEPTION:case re.BUFFER_APPENDING_ERROR:case re.BUFFER_FULL_ERROR:case re.LEVEL_SWITCH_ERROR:case re.BUFFER_STALLED_ERROR:case re.BUFFER_SEEK_OVER_HOLE:case re.BUFFER_NUDGE_ON_STALL:t.errorAction=bu();return}t.type===Ge.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const r=this.hls,i=AA(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Sh(i,s,bh(e),e.response))return{action:Kn.RetryRequest,flags:ii.None,retryConfig:i,retryCount:s};const c=this.getLevelSwitchAction(e,t);return i&&(c.retryConfig=i,c.retryCount=s),c}getFragRetryOrSwitchAction(e){const t=this.hls,r=this.getVariantLevelIndex(e.frag),i=t.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=t.config,c=AA(e.details.startsWith("key")?o:s,e),d=t.levels.reduce((h,p)=>h+p.fragmentError,0);if(i&&(e.details!==re.FRAG_GAP&&i.fragmentError++,Sh(c,d,bh(e),e.response)))return{action:Kn.RetryRequest,flags:ii.None,retryConfig:c,retryCount:d};const u=this.getLevelSwitchAction(e,r);return c&&(u.retryConfig=c,u.retryCount=d),u}getLevelSwitchAction(e,t){const r=this.hls;t==null&&(t=r.loadLevel);const i=this.hls.levels[t];if(i){var s,o;const u=e.details;i.loadError++,u===re.BUFFER_APPEND_ERROR&&i.fragmentError++;let h=-1;const{levels:p,loadLevel:g,minAutoLevel:v,maxAutoLevel:y}=r;!r.autoLevelEnabled&&!r.config.preserveManualLevelOnError&&(r.loadLevel=-1);const x=(s=e.frag)==null?void 0:s.type,E=(x===Ne.AUDIO&&u===re.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(u===re.BUFFER_ADD_CODEC_ERROR||u===re.BUFFER_APPEND_ERROR))&&p.some(({audioCodec:M})=>i.audioCodec!==M),A=e.sourceBufferName==="video"&&(u===re.BUFFER_ADD_CODEC_ERROR||u===re.BUFFER_APPEND_ERROR)&&p.some(({codecSet:M,audioCodec:P})=>i.codecSet!==M&&i.audioCodec===P),{type:L,groupId:I}=(o=e.context)!=null?o:{};for(let M=p.length;M--;){const P=(M+g)%p.length;if(P!==g&&P>=v&&P<=y&&p[P].loadError===0){var c,d;const k=p[P];if(u===re.FRAG_GAP&&x===Ne.MAIN&&e.frag){const _=p[P].details;if(_){const w=Qa(e.frag,_.fragments,e.frag.start);if(w!=null&&w.gap)continue}}else{if(L===xt.AUDIO_TRACK&&k.hasAudioGroup(I)||L===xt.SUBTITLE_TRACK&&k.hasSubtitleGroup(I))continue;if(x===Ne.AUDIO&&(c=i.audioGroups)!=null&&c.some(_=>k.hasAudioGroup(_))||x===Ne.SUBTITLE&&(d=i.subtitleGroups)!=null&&d.some(_=>k.hasSubtitleGroup(_))||E&&i.audioCodec===k.audioCodec||!E&&i.audioCodec!==k.audioCodec||A&&i.codecSet===k.codecSet)continue}h=P;break}}if(h>-1&&r.loadLevel!==h)return e.levelRetry=!0,this.playlistError=0,{action:Kn.SendAlternateToPenaltyBox,flags:ii.None,nextAutoLevel:h}}return{action:Kn.SendAlternateToPenaltyBox,flags:ii.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var r;switch((r=t.errorAction)==null?void 0:r.action){case Kn.DoNothing:break;case Kn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==re.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case ii.None:this.switchLevel(e,o);break;case ii.MoveAllAlternatesMatchingHDCP:s&&(t.maxHdcpLevel=yy[yy.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,t){if(t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel,e.details===re.BUFFER_ADD_CODEC_ERROR&&e.mimeType&&e.sourceBufferName!=="audiovideo")){const r=gy(e.mimeType),i=this.hls.levels;for(let s=i.length;s--;)i[s][`${e.sourceBufferName}Codec`]===r&&this.hls.removeLevel(s)}}}function bu(n){const e={action:Kn.DoNothing,flags:ii.None};return n&&(e.resolved=!0),e}var Ln={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class Kz{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.BUFFER_APPENDED,this.onBufferAppended,this),e.on(O.FRAG_BUFFERED,this.onFragBuffered,this),e.on(O.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.BUFFER_APPENDED,this.onBufferAppended,this),e.off(O.FRAG_BUFFERED,this.onFragBuffered,this),e.off(O.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const r=this.activePartLists[t];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){return this.getFragAtPos(e,t,!0)}getFragAtPos(e,t,r){const{fragments:i}=this,s=Object.keys(i);for(let o=s.length;o--;){const c=i[s[o]];if(c?.body.type===t&&(!r||c.buffered)){const d=c.body;if(d.start<=e&&e<=d.end)return d}}return null}detectEvictedFragments(e,t,r,i,s){this.timeRanges&&(this.timeRanges[e]=t);const o=i?.fragment.sn||-1;Object.keys(this.fragments).forEach(c=>{const d=this.fragments[c];if(!d||o>=d.body.sn)return;if(!d.buffered&&(!d.loaded||s)){d.body.type===r&&this.removeFragment(d.body);return}const u=d.range[e];if(u){if(u.time.length===0){this.removeFragment(d.body);return}u.time.some(h=>{const p=!this.isTimeBuffered(h.startPTS,h.endPTS,t);return p&&this.removeFragment(d.body),p})}})}detectPartialFragments(e){const t=this.timeRanges;if(!t||e.frag.sn==="initSegment")return;const r=e.frag,i=qo(r),s=this.fragments[i];if(!s||s.buffered&&r.gap)return;const o=!r.relurl;Object.keys(t).forEach(c=>{const d=r.elementaryStreams[c];if(!d)return;const u=t[c],h=o||d.partial===!0;s.range[c]=this.getBufferedTimes(r,e.part,h,u)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,(s.body.endList=r.endList||s.body.endList)&&(this.endListFragments[s.body.type]=s),yf(s)||this.removeParts(r.sn-1,r.type)):this.removeFragment(s.body)}removeParts(e,t){const r=this.activePartLists[t];r&&(this.activePartLists[t]=RA(r,i=>i.fragment.sn>=e))}fragBuffered(e,t){const r=qo(e);let i=this.fragments[r];!i&&t&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,t,r,i){const s={time:[],partial:r},o=e.start,c=e.end,d=e.minEndPTS||c,u=e.maxStartPTS||o;for(let h=0;h<i.length;h++){const p=i.start(h)-this.bufferPadding,g=i.end(h)+this.bufferPadding;if(u>=p&&d<=g){s.time.push({startPTS:Math.max(o,i.start(h)),endPTS:Math.min(c,i.end(h))});break}else if(o<g&&c>p){const v=Math.max(o,i.start(h)),y=Math.min(c,i.end(h));y>v&&(s.partial=!0,s.time.push({startPTS:v,endPTS:y}))}else if(c<=p)break}return s}getPartialFragment(e){let t=null,r,i,s,o=0;const{bufferPadding:c,fragments:d}=this;return Object.keys(d).forEach(u=>{const h=d[u];h&&yf(h)&&(i=h.body.start-c,s=h.body.end+c,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(t=h.body,o=r)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||yf(t))}getState(e){const t=qo(e),r=this.fragments[t];return r?r.buffered?yf(r)?Ln.PARTIAL:Ln.OK:Ln.APPENDING:Ln.NOT_LOADED}isTimeBuffered(e,t,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&t<=s)return!0;if(t<=i)return!1}return!1}onManifestLoading(){this.removeAllFragments()}onFragLoaded(e,t){if(t.frag.sn==="initSegment"||t.frag.bitrateTest)return;const r=t.frag,i=t.part?null:t,s=qo(r);this.fragments[s]={body:r,appendedPTS:null,loaded:i,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:r,part:i,timeRanges:s,type:o}=t;if(r.sn==="initSegment")return;const c=r.type;if(i){let u=this.activePartLists[c];u||(this.activePartLists[c]=u=[]),u.push(i)}this.timeRanges=s;const d=s[o];this.detectEvictedFragments(o,d,c,i)}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=qo(e);return!!this.fragments[t]}hasFragments(e){const{fragments:t}=this,r=Object.keys(t);if(!e)return r.length>0;for(let i=r.length;i--;){const s=t[r[i]];if(s?.body.type===e)return!0}return!1}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const c=this.fragments[o];if(!c)return;const d=c.body;d.type!==r||i&&!d.gap||d.start<t&&d.end>e&&(c.buffered||s)&&this.removeFragment(d)})}removeFragment(e){const t=qo(e);e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=RA(r,s=>s.fragment.sn!==i)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){var e,t;this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1;const r=(e=this.hls)==null||(t=e.latestLevelDetails)==null?void 0:t.partList;r&&r.forEach(i=>i.clearElementaryStreamInfo())}}function yf(n){var e,t,r;return n.buffered&&(n.body.gap||((e=n.range.video)==null?void 0:e.partial)||((t=n.range.audio)==null?void 0:t.partial)||((r=n.range.audiovideo)==null?void 0:r.partial))}function qo(n){return`${n.type}_${n.level}_${n.sn}`}function RA(n,e){return n.filter(t=>{const r=e(t);return r||t.clearElementaryStreamInfo(),r})}var ra={cbc:0,ctr:1};class Wz{constructor(e,t,r){this.subtle=void 0,this.aesIV=void 0,this.aesMode=void 0,this.subtle=e,this.aesIV=t,this.aesMode=r}decrypt(e,t){switch(this.aesMode){case ra.cbc:return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e);case ra.ctr:return this.subtle.decrypt({name:"AES-CTR",counter:this.aesIV,length:64},t,e);default:throw new Error(`[AESCrypto] invalid aes mode ${this.aesMode}`)}}}function qz(n){const e=n.byteLength,t=e&&new DataView(n.buffer).getUint8(e-1);return t?n.slice(0,e-t):n}class Yz{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=t.getUint32(i*4);return r}initTable(){const e=this.sBox,t=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],c=r[3],d=this.invSubMix,u=d[0],h=d[1],p=d[2],g=d[3],v=new Uint32Array(256);let y=0,x=0,S=0;for(S=0;S<256;S++)S<128?v[S]=S<<1:v[S]=S<<1^283;for(S=0;S<256;S++){let E=x^x<<1^x<<2^x<<3^x<<4;E=E>>>8^E&255^99,e[y]=E,t[E]=y;const R=v[y],A=v[R],L=v[A];let I=v[E]*257^E*16843008;i[y]=I<<24|I>>>8,s[y]=I<<16|I>>>16,o[y]=I<<8|I>>>24,c[y]=I,I=L*16843009^A*65537^R*257^y*16843008,u[E]=I<<24|I>>>8,h[E]=I<<16|I>>>16,p[E]=I<<8|I>>>24,g[E]=I,y?(y=R^v[v[v[L^R]]],x^=v[v[x]]):y=x=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<t.length&&r;)r=t[i]===this.key[i],i++;if(r)return;this.key=t;const s=this.keySize=t.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let c,d;const u=this.keySchedule=new Uint32Array(o),h=this.invKeySchedule=new Uint32Array(o),p=this.sBox,g=this.rcon,v=this.invSubMix,y=v[0],x=v[1],S=v[2],E=v[3];let R,A;for(c=0;c<o;c++){if(c<s){R=u[c]=t[c];continue}A=R,c%s===0?(A=A<<8|A>>>24,A=p[A>>>24]<<24|p[A>>>16&255]<<16|p[A>>>8&255]<<8|p[A&255],A^=g[c/s|0]<<24):s>6&&c%s===4&&(A=p[A>>>24]<<24|p[A>>>16&255]<<16|p[A>>>8&255]<<8|p[A&255]),u[c]=R=(u[c-s]^A)>>>0}for(d=0;d<o;d++)c=o-d,d&3?A=u[c]:A=u[c-4],d<4||c<=4?h[d]=A:h[d]=y[p[A>>>24]]^x[p[A>>>16&255]]^S[p[A>>>8&255]]^E[p[A&255]],h[d]=h[d]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,c=this.invSubMix,d=c[0],u=c[1],h=c[2],p=c[3],g=this.uint8ArrayToUint32Array_(r);let v=g[0],y=g[1],x=g[2],S=g[3];const E=new Int32Array(e),R=new Int32Array(E.length);let A,L,I,M,P,k,_,w,B,j,z,q,K,$;const W=this.networkToHostOrderSwap;for(;t<E.length;){for(B=W(E[t]),j=W(E[t+1]),z=W(E[t+2]),q=W(E[t+3]),P=B^s[0],k=q^s[1],_=z^s[2],w=j^s[3],K=4,$=1;$<i;$++)A=d[P>>>24]^u[k>>16&255]^h[_>>8&255]^p[w&255]^s[K],L=d[k>>>24]^u[_>>16&255]^h[w>>8&255]^p[P&255]^s[K+1],I=d[_>>>24]^u[w>>16&255]^h[P>>8&255]^p[k&255]^s[K+2],M=d[w>>>24]^u[P>>16&255]^h[k>>8&255]^p[_&255]^s[K+3],P=A,k=L,_=I,w=M,K=K+4;A=o[P>>>24]<<24^o[k>>16&255]<<16^o[_>>8&255]<<8^o[w&255]^s[K],L=o[k>>>24]<<24^o[_>>16&255]<<16^o[w>>8&255]<<8^o[P&255]^s[K+1],I=o[_>>>24]<<24^o[w>>16&255]<<16^o[P>>8&255]<<8^o[k&255]^s[K+2],M=o[w>>>24]<<24^o[P>>16&255]<<16^o[k>>8&255]<<8^o[_&255]^s[K+3],R[t]=W(A^v),R[t+1]=W(M^y),R[t+2]=W(I^x),R[t+3]=W(L^S),v=B,y=j,x=z,S=q,t=t+4}return R.buffer}}class Xz{constructor(e,t,r){this.subtle=void 0,this.key=void 0,this.aesMode=void 0,this.subtle=e,this.key=t,this.aesMode=r}expandKey(){const e=Qz(this.aesMode);return this.subtle.importKey("raw",this.key,{name:e},!1,["encrypt","decrypt"])}}function Qz(n){switch(n){case ra.cbc:return"AES-CBC";case ra.ctr:return"AES-CTR";default:throw new Error(`[FastAESKey] invalid aes mode ${n}`)}}const Zz=16;class Uv{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.enableSoftwareAES=void 0,this.enableSoftwareAES=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?qz(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,r,i){return this.useSoftware?new Promise((s,o)=>{const c=ArrayBuffer.isView(e)?e:new Uint8Array(e);this.softwareDecrypt(c,t,r,i);const d=this.flush();d?s(d.buffer):o(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,r,i)}softwareDecrypt(e,t,r,i){const{currentIV:s,currentResult:o,remainderData:c}=this;if(i!==ra.cbc||t.byteLength!==16)return wt.warn("SoftwareDecrypt: can only handle AES-128-CBC"),null;this.logOnce("JS AES decrypt"),c&&(e=Yr(c,e),this.remainderData=null);const d=this.getValidChunk(e);if(!d.length)return null;s&&(r=s);let u=this.softwareDecrypter;u||(u=this.softwareDecrypter=new Yz),u.expandKey(t);const h=o;return this.currentResult=u.decrypt(d.buffer,0,r),this.currentIV=d.slice(-16).buffer,h||null}webCryptoDecrypt(e,t,r,i){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,r,i));this.key=t,this.fastAesKey=new Xz(this.subtle,t,i)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new Wz(this.subtle,new Uint8Array(r),i).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(wt.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,t,r,i)))}onWebCryptoError(e,t,r,i){const s=this.enableSoftwareAES;if(s){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,r,i);const o=this.flush();if(o)return o.buffer}throw new Error("WebCrypto"+(s?" and softwareDecrypt":"")+": failed to decrypt data")}getValidChunk(e){let t=e;const r=e.length-e.length%Zz;return r!==e.length&&(t=e.slice(0,r),this.remainderData=e.slice(r)),t}logOnce(e){this.logEnabled&&(wt.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const wA=Math.pow(2,17);class Jz{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const r=e.url;if(!r)return Promise.reject(new ls({type:Ge.NETWORK_ERROR,details:re.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((c,d)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(y=>y[0]==="GAP")){d(IA(e));return}else e.gap=!1;const u=this.loader=s?new s(i):new o(i),h=LA(e);e.loader=u;const p=CA(i.fragLoadPolicy.default),g={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:wA};e.stats=u.stats;const v={onSuccess:(y,x,S,E)=>{this.resetLoader(e,u);let R=y.data;S.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(R.slice(0,16)),R=R.slice(16)),c({frag:e,part:null,payload:R,networkDetails:E})},onError:(y,x,S,E)=>{this.resetLoader(e,u),d(new ls({type:Ge.NETWORK_ERROR,details:re.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:jt({url:r,data:void 0},y),error:new Error(`HTTP Error ${y.code} ${y.text}`),networkDetails:S,stats:E}))},onAbort:(y,x,S)=>{this.resetLoader(e,u),d(new ls({type:Ge.NETWORK_ERROR,details:re.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:S,stats:y}))},onTimeout:(y,x,S)=>{this.resetLoader(e,u),d(new ls({type:Ge.NETWORK_ERROR,details:re.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${g.timeout}ms`),networkDetails:S,stats:y}))}};t&&(v.onProgress=(y,x,S,E)=>t({frag:e,part:null,payload:S,networkDetails:E})),u.load(h,g,v)})}loadPart(e,t,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((c,d)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){d(IA(e,t));return}const u=this.loader=s?new s(i):new o(i),h=LA(e,t);e.loader=u;const p=CA(i.fragLoadPolicy.default),g={loadPolicy:p,timeout:p.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:wA};t.stats=u.stats,u.load(h,g,{onSuccess:(v,y,x,S)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,t);const E={frag:e,part:t,payload:v.data,networkDetails:S};r(E),c(E)},onError:(v,y,x,S)=>{this.resetLoader(e,u),d(new ls({type:Ge.NETWORK_ERROR,details:re.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:jt({url:h.url,data:void 0},v),error:new Error(`HTTP Error ${v.code} ${v.text}`),networkDetails:x,stats:S}))},onAbort:(v,y,x)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,u),d(new ls({type:Ge.NETWORK_ERROR,details:re.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:x,stats:v}))},onTimeout:(v,y,x)=>{this.resetLoader(e,u),d(new ls({type:Ge.NETWORK_ERROR,details:re.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${g.timeout}ms`),networkDetails:x,stats:v}))}})})}updateStatsFromPart(e,t){const r=e.stats,i=t.stats,s=i.total;if(r.loaded+=i.loaded,s){const d=Math.round(e.duration/t.duration),u=Math.min(Math.round(r.loaded/s),d),p=(d-u)*Math.round(r.loaded/u);r.total=r.loaded+p}else r.total=Math.max(r.loaded,r.total);const o=r.loading,c=i.loading;o.start?o.first+=c.first-c.start:(o.start=c.start,o.first=c.first),o.end=c.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function LA(n,e=null){const t=e||n,r={frag:n,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},i=t.byteRangeStartOffset,s=t.byteRangeEndOffset;if(_e(i)&&_e(s)){var o;let c=i,d=s;if(n.sn==="initSegment"&&eG((o=n.decryptdata)==null?void 0:o.method)){const u=s-i;u%16&&(d=s+(16-u%16)),i!==0&&(r.resetIV=!0,c=i-16)}r.rangeStart=c,r.rangeEnd=d}return r}function IA(n,e){const t=new Error(`GAP ${n.gap?"tag":"attribute"} found`),r={type:Ge.MEDIA_ERROR,details:re.FRAG_GAP,fatal:!1,frag:n,error:t,networkDetails:null};return e&&(r.part=e),(e||n).stats.aborted=!0,new ls(r)}function eG(n){return n==="AES-128"||n==="AES-256"}class ls extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class TL extends gi{constructor(e,t){super(e,t),this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}class jv{constructor(e,t,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=vf(),this.buffering={audio:vf(),video:vf(),audiovideo:vf()},this.level=e,this.sn=t,this.id=r,this.size=i,this.part=s,this.partial=o}}function vf(){return{start:0,executeStart:0,executeEnd:0,end:0}}const DA={length:0,start:()=>0,end:()=>0};class lt{static isBuffered(e,t){if(e){const r=lt.getBuffered(e);for(let i=r.length;i--;)if(t>=r.start(i)&&t<=r.end(i))return!0}return!1}static bufferedRanges(e){if(e){const t=lt.getBuffered(e);return lt.timeRangesToArray(t)}return[]}static timeRangesToArray(e){const t=[];for(let r=0;r<e.length;r++)t.push({start:e.start(r),end:e.end(r)});return t}static bufferInfo(e,t,r){if(e){const i=lt.bufferedRanges(e);if(i.length)return lt.bufferedInfo(i,t,r)}return{len:0,start:t,end:t,bufferedIndex:-1}}static bufferedInfo(e,t,r){t=Math.max(0,t),e.length>1&&e.sort((h,p)=>h.start-p.start||p.end-h.end);let i=-1,s=[];if(r)for(let h=0;h<e.length;h++){t>=e[h].start&&t<=e[h].end&&(i=h);const p=s.length;if(p){const g=s[p-1].end;e[h].start-g<r?e[h].end>g&&(s[p-1].end=e[h].end):s.push(e[h])}else s.push(e[h])}else s=e;let o=0,c,d=t,u=t;for(let h=0;h<s.length;h++){const p=s[h].start,g=s[h].end;if(i===-1&&t>=p&&t<=g&&(i=h),t+r>=p&&t<g)d=p,u=g,o=u-t;else if(t+r<p){c=p;break}}return{len:o,start:d||0,end:u||0,nextStart:c,buffered:e,bufferedIndex:i}}static getBuffered(e){try{return e.buffered||DA}catch(t){return wt.log("failed to get media.buffered",t),DA}}}const AL=/\{\$([a-zA-Z0-9-_]+)\}/g;function PA(n){return AL.test(n)}function vy(n,e){if(n.variableList!==null||n.hasVariableRefs){const t=n.variableList;return e.replace(AL,r=>{const i=r.substring(2,r.length-1),s=t?.[i];return s===void 0?(n.playlistParsingError||(n.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function _A(n,e,t){let r=n.variableList;r||(n.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(t).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${t}"`)}catch(o){n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function tG(n,e,t){const r=e.IMPORT;if(t&&r in t){let i=n.variableList;i||(n.variableList=i={}),i[r]=t[r]}else n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}const nG=/^(\d+)x(\d+)$/,OA=/(.+?)=(".*?"|.*?)(?:,|$)/g;class sn{constructor(e,t){typeof e=="string"&&(e=sn.parseAttrList(e,t)),Mt(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const r=new Uint8Array(t.length/2);for(let i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(i*2,i*2+2),16);return r}return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const r=this[e];return r?parseFloat(r):t}enumeratedString(e){return this[e]}enumeratedStringList(e,t){const r=this[e];return(r?r.split(/[ ,]+/):[]).reduce((i,s)=>(i[s.toLowerCase()]=!0,i),t)}bool(e){return this[e]==="YES"}decimalResolution(e){const t=nG.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e,t){let r;const i={},s='"';for(OA.lastIndex=0;(r=OA.exec(e))!==null;){const o=r[1].trim();let c=r[2];const d=c.indexOf(s)===0&&c.lastIndexOf(s)===c.length-1;let u=!1;if(d)c=c.slice(1,-1);else switch(o){case"IV":case"SCTE35-CMD":case"SCTE35-IN":case"SCTE35-OUT":u=!0}if(t&&(d||u))c=vy(t,c);else if(!u&&!d)switch(o){case"CLOSED-CAPTIONS":if(c==="NONE")break;case"ALLOWED-CPC":case"CLASS":case"ASSOC-LANGUAGE":case"AUDIO":case"BYTERANGE":case"CHANNELS":case"CHARACTERISTICS":case"CODECS":case"DATA-ID":case"END-DATE":case"GROUP-ID":case"ID":case"IMPORT":case"INSTREAM-ID":case"KEYFORMAT":case"KEYFORMATVERSIONS":case"LANGUAGE":case"NAME":case"PATHWAY-ID":case"QUERYPARAM":case"RECENTLY-REMOVED-DATERANGES":case"SERVER-URI":case"STABLE-RENDITION-ID":case"STABLE-VARIANT-ID":case"START-DATE":case"SUBTITLES":case"SUPPLEMENTAL-CODECS":case"URI":case"VALUE":case"VIDEO":case"X-ASSET-LIST":case"X-ASSET-URI":wt.warn(`${e}: attribute ${o} is missing quotes`)}i[o]=c}return i}}const rG="com.apple.hls.interstitial";function iG(n){return n!=="ID"&&n!=="CLASS"&&n!=="CUE"&&n!=="START-DATE"&&n!=="DURATION"&&n!=="END-DATE"&&n!=="END-ON-NEXT"}function sG(n){return n==="SCTE35-OUT"||n==="SCTE35-IN"||n==="SCTE35-CMD"}class CL{constructor(e,t,r=0){var i;if(this.attr=void 0,this.tagAnchor=void 0,this.tagOrder=void 0,this._startDate=void 0,this._endDate=void 0,this._dateAtEnd=void 0,this._cue=void 0,this._badValueForSameId=void 0,this.tagAnchor=t?.tagAnchor||null,this.tagOrder=(i=t?.tagOrder)!=null?i:r,t){const s=t.attr;for(const o in s)if(Object.prototype.hasOwnProperty.call(e,o)&&e[o]!==s[o]){wt.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=o;break}e=Mt(new sn({}),s,e)}if(this.attr=e,t?(this._startDate=t._startDate,this._cue=t._cue,this._endDate=t._endDate,this._dateAtEnd=t._dateAtEnd):this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const s=t?.endDate||new Date(this.attr["END-DATE"]);_e(s.getTime())&&(this._endDate=s)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get cue(){const e=this._cue;return e===void 0?this._cue=this.attr.enumeratedStringList(this.attr.CUE?"CUE":"X-CUE",{pre:!1,post:!1,once:!1}):e}get startTime(){const{tagAnchor:e}=this;return e===null||e.programDateTime===null?(wt.warn(`Expected tagAnchor Fragment with PDT set for DateRange "${this.id}": ${e}`),NaN):e.start+(this.startDate.getTime()-e.programDateTime)/1e3}get startDate(){return this._startDate}get endDate(){const e=this._endDate||this._dateAtEnd;if(e)return e;const t=this.duration;return t!==null?this._dateAtEnd=new Date(this._startDate.getTime()+t*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(_e(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isInterstitial(){return this.class===rG}get isValid(){return!!this.id&&!this._badValueForSameId&&_e(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)&&(!this.attr.CUE||!this.cue.pre&&!this.cue.post||this.cue.pre!==this.cue.post)&&(!this.isInterstitial||"X-ASSET-URI"in this.attr||"X-ASSET-LIST"in this.attr)}}const aG=10;class oG{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.dateRangeTagCount=0,this.live=!0,this.requestScheduled=-1,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.appliedTimelineOffset=void 0,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1}get hasProgramDateTime(){return this.fragments.length?_e(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||aG}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get fragmentStart(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[0].start:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get maxPartIndex(){const e=this.partList;if(e){const t=this.lastPartIndex;if(t!==-1){for(let r=e.length;r--;)if(e[r].index>t)return e[r].index;return t}}return 0}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}get expired(){if(this.live&&this.age&&this.misses<3){const e=this.partEnd-this.fragmentStart;return this.age>Math.max(e,this.totalduration)+this.levelTargetDuration}return!1}}function ol(n){return n==="AES-128"||n==="AES-256"||n==="AES-256-CTR"}function zv(n){switch(n){case"AES-128":case"AES-256":return ra.cbc;case"AES-256-CTR":return ra.ctr;default:throw new Error(`invalid full segment method ${n}`)}}function RL(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function xy(n){return Uint8Array.from(unescape(encodeURIComponent(n)),e=>e.charCodeAt(0))}function lG(n){const e=xy(n).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function cG(n){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(n,0,3),e(n,1,2),e(n,4,5),e(n,6,7)}function uG(n){const e=n.split(":");let t=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),t=RL(o)):t=lG(o)}}return t}const Eh=typeof self<"u"?self:void 0;var xn={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},lr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function by(n){switch(n){case lr.FAIRPLAY:return xn.FAIRPLAY;case lr.PLAYREADY:return xn.PLAYREADY;case lr.WIDEVINE:return xn.WIDEVINE;case lr.CLEARKEY:return xn.CLEARKEY}}function kA(n){switch(n){case xn.FAIRPLAY:return lr.FAIRPLAY;case xn.PLAYREADY:return lr.PLAYREADY;case xn.WIDEVINE:return lr.WIDEVINE;case xn.CLEARKEY:return lr.CLEARKEY}}function Gf(n){const{drmSystems:e,widevineLicenseUrl:t}=n,r=e?[xn.FAIRPLAY,xn.WIDEVINE,xn.PLAYREADY,xn.CLEARKEY].filter(i=>!!e[i]):[];return!r[xn.WIDEVINE]&&t&&r.push(xn.WIDEVINE),r}const wL=function(n){return Eh!=null&&(n=Eh.navigator)!=null&&n.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function dG(n,e,t,r){let i;switch(n){case xn.FAIRPLAY:i=["cenc","sinf"];break;case xn.WIDEVINE:case xn.PLAYREADY:i=["cenc"];break;case xn.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${n}`)}return fG(i,e,t,r)}function fG(n,e,t,r){return[{initDataTypes:n,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs=${s}`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:t.map(s=>({contentType:`video/mp4; codecs=${s}`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function hG(n){var e;return n.sessionType==="persistent-license"||!!((e=n.sessionTypes)!=null&&e.some(t=>t==="persistent-license"))}function pG(n){const e=new Uint16Array(n.buffer,n.byteOffset,n.byteLength/2),t=String.fromCharCode.apply(null,Array.from(e)),r=t.substring(t.indexOf("<"),t.length),o=new DOMParser().parseFromString(r,"text/xml").getElementsByTagName("KID")[0];if(o){const c=o.childNodes[0]?o.childNodes[0].nodeValue:o.getAttribute("VALUE");if(c){const d=RL(c).subarray(0,16);return cG(d),d}}return null}let xf={};class fp{static clearKeyUriToKeyIdMap(){xf={}}constructor(e,t,r,i=[1],s=null,o){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&!ol(e),o!=null&&o.startsWith("0x")&&(this.keyId=new Uint8Array(oL(o)))}matches(e){var t,r;return e.uri===this.uri&&e.method===this.method&&e.encrypted===this.encrypted&&e.keyFormat===this.keyFormat&&e.keyFormatVersions.join(",")===this.keyFormatVersions.join(",")&&((t=e.iv)==null?void 0:t.join(","))===((r=this.iv)==null?void 0:r.join(","))}isSupported(){if(this.method){if(ol(this.method)||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case lr.FAIRPLAY:case lr.WIDEVINE:case lr.PLAYREADY:case lr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(ol(this.method)&&this.uri&&!this.iv){typeof e!="number"&&(wt.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=mG(e);return new fp(this.method,this.uri,"identity",this.keyFormatVersions,r)}if(this.pssh&&this.keyId)return this;const t=uG(this.uri);if(t)switch(this.keyFormat){case lr.WIDEVINE:if(this.pssh=t,!this.keyId&&t.length>=22){const r=t.length-22;this.keyId=t.subarray(r,r+16)}break;case lr.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=xz(r,null,t),this.keyId=pG(t);break}default:{let r=t.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=xf[this.uri];if(!r){const i=Object.keys(xf).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),xf[this.uri]=r}this.keyId=r}return this}}function mG(n){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=n>>8*(15-t)&255;return e}const MA=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,NA=/#EXT-X-MEDIA:(.*)/g,gG=/^#EXT(?:INF|-X-TARGETDURATION):/m,l0=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#.*/.source].join("|"),"g"),yG=new RegExp([/#EXT-X-(PROGRAM-DATE-TIME|BYTERANGE|DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Oi{static findGroup(e,t){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===t)return i}}static resolve(e,t){return kv.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return gG.test(e)}static parseMasterPlaylist(e,t){const r=PA(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];MA.lastIndex=0;let o;for(;(o=MA.exec(e))!=null;)if(o[1]){var c;const u=new sn(o[1],i),h=vy(i,o[2]),p={attrs:u,bitrate:u.decimalInteger("BANDWIDTH")||u.decimalInteger("AVERAGE-BANDWIDTH"),name:u.NAME,url:Oi.resolve(h,t)},g=u.decimalResolution("RESOLUTION");g&&(p.width=g.width,p.height=g.height),FA(u.CODECS,p);const v=u["SUPPLEMENTAL-CODECS"];v&&(p.supplemental={},FA(v,p.supplemental)),(c=p.unknownCodecs)!=null&&c.length||s.push(p),i.levels.push(p)}else if(o[3]){const u=o[3],h=o[4];switch(u){case"SESSION-DATA":{const p=new sn(h,i),g=p["DATA-ID"];g&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[g]=p);break}case"SESSION-KEY":{const p=BA(h,t,i);p.encrypted&&p.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(p)):wt.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${h}"`);break}case"DEFINE":{{const p=new sn(h,i);_A(i,p,t)}break}case"CONTENT-STEERING":{const p=new sn(h,i);i.contentSteering={uri:Oi.resolve(p["SERVER-URI"],t),pathwayId:p["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=$A(h);break}}}const d=s.length>0&&s.length<i.levels.length;return i.levels=d?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,t,r){let i;const s={},o=r.levels,c={AUDIO:o.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:o.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let d=0;for(NA.lastIndex=0;(i=NA.exec(e))!==null;){const u=new sn(i[1],r),h=u.TYPE;if(h){const p=c[h],g=s[h]||[];s[h]=g;const v=u.LANGUAGE,y=u["ASSOC-LANGUAGE"],x=u.CHANNELS,S=u.CHARACTERISTICS,E=u["INSTREAM-ID"],R={attrs:u,bitrate:0,id:d++,groupId:u["GROUP-ID"]||"",name:u.NAME||v||"",type:h,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:v,url:u.URI?Oi.resolve(u.URI,t):""};if(y&&(R.assocLang=y),x&&(R.channels=x),S&&(R.characteristics=S),E&&(R.instreamId=E),p!=null&&p.length){const A=Oi.findGroup(p,R.groupId)||p[0];UA(R,A,"audioCodec"),UA(R,A,"textCodec")}g.push(R)}}return s}static parseLevelPlaylist(e,t,r,i,s,o){var c;const d={url:t},u=new oG(t),h=u.fragments,p=[];let g=null,v=0,y=0,x=0,S=0,E=0,R=null,A=new s0(i,d),L,I,M,P=-1,k=!1,_=null,w;if(l0.lastIndex=0,u.m3u8=e,u.hasVariableRefs=PA(e),((c=l0.exec(e))==null?void 0:c[0])!=="#EXTM3U")return u.playlistParsingError=new Error("Missing format identifier #EXTM3U"),u;for(;(L=l0.exec(e))!==null;){k&&(k=!1,A=new s0(i,d),A.playlistOffset=x,A.start=x,A.sn=v,A.cc=S,E&&(A.bitrate=E),A.level=r,g&&(A.initSegment=g,g.rawProgramDateTime&&(A.rawProgramDateTime=g.rawProgramDateTime,g.rawProgramDateTime=null),_&&(A.setByteRange(_),_=null)));const q=L[1];if(q){A.duration=parseFloat(q);const K=(" "+L[2]).slice(1);A.title=K||null,A.tagList.push(K?["INF",q,K]:["INF",q])}else if(L[3]){if(_e(A.duration)){A.playlistOffset=x,A.start=x,M&&zA(A,M,u),A.sn=v,A.level=r,A.cc=S,h.push(A);const K=(" "+L[3]).slice(1);A.relurl=vy(u,K),Sy(A,R,p),R=A,x+=A.duration,v++,y=0,k=!0}}else{if(L=L[0].match(yG),!L){wt.warn("No matches on slow regex match for level playlist!");continue}for(I=1;I<L.length&&L[I]===void 0;I++);const K=(" "+L[I]).slice(1),$=(" "+L[I+1]).slice(1),W=L[I+2]?(" "+L[I+2]).slice(1):null;switch(K){case"BYTERANGE":R?A.setByteRange($,R):A.setByteRange($);break;case"PROGRAM-DATE-TIME":A.rawProgramDateTime=$,A.tagList.push(["PROGRAM-DATE-TIME",$]),P===-1&&(P=h.length);break;case"PLAYLIST-TYPE":u.type&&ss(u,K,L),u.type=$.toUpperCase();break;case"MEDIA-SEQUENCE":u.startSN!==0?ss(u,K,L):h.length>0&&GA(u,K,L),v=u.startSN=parseInt($);break;case"SKIP":{u.skippedSegments&&ss(u,K,L);const G=new sn($,u),Y=G.decimalInteger("SKIPPED-SEGMENTS");if(_e(Y)){u.skippedSegments+=Y;for(let H=Y;H--;)h.push(null);v+=Y}const F=G.enumeratedString("RECENTLY-REMOVED-DATERANGES");F&&(u.recentlyRemovedDateranges=(u.recentlyRemovedDateranges||[]).concat(F.split("	")));break}case"TARGETDURATION":u.targetduration!==0&&ss(u,K,L),u.targetduration=Math.max(parseInt($),1);break;case"VERSION":u.version!==null&&ss(u,K,L),u.version=parseInt($);break;case"INDEPENDENT-SEGMENTS":break;case"ENDLIST":u.live||ss(u,K,L),u.live=!1;break;case"#":($||W)&&A.tagList.push(W?[$,W]:[$]);break;case"DISCONTINUITY":S++,A.tagList.push(["DIS"]);break;case"GAP":A.gap=!0,A.tagList.push([K]);break;case"BITRATE":A.tagList.push([K,$]),E=parseInt($)*1e3,_e(E)?A.bitrate=E:E=0;break;case"DATERANGE":{const G=new sn($,u),Y=new CL(G,u.dateRanges[G.ID],u.dateRangeTagCount);u.dateRangeTagCount++,Y.isValid||u.skippedSegments?u.dateRanges[Y.id]=Y:wt.warn(`Ignoring invalid DATERANGE tag: "${$}"`),A.tagList.push(["EXT-X-DATERANGE",$]);break}case"DEFINE":{{const G=new sn($,u);"IMPORT"in G?tG(u,G,o):_A(u,G,t)}break}case"DISCONTINUITY-SEQUENCE":u.startCC!==0?ss(u,K,L):h.length>0&&GA(u,K,L),u.startCC=S=parseInt($);break;case"KEY":{const G=BA($,t,u);if(G.isSupported()){if(G.method==="NONE"){M=void 0;break}M||(M={});const Y=M[G.keyFormat];Y!=null&&Y.matches(G)||(Y&&(M=Mt({},M)),M[G.keyFormat]=G)}else wt.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${$}"`);break}case"START":u.startTimeOffset=$A($);break;case"MAP":{const G=new sn($,u);if(A.duration){const Y=new s0(i,d);jA(Y,G,r,M),g=Y,A.initSegment=g,g.rawProgramDateTime&&!A.rawProgramDateTime&&(A.rawProgramDateTime=g.rawProgramDateTime)}else{const Y=A.byteRangeEndOffset;if(Y){const F=A.byteRangeStartOffset;_=`${Y-F}@${F}`}else _=null;jA(A,G,r,M),g=A,k=!0}g.cc=S;break}case"SERVER-CONTROL":{w&&ss(u,K,L),w=new sn($),u.canBlockReload=w.bool("CAN-BLOCK-RELOAD"),u.canSkipUntil=w.optionalFloat("CAN-SKIP-UNTIL",0),u.canSkipDateRanges=u.canSkipUntil>0&&w.bool("CAN-SKIP-DATERANGES"),u.partHoldBack=w.optionalFloat("PART-HOLD-BACK",0),u.holdBack=w.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{u.partTarget&&ss(u,K,L);const G=new sn($);u.partTarget=G.decimalFloatingPoint("PART-TARGET");break}case"PART":{let G=u.partList;G||(G=u.partList=[]);const Y=y>0?G[G.length-1]:void 0,F=y++,H=new sn($,u),Q=new sz(H,A,d,F,Y);G.push(Q),A.duration+=Q.duration;break}case"PRELOAD-HINT":{const G=new sn($,u);u.preloadHint=G;break}case"RENDITION-REPORT":{const G=new sn($,u);u.renditionReports=u.renditionReports||[],u.renditionReports.push(G);break}default:wt.warn(`line parsed but not handled: ${L}`);break}}}R&&!R.relurl?(h.pop(),x-=R.duration,u.partList&&(u.fragmentHint=R)):u.partList&&(Sy(A,R,p),A.cc=S,u.fragmentHint=A,M&&zA(A,M,u)),u.targetduration||(u.playlistParsingError=new Error("#EXT-X-TARGETDURATION is required"));const B=h.length,j=h[0],z=h[B-1];if(x+=u.skippedSegments*u.targetduration,x>0&&B&&z){u.averagetargetduration=x/B;const q=z.sn;u.endSN=q!=="initSegment"?q:0,u.live||(z.endList=!0),j&&u.startCC===void 0&&(u.startCC=j.cc),P>0&&(xG(h,P),j&&p.unshift(j))}else u.endSN=0,u.startCC=0;return u.fragmentHint&&(x+=u.fragmentHint.duration),u.totalduration=x,p.length&&u.dateRangeTagCount&&j&&LL(p,u),u.endCC=S,u}}function LL(n,e){const t=n.length;if(!t)return;const r=n[t-1],i=e.live?1/0:e.totalduration,s=Object.keys(e.dateRanges);for(let o=s.length;o--;){const c=e.dateRanges[s[o]],d=c.startDate.getTime();c.tagAnchor=r.ref;for(let u=t;u--;){const h=vG(e,d,n,u,i);if(h!==-1){c.tagAnchor=e.fragments[h].ref;break}}}}function vG(n,e,t,r,i){const s=t[r];if(s){const c=s.programDateTime;if(e>=c||r===0){var o;const d=(((o=t[r+1])==null?void 0:o.start)||i)-s.start;if(e<=c+d*1e3){const u=t[r].sn-n.startSN,h=n.fragments;if(h.length>t.length){const g=(t[r+1]||h[h.length-1]).sn-n.startSN;for(let v=g;v>u;v--){const y=h[v].programDateTime;if(e>=y&&e<y+h[v].duration*1e3)return v}}return u}}}return-1}function BA(n,e,t){var r,i;const s=new sn(n,t),o=(r=s.METHOD)!=null?r:"",c=s.URI,d=s.hexadecimalInteger("IV"),u=s.KEYFORMATVERSIONS,h=(i=s.KEYFORMAT)!=null?i:"identity";c&&s.IV&&!d&&wt.error(`Invalid IV: ${s.IV}`);const p=c?Oi.resolve(c,e):"",g=(u||"1").split("/").map(Number).filter(Number.isFinite);return new fp(o,p,h,g,d,s.KEYID)}function $A(n){const t=new sn(n).decimalFloatingPoint("TIME-OFFSET");return _e(t)?t:null}function FA(n,e){let t=(n||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=t.filter(s=>Bv(s,r));i.length&&(e[`${r}Codec`]=i.map(s=>s.split("/")[0]).join(","),t=t.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=t}function UA(n,e,t){const r=e[t];r&&(n[t]=r)}function xG(n,e){let t=n[e];for(let r=e;r--;){const i=n[r];if(!i)return;i.programDateTime=t.programDateTime-i.duration*1e3,t=i}}function Sy(n,e,t){n.rawProgramDateTime?t.push(n):e!=null&&e.programDateTime&&(n.programDateTime=e.endProgramDateTime)}function jA(n,e,t,r){n.relurl=e.URI,e.BYTERANGE&&n.setByteRange(e.BYTERANGE),n.level=t,n.sn="initSegment",r&&(n.levelkeys=r),n.initSegment=null}function zA(n,e,t){n.levelkeys=e;const{encryptedFragments:r}=t;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(n)}function ss(n,e,t){n.playlistParsingError=new Error(`#EXT-X-${e} must not appear more than once (${t[0]})`)}function GA(n,e,t){n.playlistParsingError=new Error(`#EXT-X-${e} must appear before the first Media Segment (${t[0]})`)}function c0(n,e){const t=e.startPTS;if(_e(t)){let r=0,i;e.sn>n.sn?(r=t-n.start,i=n):(r=n.start-t,i=e),i.duration!==r&&i.setDuration(r)}else e.sn>n.sn?n.cc===e.cc&&n.minEndPTS?e.setStart(n.start+(n.minEndPTS-n.start)):e.setStart(n.start+n.duration):e.setStart(Math.max(n.start-e.duration,0))}function IL(n,e,t,r,i,s){r-t<=0&&(wt.warn("Fragment should have a positive duration",e),r=t+e.duration,s=i+e.duration);let c=t,d=r;const u=e.startPTS,h=e.endPTS;if(_e(u)){const S=Math.abs(u-t);_e(e.deltaPTS)?e.deltaPTS=Math.max(S,e.deltaPTS):e.deltaPTS=S,c=Math.max(t,u),t=Math.min(t,u),i=Math.min(i,e.startDTS),d=Math.min(r,h),r=Math.max(r,h),s=Math.max(s,e.endDTS)}const p=t-e.start;e.start!==0&&e.setStart(t),e.setDuration(r-e.start),e.startPTS=t,e.maxStartPTS=c,e.startDTS=i,e.endPTS=r,e.minEndPTS=d,e.endDTS=s;const g=e.sn;if(!n||g<n.startSN||g>n.endSN)return 0;let v;const y=g-n.startSN,x=n.fragments;for(x[y]=e,v=y;v>0;v--)c0(x[v],x[v-1]);for(v=y;v<x.length-1;v++)c0(x[v],x[v+1]);return n.fragmentHint&&c0(x[x.length-1],n.fragmentHint),n.PTSKnown=n.alignedSliding=!0,p}function bG(n,e){if(n===e)return;let t=null;const r=n.fragments;for(let u=r.length-1;u>=0;u--){const h=r[u].initSegment;if(h){t=h;break}}n.fragmentHint&&delete n.fragmentHint.endPTS;let i;TG(n,e,(u,h,p,g)=>{if((!e.startCC||e.skippedSegments)&&h.cc!==u.cc){const v=u.cc-h.cc;for(let y=p;y<g.length;y++)g[y].cc+=v;e.endCC=g[g.length-1].cc}_e(u.startPTS)&&_e(u.endPTS)&&(h.setStart(h.startPTS=u.startPTS),h.startDTS=u.startDTS,h.maxStartPTS=u.maxStartPTS,h.endPTS=u.endPTS,h.endDTS=u.endDTS,h.minEndPTS=u.minEndPTS,h.setDuration(u.endPTS-u.startPTS),h.duration&&(i=h),e.PTSKnown=e.alignedSliding=!0),u.hasStreams&&(h.elementaryStreams=u.elementaryStreams),h.loader=u.loader,u.hasStats&&(h.stats=u.stats),u.initSegment&&(h.initSegment=u.initSegment,t=u.initSegment)});const s=e.fragments,o=e.fragmentHint?s.concat(e.fragmentHint):s;if(t&&o.forEach(u=>{var h;u&&(!u.initSegment||u.initSegment.relurl===((h=t)==null?void 0:h.relurl))&&(u.initSegment=t)}),e.skippedSegments){if(e.deltaUpdateFailed=s.some(u=>!u),e.deltaUpdateFailed){wt.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=e.skippedSegments;u--;)s.shift();e.startSN=s[0].sn}else{e.canSkipDateRanges&&(e.dateRanges=SG(n.dateRanges,e));const u=n.fragments.filter(h=>h.rawProgramDateTime);if(n.hasProgramDateTime&&!e.hasProgramDateTime)for(let h=1;h<o.length;h++)o[h].programDateTime===null&&Sy(o[h],o[h-1],u);LL(u,e)}e.endCC=s[s.length-1].cc}if(!e.startCC){var c;const u=_L(n,e.startSN-1);e.startCC=(c=u?.cc)!=null?c:s[0].cc}EG(n.partList,e.partList,(u,h)=>{h.elementaryStreams=u.elementaryStreams,h.stats=u.stats}),i?IL(e,i,i.startPTS,i.endPTS,i.startDTS,i.endDTS):DL(n,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=n.driftStartTime,e.driftStart=n.driftStart;const d=e.advancedDateTime;if(e.advanced&&d){const u=e.edge;e.driftStart||(e.driftStartTime=d,e.driftStart=u),e.driftEndTime=d,e.driftEnd=u}else e.driftEndTime=n.driftEndTime,e.driftEnd=n.driftEnd,e.advancedDateTime=n.advancedDateTime;e.requestScheduled===-1&&(e.requestScheduled=n.requestScheduled)}function SG(n,e){const{dateRanges:t,recentlyRemovedDateranges:r}=e,i=Mt({},n);r&&r.forEach(c=>{delete i[c]});const o=Object.keys(i).length;return o&&Object.keys(t).forEach(c=>{const d=i[c],u=new CL(t[c].attr,d);u.isValid?(i[c]=u,d||(u.tagOrder+=o)):wt.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${Yt(t[c].attr)}"`)}),i}function EG(n,e,t){if(n&&e){let r=0;for(let i=0,s=n.length;i<=s;i++){const o=n[i],c=e[i+r];o&&c&&o.index===c.index&&o.fragment.sn===c.fragment.sn?t(o,c):r--}}}function TG(n,e,t){const r=e.skippedSegments,i=Math.max(n.startSN,e.startSN)-e.startSN,s=(n.fragmentHint?1:0)+(r?e.endSN:Math.min(n.endSN,e.endSN))-e.startSN,o=e.startSN-n.startSN,c=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,d=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments;for(let u=i;u<=s;u++){const h=d[o+u];let p=c[u];if(r&&!p&&h&&(p=e.fragments[u]=h),h&&p){if(t(h,p,u,c),h.url&&h.url!==p.url){e.playlistParsingError=HA(`media sequence mismatch ${p.sn}:`,n,e,h,p);return}else if(h.cc!==p.cc){e.playlistParsingError=HA(`discontinuity sequence mismatch (${h.cc}!=${p.cc})`,n,e,h,p);return}}}}function HA(n,e,t,r,i){return new Error(`${n} ${i.url}
Playlist starting @${e.startSN}
${e.m3u8}

Playlist starting @${t.startSN}
${t.m3u8}`)}function DL(n,e,t=!0){const r=e.startSN+e.skippedSegments-n.startSN,i=n.fragments,s=r>=0;let o=0;if(s&&r<i.length)o=i[r].start;else if(s&&e.startSN===n.endSN+1)o=n.fragmentEnd;else if(s&&t)o=n.fragmentStart+r*e.levelTargetDuration;else if(!e.skippedSegments&&e.fragmentStart===0)o=n.fragmentStart;else return;Ey(e,o)}function Ey(n,e){if(e){const t=n.fragments;for(let r=n.skippedSegments;r<t.length;r++)t[r].addStart(e);n.fragmentHint&&n.fragmentHint.addStart(e)}}function PL(n,e=1/0){let t=1e3*n.targetduration;if(n.updated){const r=n.fragments;if(r.length&&t*4>e){const s=r[r.length-1].duration*1e3;s<t&&(t=s)}}else t/=2;return Math.round(t)}function _L(n,e,t){if(!n)return null;let r=n.fragments[e-n.startSN];return r||(r=n.fragmentHint,r&&r.sn===e)?r:e<n.startSN&&t&&t.sn===e?t:null}function VA(n,e,t){return n?OL(n.partList,e,t):null}function OL(n,e,t){if(n)for(let r=n.length;r--;){const i=n[r];if(i.index===t&&i.fragment.sn===e)return i}return null}function kL(n){n.forEach((e,t)=>{var r;(r=e.details)==null||r.fragments.forEach(i=>{i.level=t,i.initSegment&&(i.initSegment.level=t)})})}function iu(n,e){for(let r=0,i=n.length;r<i;r++){var t;if(((t=n[r])==null?void 0:t.cc)===e)return n[r]}return null}function AG(n,e){return!!(n&&e.startCC<n.endCC&&e.endCC>n.startCC)}function KA(n,e){if(n){const t=n.start+e;n.start=n.startPTS=t,n.endPTS=t+n.duration}}function ML(n,e){const t=e.fragments;for(let r=0,i=t.length;r<i;r++)KA(t[r],n);e.fragmentHint&&KA(e.fragmentHint,n),e.alignedSliding=!0}function CG(n,e){n&&(NL(e,n),!e.alignedSliding&&n&&Th(e,n),!e.alignedSliding&&n&&!e.skippedSegments&&DL(n,e,!1))}function NL(n,e){if(!AG(e,n))return;const t=Math.min(e.endCC,n.endCC),r=iu(e.fragments,t),i=iu(n.fragments,t);if(!r||!i)return;wt.log(`Aligning playlist at start of dicontinuity sequence ${t}`);const s=r.start-i.start;ML(s,n)}function Th(n,e){if(!n.hasProgramDateTime||!e.hasProgramDateTime)return;const t=n.fragments,r=e.fragments;if(!t.length||!r.length)return;let i,s;const o=Math.min(e.endCC,n.endCC);e.startCC<o&&n.startCC<o&&(i=iu(r,o),s=iu(t,o)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=iu(t,i.cc)||t[Math.floor(t.length/2)]);const c=i.programDateTime,d=s.programDateTime;if(!c||!d)return;const u=(d-c)/1e3-(s.start-i.start);ML(u,n)}const RG={toString:function(n){let e="";const t=n.length;for(let r=0;r<t;r++)e+=`[${n.start(r).toFixed(3)}-${n.end(r).toFixed(3)}]`;return e}},ge={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class Gv extends TL{constructor(e,t,r,i,s){super(i,e.logger),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=ge.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.loadingParts=!1,this.loopSn=void 0,this.onMediaSeeking=()=>{const{config:o,fragCurrent:c,media:d,mediaBuffer:u,state:h}=this,p=d?d.currentTime:0,g=lt.bufferInfo(u||d,p,o.maxBufferHole),v=!g.len;if(this.log(`Media seeking to ${_e(p)?p.toFixed(3):p}, state: ${h}, ${v?"out of":"in"} buffer`),this.state===ge.ENDED)this.resetLoadingState();else if(c){const y=o.maxFragLookUpTolerance,x=c.start-y,S=c.start+c.duration+y;if(v||S<g.start||x>g.end){const E=p>S;(p<x||E)&&(E&&c.loader&&(this.log(`Cancelling fragment load for seek (sn: ${c.sn})`),c.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}if(d){this.fragmentTracker.removeFragmentsInRange(p,1/0,this.playlistType,!0);const y=this.lastCurrentTime;if(p>y&&(this.lastCurrentTime=p),!this.loadingParts){const x=Math.max(g.end,p),S=this.shouldLoadParts(this.getLevelDetails(),x);S&&(this.log(`LL-Part loading ON after seeking to ${p.toFixed(2)} with buffer @${x.toFixed(2)}`),this.loadingParts=S)}}this.hls.hasEnoughToStart||(this.log(`Setting ${v?"startPosition":"nextLoadPosition"} to ${p} for seek without enough to start`),this.nextLoadPosition=p,v&&(this.startPosition=p)),this.tickImmediate()},this.onMediaEnded=()=>{this.log("setting startPosition to 0 because media ended"),this.startPosition=this.lastCurrentTime=0},this.playlistType=s,this.hls=e,this.fragmentLoader=new Jz(e.config),this.keyLoader=r,this.fragmentTracker=t,this.config=e.config,this.decrypter=new Uv(e.config)}registerListeners(){const{hls:e}=this;e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(O.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(O.ERROR,this.onError,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){if(this.state===ge.STOPPED)return;this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=ge.STOPPED}get startPositionValue(){const{nextLoadPosition:e,startPosition:t}=this;return t===-1&&e?e:t}get bufferingEnabled(){return this.buffering}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}get inFlightFrag(){return{frag:this.fragCurrent,state:this.state}}_streamEnded(e,t){if(t.live||!this.media)return!1;const r=e.end||0,i=this.config.timelineOffset||0;if(r<=i)return!1;const s=e.buffered;this.config.maxBufferHole&&s&&s.length>1&&(e=lt.bufferedInfo(s,e.start,0));const o=e.nextStart;if(o&&o>i&&o<t.edge||this.media.currentTime<e.start)return!1;const d=t.partList;if(d!=null&&d.length){const h=d[d.length-1];return lt.isBuffered(this.media,h.start+h.duration/2)}const u=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(u)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}get timelineOffset(){const e=this.config.timelineOffset;if(e){var t;return((t=this.getLevelDetails())==null?void 0:t.appliedTimelineOffset)||e}return 0}onMediaAttached(e,t){const r=this.media=this.mediaBuffer=t.media;r.removeEventListener("seeking",this.onMediaSeeking),r.removeEventListener("ended",this.onMediaEnded),r.addEventListener("seeking",this.onMediaSeeking),r.addEventListener("ended",this.onMediaEnded);const i=this.config;this.levels&&i.autoStartLoad&&this.state===ge.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(e,t){const r=!!t.transferMedia,i=this.media;if(i!==null){if(i.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),i.removeEventListener("seeking",this.onMediaSeeking),i.removeEventListener("ended",this.onMediaEnded),this.keyLoader&&!r&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loopSn=void 0,r){this.resetLoadingState(),this.resetTransmuxer();return}this.loadingParts=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}}onManifestLoading(){this.initPTS=[],this.levels=this.levelLastLoaded=this.fragCurrent=null,this.lastCurrentTime=this.startPosition=0,this.startFragRequested=!1}onError(e,t){}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset}onHandlerDestroying(){this.stopLoad(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),super.onHandlerDestroying(),this.hls=this.onMediaSeeking=this.onMediaEnded=null}onHandlerDestroyed(){this.state=ge.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,r){this.startFragRequested=!0,this._loadFragForPlayback(e,t,r)}_loadFragForPlayback(e,t,r){const i=s=>{const o=s.frag;if(this.fragContextChanged(o)){this.warn(`${o.type} sn: ${o.sn}${s.part?" part: "+s.part.index:""} of ${this.fragInfo(o,!1,s.part)}) was dropped during download.`),this.fragmentTracker.removeFragment(o);return}o.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,t,r,i).then(s=>{if(!s)return;const o=this.state,c=s.frag;if(this.fragContextChanged(c)){(o===ge.FRAG_LOADING||!this.fragCurrent&&o===ge.PARSING)&&(this.fragmentTracker.removeFragment(c),this.state=ge.IDLE);return}"payload"in s&&(this.log(`Loaded ${c.type} sn: ${c.sn} of ${this.playlistLabel()} ${c.level}`),this.hls.trigger(O.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===ge.STOPPED||this.state===ge.ERROR||(this.warn(`Frag error: ${s?.message||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:r}=this;if(r.getState(e)===Ln.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),c=Math.max(e.duration,o?o.len:this.config.maxBufferLength),d=this.backtrackFragment;((d?e.sn-d.sn:0)===1||this.reduceMaxBufferLength(c,e.duration))&&r.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===Ln.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}waitForLive(e){const t=e.details;return t?.live&&t.type!=="EVENT"&&(this.levelLastLoaded!==e||t.expired)}flushMainBuffer(e,t,r=null){if(!(e-t))return;const i={startOffset:e,endOffset:t,type:r};this.hls.trigger(O.BUFFER_FLUSHING,i)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(r=>{const i=r?.frag;if(!i||this.fragContextChanged(i)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{frag:s,payload:o}=r,c=s.decryptdata;if(o&&o.byteLength>0&&c!=null&&c.key&&c.iv&&ol(c.method)){const d=self.performance.now();return this.decrypter.decrypt(new Uint8Array(o),c.key.buffer,c.iv.buffer,zv(c.method)).catch(u=>{throw i.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_DECRYPT_ERROR,fatal:!1,error:u,reason:u.message,frag:s}),u}).then(u=>{const h=self.performance.now();return i.trigger(O.FRAG_DECRYPTED,{frag:s,payload:u,stats:{tstart:d,tdecrypt:h}}),r.payload=u,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===ge.STOPPED||this.state===ge.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state!==ge.STOPPED&&(this.state=ge.IDLE),e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){const r=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)} > buffer:${r?RG.toString(lt.getBuffered(r)):"(detached)"})`),Cn(e)){var i;if(e.type!==Ne.SUBTITLE){const o=e.elementaryStreams;if(!Object.keys(o).some(c=>!!o[c])){this.state=ge.IDLE;return}}const s=(i=this.levels)==null?void 0:i[e.level];s!=null&&s.fragmentError&&(this.log(`Resetting level fragment error count of ${s.fragmentError} on frag buffered`),s.fragmentError=0)}this.state=ge.IDLE}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(d=>!d),c=new jv(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);t.flush(c)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,r=null,i){var s;this.fragCurrent=e;const o=t?.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let c=null;e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.playlistLabel()} ${e.level}`),this.state=ge.KEY_LOADING,this.fragCurrent=e,c=this.keyLoader.load(e).then(p=>{if(!this.fragContextChanged(p.frag))return this.hls.trigger(O.KEY_LOADED,p),this.state===ge.KEY_LOADING&&(this.state=ge.IDLE),p}),this.hls.trigger(O.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(c=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):e.encrypted||(c=this.keyLoader.loadClear(e,o.encryptedFragments,this.startFragRequested),c&&this.log("[eme] blocking frag load until media-keys acquired"));const d=this.fragPrevious;if(Cn(e)&&(!d||e.sn!==d.sn)){const p=this.shouldLoadParts(t.details,e.end);p!==this.loadingParts&&(this.log(`LL-Part loading ${p?"ON":"OFF"} loading sn ${d?.sn}->${e.sn}`),this.loadingParts=p)}if(r=Math.max(e.start,r||0),this.loadingParts&&Cn(e)){const p=o.partList;if(p&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const g=this.getNextPart(p,e,r);if(g>-1){const v=p[g];e=this.fragCurrent=v.fragment,this.log(`Loading ${e.type} sn: ${e.sn} part: ${v.index} (${g}/${p.length-1}) of ${this.fragInfo(e,!1,v)}) cc: ${e.cc} [${o.startSN}-${o.endSN}], target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=v.start+v.duration,this.state=ge.FRAG_LOADING;let y;return c?y=c.then(x=>!x||this.fragContextChanged(x.frag)?null:this.doFragPartsLoad(e,v,t,i)).catch(x=>this.handleFragLoadError(x)):y=this.doFragPartsLoad(e,v,t,i).catch(x=>this.handleFragLoadError(x)),this.hls.trigger(O.FRAG_LOADING,{frag:e,part:v,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):y}else if(!e.url||this.loadedEndOfParts(p,r))return Promise.resolve(null)}}if(Cn(e)&&this.loadingParts)this.log(`LL-Part loading OFF after next part miss @${r.toFixed(2)}`),this.loadingParts=!1;else if(!e.url)return Promise.resolve(null);this.log(`Loading ${e.type} sn: ${e.sn} of ${this.fragInfo(e,!1)}) cc: ${e.cc} ${o?"["+o.startSN+"-"+o.endSN+"]":""}, target: ${parseFloat(r.toFixed(3))}`),_e(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=ge.FRAG_LOADING;const u=this.config.progressive;let h;return u&&c?h=c.then(p=>!p||this.fragContextChanged(p?.frag)?null:this.fragmentLoader.load(e,i)).catch(p=>this.handleFragLoadError(p)):h=Promise.all([this.fragmentLoader.load(e,u?i:void 0),c]).then(([p])=>(!u&&p&&i&&i(p),p)).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(O.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}doFragPartsLoad(e,t,r,i){return new Promise((s,o)=>{var c;const d=[],u=(c=r.details)==null?void 0:c.partList,h=p=>{this.fragmentLoader.loadPart(e,p,i).then(g=>{d[p.index]=g;const v=g.part;this.hls.trigger(O.FRAG_LOADED,g);const y=VA(r.details,e.sn,p.index+1)||OL(u,e.sn,p.index+1);if(y)h(y);else return s({frag:e,part:v,partsLoaded:d})}).catch(o)};h(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===re.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(O.ERROR,t)}else this.hls.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==ge.PARSING){!this.fragCurrent&&this.state!==ge.STOPPED&&this.state!==ge.ERROR&&(this.state=ge.IDLE);return}const{frag:r,part:i,level:s}=t,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o);const c=this.getLevelDetails(),u=c&&r.sn>c.endSN||this.shouldLoadParts(c,r.end);u!==this.loadingParts&&(this.log(`LL-Part loading ${u?"ON":"OFF"} after parsing segment ending @${r.end.toFixed(2)}`),this.loadingParts=u),this.updateLevelTiming(r,i,s,e.partial)}shouldLoadParts(e,t){if(this.config.lowLatencyMode){if(!e)return this.loadingParts;if(e!=null&&e.partList){var r;const s=e.partList[0],o=s.end+(((r=e.fragmentHint)==null?void 0:r.duration)||0);if(t>=o){var i;if((this.hls.hasEnoughToStart?((i=this.media)==null?void 0:i.currentTime)||this.lastCurrentTime:this.getLoadPosition())>s.start-s.fragment.duration)return!0}}}return!1}getCurrentContext(e){const{levels:t,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(t!=null&&t[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of ${this.playlistLabel()} ${i}. The current chunk will not be buffered.`),null;const c=t[i],d=c.details,u=o>-1?VA(d,s,o):null,h=u?u.fragment:_L(d,s,r);return h?(r&&r!==h&&(h.stats=r.stats),{frag:h,part:u,level:c}):null}bufferFragmentData(e,t,r,i,s){var o;if(!e||this.state!==ge.PARSING)return;const{data1:c,data2:d}=e;let u=c;if(c&&d&&(u=Yr(c,d)),!((o=u)!=null&&o.length))return;const h=this.initPTS[t.cc],p=h?-h.baseTime/h.timescale:void 0,g={type:e.type,frag:t,part:r,chunkMeta:i,offset:p,parent:t.type,data:u};if(this.hls.trigger(O.BUFFER_APPENDING,g),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!lt.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const r=t.currentTime,i=lt.bufferInfo(t,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),c=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-c>o&&this.flushMainBuffer(c,e.start)}getFwdBufferInfo(e,t){var r;const i=this.getLoadPosition();if(!_e(i))return null;const o=this.lastCurrentTime>i||(r=this.media)!=null&&r.paused?0:this.config.maxBufferHole;return this.getFwdBufferInfoAtPos(e,i,t,o)}getFwdBufferInfoAtPos(e,t,r,i){const s=lt.bufferInfo(e,t,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(t,r);if(o&&(s.nextStart<=o.end||o.gap)){const c=Math.max(Math.min(s.nextStart,o.end)-t,i);return lt.bufferInfo(e,t,c)}}return s}getMaxBufferLength(e){const{config:t}=this;let r;return e?r=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):r=t.maxBufferLength,Math.min(r,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const r=this.config,i=Math.max(Math.min(e-t,r.maxBufferLength),t),s=Math.max(e-t*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,t=Ne.MAIN){var r;const i=(r=this.fragmentTracker)==null?void 0:r.getAppendedFrag(e,t);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,t){const r=t.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start,c=s.lowLatencyMode&&!!t.partList;let d=null;if(t.live){const p=s.initialLiveManifestSize;if(i<p)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${p})`),null;if(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o){var u;c&&!this.loadingParts&&(this.log("LL-Part loading ON for initial live fragment"),this.loadingParts=!0),d=this.getInitialLiveFragment(t);const g=this.hls.startPosition,v=this.hls.liveSyncPosition,y=d?(g!==-1&&g>=o?g:v)||d.start:e;this.log(`Setting startPosition to ${y} to match start frag at live edge. mainStart: ${g} liveSyncPosition: ${v} frag.start: ${(u=d)==null?void 0:u.start}`),this.startPosition=this.nextLoadPosition=y}}else e<=o&&(d=r[0]);if(!d){const p=this.loadingParts?t.partEnd:t.fragmentEnd;d=this.getFragmentAtPosition(e,p,t)}let h=this.filterReplacedPrimary(d,t);if(!h&&d){const p=d.sn-t.startSN;h=this.filterReplacedPrimary(r[p+1]||null,t)}return this.mapToInitFragWhenRequired(h)}isLoopLoading(e,t){const r=this.fragmentTracker.getState(e);return(r===Ln.OK||r===Ln.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,r,i,s){let o=null;if(e.gap&&(o=this.getNextFragment(this.nextLoadPosition,t),o&&!o.gap&&r.nextStart)){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i,0);if(c!==null&&r.len+c.len>=s){const d=o.sn;return this.loopSn!==d&&(this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${d}`),this.loopSn=d),null}}return this.loopSn=void 0,o}get primaryPrefetch(){if(WA(this.hls.config)){var e,t;if((e=this.hls.interstitialsManager)==null||(t=e.playingItem)==null?void 0:t.event)return!0}return!1}filterReplacedPrimary(e,t){if(!e)return e;if(WA(this.hls.config)&&e.type!==Ne.SUBTITLE){const r=this.hls.interstitialsManager,i=r?.bufferingItem;if(i){const o=i.event;if(o){if(o.appendInPlace||Math.abs(e.start-i.start)>1||i.start===0)return null}else if(e.end<=i.start&&t?.live===!1||e.start>i.end&&i.nextEvent&&(i.nextEvent.appendInPlace||e.start-i.end>1))return null}const s=r?.playerQueue;if(s)for(let o=s.length;o--;){const c=s[o].interstitial;if(c.appendInPlace&&e.start>=c.startTime&&e.end<=c.resumeTime)return null}}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,r){let i=-1,s=!1,o=!0;for(let c=0,d=e.length;c<d;c++){const u=e[c];if(o=o&&!u.independent,i>-1&&r<u.start)break;const h=u.loaded;h?i=-1:(s||u.independent||o)&&u.fragment===t&&(i=c),s=h}return i}loadedEndOfParts(e,t){const r=e[e.length-1];return r&&t>r.start&&r.loaded}getInitialLiveFragment(e){const t=e.fragments,r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=jz(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=t[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=EL(e,r.cc,r.end),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,t,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:c}=r;const{fragmentHint:d}=r,{maxFragLookUpTolerance:u}=i,h=r.partList,p=!!(this.loadingParts&&h!=null&&h.length&&d);p&&d&&!this.bitrateTest&&h[h.length-1].fragment.sn===d.sn&&(o=o.concat(d),c=d.sn);let g;if(e<t){var v;const x=e<this.lastCurrentTime||e>t-u||(v=this.media)!=null&&v.paused||!this.startFragRequested?0:u;g=Qa(s,o,e,x)}else g=o[o.length-1];if(g){const y=g.sn-r.startSN,x=this.fragmentTracker.getState(g);if((x===Ln.OK||x===Ln.PARTIAL&&g.gap)&&(s=g),s&&g.sn===s.sn&&(!p||h[0].fragment.sn>g.sn||!r.live&&!p)&&s&&g.level===s.level){const E=o[y+1];g.sn<c&&this.fragmentTracker.getState(E)!==Ln.OK?g=E:g=null}}return g}alignPlaylists(e,t,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragmentStart,o=!t,c=e.alignedSliding&&_e(s);if(o||!c&&!s){CG(r,e);const d=e.fragmentStart;return this.log(`Live playlist sliding: ${d.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} fragments: ${i}`),d}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let r=this.startPosition;r<t&&(r=-1);const i=this.timelineOffset;if(r===-1){const s=this.startTimeOffset!==null,o=s?this.startTimeOffset:e.startTimeOffset;o!==null&&_e(o)?(r=t+o,o<0&&(r+=e.edge),r=Math.min(Math.max(t,r),t+e.totalduration),this.log(`Setting startPosition to ${r} for start time offset ${o} found in ${s?"multivariant":"media"} playlist`),this.startPosition=r):e.live?(r=this.hls.liveSyncPosition||t,this.log(`Setting startPosition to -1 to start at live edge ${r}`),this.startPosition=-1):(this.log("setting startPosition to 0 by default"),this.startPosition=r=0),this.lastCurrentTime=r+i}this.nextLoadPosition=r+i}getLoadPosition(){var e;const{media:t}=this;let r=0;return(e=this.hls)!=null&&e.hasEnoughToStart&&t?r=t.currentTime:this.nextLoadPosition>=0&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,t){this.transmuxer&&e.type===this.playlistType&&Cn(e)&&e.stats.aborted&&(this.log(`Fragment ${e.sn}${t?" part "+t.index:""} of ${this.playlistLabel()} ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==ge.FRAG_LOADING_WAITING_RETRY)&&(this.state=ge.IDLE)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const y=this.getCurrentContext(t.chunkMeta);y&&(t.frag=y.frag)}const r=t.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=t.details===re.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=t.errorAction,{action:c,flags:d,retryCount:u=0,retryConfig:h}=o||{},p=!!o&&!!h,g=p&&c===Kn.RetryRequest,v=p&&!o.resolved&&d===ii.MoveAllAlternatesMatchingHost;if(!g&&v&&Cn(r)&&!r.endList)this.resetFragmentErrors(e),this.treatAsGap(r),o.resolved=!0;else if((g||v)&&u<h.maxNumRetry){this.resetStartWhenNotLoaded(this.levelLastLoaded);const y=Fv(h,u);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${t.details}, retrying loading ${u+1}/${h.maxNumRetry} in ${y}ms`),o.resolved=!0,this.retryDate=self.performance.now()+y,this.state=ge.FRAG_LOADING_WAITING_RETRY}else if(h&&o)if(this.resetFragmentErrors(e),u<h.maxNumRetry)!s&&c!==Kn.RemoveAlternatePermanently&&(o.resolved=!0);else{this.warn(`${t.details} reached or exceeded max retry (${u})`);return}else c===Kn.SendAlternateToPenaltyBox?this.state=ge.WAITING_LEVEL:this.state=ge.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===ge.PARSING||this.state===ge.PARSED){const t=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,t?.duration||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===Ne.AUDIO&&(this.fragCurrent=null),this.hls.hasEnoughToStart||(this.startFragRequested=!1),this.state!==ge.STOPPED&&(this.state=ge.IDLE)}afterBufferFlushed(e,t,r){if(!e)return;const i=lt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,i,r),this.state===ge.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state!==ge.STOPPED&&(this.state=ge.IDLE)}resetStartWhenNotLoaded(e){if(!this.hls.hasEnoughToStart){this.startFragRequested=!1;const t=e?e.details:null;t!=null&&t.live?(this.log("resetting startPosition for live start"),this.startPosition=-1,this.setStartPosition(t,t.fragmentStart),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of ${this.playlistLabel()} ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,r,i){const s=r.details;if(!s){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((d,u)=>{const h=e.elementaryStreams[u];if(h){const p=h.endPTS-h.startPTS;if(p<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${p})`),d||!1;const g=i?0:IL(s,e,h.startPTS,h.endPTS,h.startDTS,h.endDTS);return this.hls.trigger(O.LEVEL_PTS_UPDATED,{details:s,level:r,drift:g,type:u,frag:e,start:h.startPTS,end:h.endPTS}),!0}return d},!1)){var c;if(r.fragmentError===0&&this.treatAsGap(e,r),((c=this.transmuxer)==null?void 0:c.error)===null){const d=new Error(`Found no media in fragment ${e.sn} of ${this.playlistLabel()} ${e.level} resetting transmuxer to fallback to playlist timing`);if(this.warn(d.message),this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_PARSING_ERROR,fatal:!1,error:d,frag:e,reason:`Found no media in msn ${e.sn} of ${this.playlistLabel()} "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}}this.state=ge.PARSED,this.log(`Parsed ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.fragInfo(e,!1,t)})`),this.hls.trigger(O.FRAG_PARSED,{frag:e,part:t})}playlistLabel(){return this.playlistType===Ne.MAIN?"level":"track"}fragInfo(e,t=!0,r){var i,s;return`${this.playlistLabel()} ${e.level} (${r?"part":"frag"}:[${((i=t&&!r?e.startPTS:(r||e).start)!=null?i:NaN).toFixed(3)}-${((s=t&&!r?e.endPTS:(r||e).end)!=null?s:NaN).toFixed(3)}]${r&&e.type==="main"?"INDEPENDENT="+(r.independent?"YES":"NO"):""}`}treatAsGap(e,t){t&&t.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)}resetTransmuxer(){var e;(e=this.transmuxer)==null||e.reset()}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}function WA(n){return!!n.interstitialsController&&n.enableInterstitialPlayback!==!1}class BL{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let r;if(e.length)e.length===1?r=e[0]:r=wG(e,t);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function wG(n,e){const t=new Uint8Array(e);let r=0;for(let i=0;i<n.length;i++){const s=n[i];t.set(s,r),r+=s.length}return t}var u0={exports:{}},qA;function LG(){return qA||(qA=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,u,h){this.fn=d,this.context=u,this.once=h||!1}function s(d,u,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var v=new i(h,p||d,g),y=t?t+u:u;return d._events[y]?d._events[y].fn?d._events[y]=[d._events[y],v]:d._events[y].push(v):(d._events[y]=v,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new r:delete d._events[u]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)e.call(h,p)&&u.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},c.prototype.listeners=function(u){var h=t?t+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,y=new Array(v);g<v;g++)y[g]=p[g].fn;return y},c.prototype.listenerCount=function(u){var h=t?t+u:u,p=this._events[h];return p?p.fn?1:p.length:0},c.prototype.emit=function(u,h,p,g,v,y){var x=t?t+u:u;if(!this._events[x])return!1;var S=this._events[x],E=arguments.length,R,A;if(S.fn){switch(S.once&&this.removeListener(u,S.fn,void 0,!0),E){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,g),!0;case 5:return S.fn.call(S.context,h,p,g,v),!0;case 6:return S.fn.call(S.context,h,p,g,v,y),!0}for(A=1,R=new Array(E-1);A<E;A++)R[A-1]=arguments[A];S.fn.apply(S.context,R)}else{var L=S.length,I;for(A=0;A<L;A++)switch(S[A].once&&this.removeListener(u,S[A].fn,void 0,!0),E){case 1:S[A].fn.call(S[A].context);break;case 2:S[A].fn.call(S[A].context,h);break;case 3:S[A].fn.call(S[A].context,h,p);break;case 4:S[A].fn.call(S[A].context,h,p,g);break;default:if(!R)for(I=1,R=new Array(E-1);I<E;I++)R[I-1]=arguments[I];S[A].fn.apply(S[A].context,R)}}return!0},c.prototype.on=function(u,h,p){return s(this,u,h,p,!1)},c.prototype.once=function(u,h,p){return s(this,u,h,p,!0)},c.prototype.removeListener=function(u,h,p,g){var v=t?t+u:u;if(!this._events[v])return this;if(!h)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===h&&(!g||y.once)&&(!p||y.context===p)&&o(this,v);else{for(var x=0,S=[],E=y.length;x<E;x++)(y[x].fn!==h||g&&!y[x].once||p&&y[x].context!==p)&&S.push(y[x]);S.length?this._events[v]=S.length===1?S[0]:S:o(this,v)}return this},c.prototype.removeAllListeners=function(u){var h;return u?(h=t?t+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c}(u0)),u0.exports}var IG=LG(),Hv=rz(IG);const Su="1.6.7",bl={};function DG(){return typeof __HLS_WORKER_BUNDLE__=="function"}function PG(){const n=bl[Su];if(n)return n.clientCount++,n;const e=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),t=self.URL.createObjectURL(e),i={worker:new self.Worker(t),objectURL:t,clientCount:1};return bl[Su]=i,i}function _G(n){const e=bl[n];if(e)return e.clientCount++,e;const t=new self.URL(n,self.location.href).href,i={worker:new self.Worker(t),scriptURL:t,clientCount:1};return bl[n]=i,i}function OG(n){const e=bl[n||Su];if(e&&e.clientCount--===1){const{worker:r,objectURL:i}=e;delete bl[n||Su],i&&self.URL.revokeObjectURL(i),r.terminate()}}function $L(n,e){return e+10<=n.length&&n[e]===51&&n[e+1]===68&&n[e+2]===73&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128}function Vv(n,e){return e+10<=n.length&&n[e]===73&&n[e+1]===68&&n[e+2]===51&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128}function hp(n,e){let t=0;return t=(n[e]&127)<<21,t|=(n[e+1]&127)<<14,t|=(n[e+2]&127)<<7,t|=n[e+3]&127,t}function Eu(n,e){const t=e;let r=0;for(;Vv(n,e);){r+=10;const i=hp(n,e+6);r+=i,$L(n,e+10)&&(r+=10),e+=r}if(r>0)return n.subarray(t,t+r)}function kG(n,e,t,r){const i=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s=e[t+2],o=s>>2&15;if(o>12){const v=new Error(`invalid ADTS sampling index:${o}`);n.emit(O.ERROR,O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_PARSING_ERROR,fatal:!0,error:v,reason:v.message});return}const c=(s>>6&3)+1,d=e[t+3]>>6&3|(s&1)<<2,u="mp4a.40."+c,h=i[o];let p=o;(c===5||c===29)&&(p-=3);const g=[c<<3|(p&14)>>1,(p&1)<<7|d<<3];return wt.log(`manifest codec:${r}, parsed codec:${u}, channels:${d}, rate:${h} (ADTS object type:${c} sampling index:${o})`),{config:g,samplerate:h,channelCount:d,codec:u,parsedCodec:u,manifestCodec:r}}function FL(n,e){return n[e]===255&&(n[e+1]&246)===240}function UL(n,e){return n[e+1]&1?7:9}function Kv(n,e){return(n[e+3]&3)<<11|n[e+4]<<3|(n[e+5]&224)>>>5}function MG(n,e){return e+5<n.length}function Ah(n,e){return e+1<n.length&&FL(n,e)}function NG(n,e){return MG(n,e)&&FL(n,e)&&Kv(n,e)<=n.length-e}function BG(n,e){if(Ah(n,e)){const t=UL(n,e);if(e+t>=n.length)return!1;const r=Kv(n,e);if(r<=t)return!1;const i=e+r;return i===n.length||Ah(n,i)}return!1}function jL(n,e,t,r,i){if(!n.samplerate){const s=kG(e,t,r,i);if(!s)return;Mt(n,s)}}function zL(n){return 1024*9e4/n}function $G(n,e){const t=UL(n,e);if(e+t<=n.length){const r=Kv(n,e)-t;if(r>0)return{headerLength:t,frameLength:r}}}function GL(n,e,t,r,i){const s=zL(n.samplerate),o=r+i*s,c=$G(e,t);let d;if(c){const{frameLength:p,headerLength:g}=c,v=g+p,y=Math.max(0,t+v-e.length);y?(d=new Uint8Array(v-g),d.set(e.subarray(t+g,e.length),0)):d=e.subarray(t+g,t+v);const x={unit:d,pts:o};return y||n.samples.push(x),{sample:x,length:v,missing:y}}const u=e.length-t;return d=new Uint8Array(u),d.set(e.subarray(t,e.length),0),{sample:{unit:d,pts:o},length:u,missing:-1}}function FG(n,e){return Vv(n,e)&&hp(n,e+6)+10<=n.length-e}function UG(n){return n instanceof ArrayBuffer?n:n.byteOffset==0&&n.byteLength==n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer}function d0(n,e=0,t=1/0){return jG(n,e,t,Uint8Array)}function jG(n,e,t,r){const i=zG(n);let s=1;"BYTES_PER_ELEMENT"in r&&(s=r.BYTES_PER_ELEMENT);const o=GG(n)?n.byteOffset:0,c=(o+n.byteLength)/s,d=(o+e)/s,u=Math.floor(Math.max(0,Math.min(d,c))),h=Math.floor(Math.min(u+Math.max(t,0),c));return new r(i,u,h-u)}function zG(n){return n instanceof ArrayBuffer?n:n.buffer}function GG(n){return n&&n.buffer instanceof ArrayBuffer&&n.byteLength!==void 0&&n.byteOffset!==void 0}function HG(n){const e={key:n.type,description:"",data:"",mimeType:null,pictureType:null},t=3;if(n.size<2)return;if(n.data[0]!==t){console.log("Ignore frame with unrecognized character encoding");return}const r=n.data.subarray(1).indexOf(0);if(r===-1)return;const i=wr(d0(n.data,1,r)),s=n.data[2+r],o=n.data.subarray(3+r).indexOf(0);if(o===-1)return;const c=wr(d0(n.data,3+r,o));let d;return i==="-->"?d=wr(d0(n.data,4+r+o)):d=UG(n.data.subarray(4+r+o)),e.mimeType=i,e.pictureType=s,e.description=c,e.data=d,e}function VG(n){if(n.size<2)return;const e=wr(n.data,!0),t=new Uint8Array(n.data.subarray(e.length+1));return{key:n.type,info:e,data:t.buffer}}function KG(n){if(n.size<2)return;if(n.type==="TXXX"){let t=1;const r=wr(n.data.subarray(t),!0);t+=r.length+1;const i=wr(n.data.subarray(t));return{key:n.type,info:r,data:i}}const e=wr(n.data.subarray(1));return{key:n.type,info:"",data:e}}function WG(n){if(n.type==="WXXX"){if(n.size<2)return;let t=1;const r=wr(n.data.subarray(t),!0);t+=r.length+1;const i=wr(n.data.subarray(t));return{key:n.type,info:r,data:i}}const e=wr(n.data);return{key:n.type,info:"",data:e}}function qG(n){return n.type==="PRIV"?VG(n):n.type[0]==="W"?WG(n):n.type==="APIC"?HG(n):KG(n)}function YG(n){const e=String.fromCharCode(n[0],n[1],n[2],n[3]),t=hp(n,4),r=10;return{type:e,size:t,data:n.subarray(r,r+t)}}const bf=10,XG=10;function HL(n){let e=0;const t=[];for(;Vv(n,e);){const r=hp(n,e+6);n[e+5]>>6&1&&(e+=bf),e+=bf;const i=e+r;for(;e+XG<i;){const s=YG(n.subarray(e)),o=qG(s);o&&t.push(o),e+=s.size+bf}$L(n,e)&&(e+=bf)}return t}function VL(n){return n&&n.key==="PRIV"&&n.info==="com.apple.streaming.transportStreamTimestamp"}function QG(n){if(n.data.byteLength===8){const e=new Uint8Array(n.data),t=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,t&&(r+=4772185884e-2),Math.round(r)}}function Wv(n){const e=HL(n);for(let t=0;t<e.length;t++){const r=e[t];if(VL(r))return QG(r)}}let Tr=function(n){return n.audioId3="org.id3",n.dateRange="com.apple.quicktime.HLS",n.emsg="https://aomedia.org/emsg/ID3",n.misbklv="urn:misb:KLV:bin:1910.1",n}({});function Di(n="",e=9e4){return{type:n,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class qv{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,r){}demux(e,t){this.cachedData&&(e=Yr(this.cachedData,e),this.cachedData=null);let r=Eu(e,0),i=r?r.length:0,s;const o=this._audioTrack,c=this._id3Track,d=r?Wv(r):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&_e(d))&&(this.basePTS=ZG(d,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Tr.audioId3,duration:Number.POSITIVE_INFINITY});i<u;){if(this.canParse(e,i)){const h=this.appendFrame(o,e,i);h?(this.frameIndex++,this.lastPTS=h.sample.pts,i+=h.length,s=i):i=u}else FG(e,i)?(r=Eu(e,i),c.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:Tr.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===u&&s!==u){const h=e.slice(s);this.cachedData?this.cachedData=Yr(this.cachedData,h):this.cachedData=h}}return{audioTrack:o,videoTrack:Di(),id3Track:c,textTrack:Di()}}demuxSampleAes(e,t,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:Di(),id3Track:this._id3Track,textTrack:Di()}}destroy(){this.cachedData=null,this._audioTrack=this._id3Track=void 0}}const ZG=(n,e,t)=>{if(_e(n))return n*90;const r=t?t.baseTime*9e4/t.timescale:0;return e*9e4+r};let Sf=null;const JG=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],eH=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],tH=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],nH=[0,1,1,4];function KL(n,e,t,r,i){if(t+24>e.length)return;const s=WL(e,t);if(s&&t+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,c=r+i*o,d={unit:e.subarray(t,t+s.frameLength),pts:c,dts:c};return n.config=[],n.channelCount=s.channelCount,n.samplerate=s.sampleRate,n.samples.push(d),{sample:d,length:s.frameLength,missing:0}}}function WL(n,e){const t=n[e+1]>>3&3,r=n[e+1]>>1&3,i=n[e+2]>>4&15,s=n[e+2]>>2&3;if(t!==1&&i!==0&&i!==15&&s!==3){const o=n[e+2]>>1&1,c=n[e+3]>>6,d=t===3?3-r:r===3?3:4,u=JG[d*14+i-1]*1e3,p=eH[(t===3?0:t===2?1:2)*3+s],g=c===3?1:2,v=tH[t][r],y=nH[r],x=v*8*y,S=Math.floor(v*u/p+o)*y;if(Sf===null){const A=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Sf=A?parseInt(A[1]):0}return!!Sf&&Sf<=87&&r===2&&u>=224e3&&c===0&&(n[e+3]=n[e+3]|128),{sampleRate:p,channelCount:g,frameLength:S,samplesPerFrame:x}}}function Yv(n,e){return n[e]===255&&(n[e+1]&224)===224&&(n[e+1]&6)!==0}function qL(n,e){return e+1<n.length&&Yv(n,e)}function rH(n,e){return Yv(n,e)&&4<=n.length-e}function YL(n,e){if(e+1<n.length&&Yv(n,e)){const r=WL(n,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===n.length||qL(n,s)}return!1}class iH extends qv{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,r,i){super.resetInitSegment(e,t,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e,t){if(!e)return!1;const r=Eu(e,0);let i=r?.length||0;if(YL(e,i))return!1;for(let s=e.length;i<s;i++)if(BG(e,i))return t.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return NG(e,t)}appendFrame(e,t,r){jL(e,this.observer,t,r,e.manifestCodec);const i=GL(e,t,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const XL=(n,e)=>{let t=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=n[e];const c=Math.min(r,8),d=8-c;s[0]=4278190080>>>24+d<<d,i[0]=(o[0]&s[0])>>d,t=t?t<<c|i[0]:i[0],e+=1,r-=c}return t};class sH extends qv{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,r,i){super.resetInitSegment(e,t,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,r){const i=QL(e,t,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const t=Eu(e,0);if(!t)return!1;const r=t.length;return e[r]===11&&e[r+1]===119&&Wv(t)!==void 0&&XL(e,r)<16}}function QL(n,e,t,r,i){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const s=e[t+4]>>6;if(s>=3)return-1;const c=[48e3,44100,32e3][s],d=e[t+4]&63,h=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][d*3+s]*2;if(t+h>e.length)return-1;const p=e[t+6]>>5;let g=0;p===2?g+=2:(p&1&&p!==1&&(g+=2),p&4&&(g+=2));const v=(e[t+6]<<8|e[t+7])>>12-g&1,x=[2,1,2,3,3,4,4,5][p]+v,S=e[t+5]>>3,E=e[t+5]&7,R=new Uint8Array([s<<6|S<<1|E>>2,(E&3)<<6|p<<3|v<<2|d>>4,d<<4&224]),A=1536/c*9e4,L=r+i*A,I=e.subarray(t,t+h);return n.config=R,n.channelCount=x,n.samplerate=c,n.samples.push({unit:I,pts:L}),h}class aH extends qv{resetInitSegment(e,t,r,i){super.resetInitSegment(e,t,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=Eu(e,0);let r=t?.length||0;if(t&&e[r]===11&&e[r+1]===119&&Wv(t)!==void 0&&XL(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(YL(e,r))return wt.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return rH(e,t)}appendFrame(e,t,r){if(this.basePTS!==null)return KL(e,t,r,this.basePTS,this.frameIndex)}}const oH=/\/emsg[-/]ID3/i;class lH{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,r,i){const s=this.videoTrack=Di("video",1),o=this.audioTrack=Di("audio",1),c=this.txtTrack=Di("text",1);if(this.id3Track=Di("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const d=hL(e);if(d.video){const{id:u,timescale:h,codec:p,supplemental:g}=d.video;s.id=u,s.timescale=c.timescale=h,s.codec=p,s.supplemental=g}if(d.audio){const{id:u,timescale:h,codec:p}=d.audio;o.id=u,o.timescale=h,o.codec=p}c.id=uL.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return lz(e)}demux(e,t){this.timeOffset=t;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Yr(this.remainderData,e));const c=mz(r);this.remainderData=c.remainder,i.samples=c.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,t);return s.samples=pA(t,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(t,this.timeOffset);return r.samples=pA(e,t),{videoTrack:t,audioTrack:Di(),id3Track:i,textTrack:Di()}}extractID3Track(e,t){const r=this.id3Track;if(e.samples.length){const i=yt(e.samples,["emsg"]);i&&i.forEach(s=>{const o=yz(s);if(oH.test(o.schemeIdUri)){const c=YA(o,t);let d=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;d<=.001&&(d=Number.POSITIVE_INFINITY);const u=o.payload;r.samples.push({data:u,len:u.byteLength,dts:c,pts:c,type:Tr.emsg,duration:d})}else if(this.config.enableEmsgKLVMetadata&&o.schemeIdUri.startsWith("urn:misb:KLV:bin:1910.1")){const c=YA(o,t);r.samples.push({data:o.payload,len:o.payload.byteLength,dts:c,pts:c,type:Tr.misbklv,duration:Number.POSITIVE_INFINITY})}})}return r}demuxSampleAes(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){this.config=null,this.remainderData=null,this.videoTrack=this.audioTrack=this.id3Track=this.txtTrack=void 0}}function YA(n,e){return _e(n.presentationTime)?n.presentationTime/n.timeScale:e+n.presentationTimeDelta/n.timeScale}class cH{constructor(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Uv(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,ra.cbc)}decryptAacSample(e,t,r){const i=e[t].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(c=>{const d=new Uint8Array(c);i.set(d,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,r)})}decryptAacSamples(e,t,r){for(;;t++){if(t>=e.length){r();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(t);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,t){const r=new Uint8Array(t);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,t,r,i,s){const o=pL(s.data),c=this.getAvcEncryptedData(o);this.decryptBuffer(c.buffer).then(d=>{s.data=this.getAvcDecryptedUnit(o,d),this.decrypter.isSync()||this.decryptAvcSamples(e,t,r+1,i)})}decryptAvcSamples(e,t,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length){i();return}const s=e[t].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,t,r,i,o),!this.decrypter.isSync()))return}}}}class ZL{constructor(){this.VideoSample=null}createVideoSample(e,t,r){return{key:e,frame:!1,pts:t,dts:r,units:[],length:0}}getLastNalUnit(e){var t;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(t=r)!=null&&t.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const r=t.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{t.dropped++;return}}t.samples.push(e)}}parseNALu(e,t,r){const i=t.byteLength;let s=e.naluState||0;const o=s,c=[];let d=0,u,h,p,g=-1,v=0;for(s===-1&&(g=0,v=this.getNALuType(t,0),s=0,d=1);d<i;){if(u=t[d++],!s){s=u?0:1;continue}if(s===1){s=u?0:2;continue}if(!u)s=3;else if(u===1){if(h=d-s-1,g>=0){const y={data:t.subarray(g,h),type:v};c.push(y)}else{const y=this.getLastNalUnit(e.samples);y&&(o&&d<=4-o&&y.state&&(y.data=y.data.subarray(0,y.data.byteLength-o)),h>0&&(y.data=Yr(y.data,t.subarray(0,h)),y.state=0))}d<i?(p=this.getNALuType(t,d),g=d,v=p,s=0):s=-1}else s=0}if(g>=0&&s>=0){const y={data:t.subarray(g,i),type:v,state:s};c.push(y)}if(c.length===0){const y=this.getLastNalUnit(e.samples);y&&(y.data=Yr(y.data,t))}return e.naluState=s,c}}class su{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),s=Math.min(4,t);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const r=this.word>>>32-t;if(e>32&&wt.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if((this.word&2147483648>>>e)!==0)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}}class XA extends ZL{parsePES(e,t,r,i){const s=this.parseNALu(e,r.data,i);let o=this.VideoSample,c,d=!1;r.data=null,o&&s.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),s.forEach(u=>{var h,p;switch(u.type){case 1:{let x=!1;c=!0;const S=u.data;if(d&&S.length>4){const E=this.readSliceType(S);(E===2||E===4||E===7||E===9)&&(x=!0)}if(x){var g;(g=o)!=null&&g.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),o.frame=!0,o.key=x;break}case 5:c=!0,(h=o)!=null&&h.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),o.key=!0,o.frame=!0;break;case 6:{c=!0,Nv(u.data,1,r.pts,t.samples);break}case 7:{var v,y;c=!0,d=!0;const x=u.data,S=this.readSPS(x);if(!e.sps||e.width!==S.width||e.height!==S.height||((v=e.pixelRatio)==null?void 0:v[0])!==S.pixelRatio[0]||((y=e.pixelRatio)==null?void 0:y[1])!==S.pixelRatio[1]){e.width=S.width,e.height=S.height,e.pixelRatio=S.pixelRatio,e.sps=[x];const E=x.subarray(1,4);let R="avc1.";for(let A=0;A<3;A++){let L=E[A].toString(16);L.length<2&&(L="0"+L),R+=L}e.codec=R}break}case 8:c=!0,e.pps=[u.data];break;case 9:c=!0,e.audFound=!0,(p=o)!=null&&p.frame&&(this.pushAccessUnit(o,e),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;case 12:c=!0;break;default:c=!1;break}o&&c&&o.units.push(u)}),i&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}getNALuType(e,t){return e[t]&31}readSliceType(e){const t=new su(e);return t.readUByte(),t.readUEG(),t.readUEG()}skipScalingList(e,t){let r=8,i=8,s;for(let o=0;o<e;o++)i!==0&&(s=t.readEG(),i=(r+s+256)%256),r=i===0?r:i}readSPS(e){const t=new su(e);let r=0,i=0,s=0,o=0,c,d,u;const h=t.readUByte.bind(t),p=t.readBits.bind(t),g=t.readUEG.bind(t),v=t.readBoolean.bind(t),y=t.skipBits.bind(t),x=t.skipEG.bind(t),S=t.skipUEG.bind(t),E=this.skipScalingList.bind(this);h();const R=h();if(p(5),y(3),h(),S(),R===100||R===110||R===122||R===244||R===44||R===83||R===86||R===118||R===128){const k=g();if(k===3&&y(1),S(),S(),y(1),v())for(d=k!==3?8:12,u=0;u<d;u++)v()&&(u<6?E(16,t):E(64,t))}S();const A=g();if(A===0)g();else if(A===1)for(y(1),x(),x(),c=g(),u=0;u<c;u++)x();S(),y(1);const L=g(),I=g(),M=p(1);M===0&&y(1),y(1),v()&&(r=g(),i=g(),s=g(),o=g());let P=[1,1];if(v()&&v())switch(h()){case 1:P=[1,1];break;case 2:P=[12,11];break;case 3:P=[10,11];break;case 4:P=[16,11];break;case 5:P=[40,33];break;case 6:P=[24,11];break;case 7:P=[20,11];break;case 8:P=[32,11];break;case 9:P=[80,33];break;case 10:P=[18,11];break;case 11:P=[15,11];break;case 12:P=[64,33];break;case 13:P=[160,99];break;case 14:P=[4,3];break;case 15:P=[3,2];break;case 16:P=[2,1];break;case 255:{P=[h()<<8|h(),h()<<8|h()];break}}return{width:Math.ceil((L+1)*16-r*2-i*2),height:(2-M)*(I+1)*16-(M?2:4)*(s+o),pixelRatio:P}}}class QA extends ZL{constructor(...e){super(...e),this.initVPS=null}parsePES(e,t,r,i){const s=this.parseNALu(e,r.data,i);let o=this.VideoSample,c,d=!1;r.data=null,o&&s.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),s.forEach(u=>{var h,p;switch(u.type){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:o||(o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts)),o.frame=!0,c=!0;break;case 16:case 17:case 18:case 21:if(c=!0,d){var g;(g=o)!=null&&g.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),o.key=!0,o.frame=!0;break;case 19:case 20:c=!0,(h=o)!=null&&h.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),o.key=!0,o.frame=!0;break;case 39:c=!0,Nv(u.data,2,r.pts,t.samples);break;case 32:c=!0,e.vps||(typeof e.params!="object"&&(e.params={}),e.params=Mt(e.params,this.readVPS(u.data)),this.initVPS=u.data),e.vps=[u.data];break;case 33:if(c=!0,d=!0,e.vps!==void 0&&e.vps[0]!==this.initVPS&&e.sps!==void 0&&!this.matchSPS(e.sps[0],u.data)&&(this.initVPS=e.vps[0],e.sps=e.pps=void 0),!e.sps){const v=this.readSPS(u.data);e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.codec=v.codecString,e.sps=[],typeof e.params!="object"&&(e.params={});for(const y in v.params)e.params[y]=v.params[y]}this.pushParameterSet(e.sps,u.data,e.vps),o||(o=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts)),o.key=!0;break;case 34:if(c=!0,typeof e.params=="object"){if(!e.pps){e.pps=[];const v=this.readPPS(u.data);for(const y in v)e.params[y]=v[y]}this.pushParameterSet(e.pps,u.data,e.vps)}break;case 35:c=!0,e.audFound=!0,(p=o)!=null&&p.frame&&(this.pushAccessUnit(o,e),o=null),o||(o=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts));break;default:c=!1;break}o&&c&&o.units.push(u)}),i&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}pushParameterSet(e,t,r){(r&&r[0]===this.initVPS||!r&&!e.length)&&e.push(t)}getNALuType(e,t){return(e[t]&126)>>>1}ebsp2rbsp(e){const t=new Uint8Array(e.byteLength);let r=0;for(let i=0;i<e.byteLength;i++)i>=2&&e[i]===3&&e[i-1]===0&&e[i-2]===0||(t[r]=e[i],r++);return new Uint8Array(t.buffer,0,r)}pushAccessUnit(e,t){super.pushAccessUnit(e,t),this.initVPS&&(this.initVPS=null)}readVPS(e){const t=new su(e);t.readUByte(),t.readUByte(),t.readBits(4),t.skipBits(2),t.readBits(6);const r=t.readBits(3),i=t.readBoolean();return{numTemporalLayers:r+1,temporalIdNested:i}}readSPS(e){const t=new su(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.readBits(4);const r=t.readBits(3);t.readBoolean();const i=t.readBits(2),s=t.readBoolean(),o=t.readBits(5),c=t.readUByte(),d=t.readUByte(),u=t.readUByte(),h=t.readUByte(),p=t.readUByte(),g=t.readUByte(),v=t.readUByte(),y=t.readUByte(),x=t.readUByte(),S=t.readUByte(),E=t.readUByte(),R=[],A=[];for(let Ue=0;Ue<r;Ue++)R.push(t.readBoolean()),A.push(t.readBoolean());if(r>0)for(let Ue=r;Ue<8;Ue++)t.readBits(2);for(let Ue=0;Ue<r;Ue++)R[Ue]&&(t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte(),t.readUByte()),A[Ue]&&t.readUByte();t.readUEG();const L=t.readUEG();L==3&&t.skipBits(1);const I=t.readUEG(),M=t.readUEG(),P=t.readBoolean();let k=0,_=0,w=0,B=0;P&&(k+=t.readUEG(),_+=t.readUEG(),w+=t.readUEG(),B+=t.readUEG());const j=t.readUEG(),z=t.readUEG(),q=t.readUEG(),K=t.readBoolean();for(let Ue=K?0:r;Ue<=r;Ue++)t.skipUEG(),t.skipUEG(),t.skipUEG();if(t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.skipUEG(),t.readBoolean()&&t.readBoolean())for(let Oe=0;Oe<4;Oe++)for(let et=0;et<(Oe===3?2:6);et++)if(!t.readBoolean())t.readUEG();else{const Je=Math.min(64,1<<4+(Oe<<1));Oe>1&&t.readEG();for(let De=0;De<Je;De++)t.readEG()}t.readBoolean(),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.skipUEG(),t.skipUEG(),t.readBoolean());const G=t.readUEG();let Y=0;for(let Ue=0;Ue<G;Ue++){let Oe=!1;if(Ue!==0&&(Oe=t.readBoolean()),Oe){Ue===G&&t.readUEG(),t.readBoolean(),t.readUEG();let et=0;for(let at=0;at<=Y;at++){const Je=t.readBoolean();let De=!1;Je||(De=t.readBoolean()),(Je||De)&&et++}Y=et}else{const et=t.readUEG(),at=t.readUEG();Y=et+at;for(let Je=0;Je<et;Je++)t.readUEG(),t.readBoolean();for(let Je=0;Je<at;Je++)t.readUEG(),t.readBoolean()}}if(t.readBoolean()){const Ue=t.readUEG();for(let Oe=0;Oe<Ue;Oe++){for(let et=0;et<q+4;et++)t.readBits(1);t.readBits(1)}}let H=0,Q=1,ee=1,ce=!0,se=1,V=0;t.readBoolean(),t.readBoolean();let oe=!1;if(t.readBoolean()){if(t.readBoolean()){const Se=t.readUByte(),ht=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],ut=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];Se>0&&Se<16?(Q=ht[Se-1],ee=ut[Se-1]):Se===255&&(Q=t.readBits(16),ee=t.readBits(16))}if(t.readBoolean()&&t.readBoolean(),t.readBoolean()&&(t.readBits(3),t.readBoolean(),t.readBoolean()&&(t.readUByte(),t.readUByte(),t.readUByte())),t.readBoolean()&&(t.readUEG(),t.readUEG()),t.readBoolean(),t.readBoolean(),t.readBoolean(),oe=t.readBoolean(),oe&&(k+=t.readUEG(),_+=t.readUEG(),w+=t.readUEG(),B+=t.readUEG()),t.readBoolean()&&(se=t.readBits(32),V=t.readBits(32),t.readBoolean()&&t.readUEG(),t.readBoolean())){const ut=t.readBoolean(),Ae=t.readBoolean();let be=!1;(ut||Ae)&&(be=t.readBoolean(),be&&(t.readUByte(),t.readBits(5),t.readBoolean(),t.readBits(5)),t.readBits(4),t.readBits(4),be&&t.readBits(4),t.readBits(5),t.readBits(5),t.readBits(5));for(let Ee=0;Ee<=r;Ee++){ce=t.readBoolean();const Ie=ce||t.readBoolean();let Le=!1;Ie?t.readEG():Le=t.readBoolean();const Ye=Le?1:t.readUEG()+1;if(ut)for(let je=0;je<Ye;je++)t.readUEG(),t.readUEG(),be&&(t.readUEG(),t.readUEG()),t.skipBits(1);if(Ae)for(let je=0;je<Ye;je++)t.readUEG(),t.readUEG(),be&&(t.readUEG(),t.readUEG()),t.skipBits(1)}}t.readBoolean()&&(t.readBoolean(),t.readBoolean(),t.readBoolean(),H=t.readUEG())}let we=I,Te=M;if(P||oe){let Ue=1,Oe=1;L===1?Ue=Oe=2:L==2&&(Ue=2),we=I-Ue*_-Ue*k,Te=M-Oe*B-Oe*w}const Pe=i?["A","B","C"][i]:"",ke=c<<24|d<<16|u<<8|h;let Be=0;for(let Ue=0;Ue<32;Ue++)Be=(Be|(ke>>Ue&1)<<31-Ue)>>>0;let Me=Be.toString(16);return o===1&&Me==="2"&&(Me="6"),{codecString:`hvc1.${Pe}${o}.${Me}.${s?"H":"L"}${E}.B0`,params:{general_tier_flag:s,general_profile_idc:o,general_profile_space:i,general_profile_compatibility_flags:[c,d,u,h],general_constraint_indicator_flags:[p,g,v,y,x,S],general_level_idc:E,bit_depth:j+8,bit_depth_luma_minus8:j,bit_depth_chroma_minus8:z,min_spatial_segmentation_idc:H,chroma_format_idc:L,frame_rate:{fixed:ce,fps:V/se}},width:we,height:Te,pixelRatio:[Q,ee]}}readPPS(e){const t=new su(this.ebsp2rbsp(e));t.readUByte(),t.readUByte(),t.skipUEG(),t.skipUEG(),t.skipBits(2),t.skipBits(3),t.skipBits(2),t.skipUEG(),t.skipUEG(),t.skipEG(),t.skipBits(2),t.readBoolean()&&t.skipUEG(),t.skipEG(),t.skipEG(),t.skipBits(4);const i=t.readBoolean(),s=t.readBoolean();let o=1;return s&&i?o=0:s?o=3:i&&(o=2),{parallelismType:o}}matchSPS(e,t){return String.fromCharCode.apply(null,e).substr(3)===String.fromCharCode.apply(null,t).substr(3)}}const On=188;class Ys{constructor(e,t,r,i){this.logger=void 0,this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=r,this.logger=i,this.videoParser=null}static probe(e,t){const r=Ys.syncOffset(e);return r>0&&t.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const t=e.length;let r=Math.min(On*5,t-On)+1,i=0;for(;i<r;){let s=!1,o=-1,c=0;for(let d=i;d<t;d+=On)if(e[d]===71&&(t-d===On||e[d+On]===71)){if(c++,o===-1&&(o=d,o!==0&&(r=Math.min(o+On*99,e.length-On)+1)),s||(s=Ty(e,d)===0),s&&c>1&&(o===0&&c>2||d+On>r))return o}else{if(c)return-1;break}i++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:uL[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Ys.createTrack("video"),this._videoTrack.duration=i,this._audioTrack=Ys.createTrack("audio",i),this._id3Track=Ys.createTrack("id3"),this._txtTrack=Ys.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:r}=this;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._videoTrack,c=this._audioTrack,d=this._id3Track,u=this._txtTrack;let h=o.pid,p=o.pesData,g=c.pid,v=d.pid,y=c.pesData,x=d.pesData,S=null,E=this.pmtParsed,R=this._pmtId,A=e.length;if(this.remainderData&&(e=Yr(this.remainderData,e),A=e.length,this.remainderData=null),A<On&&!i)return this.remainderData=e,{audioTrack:c,videoTrack:o,id3Track:d,textTrack:u};const L=Math.max(0,Ys.syncOffset(e));A-=(A-L)%On,A<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,A,e.buffer.byteLength-A));let I=0;for(let P=L;P<A;P+=On)if(e[P]===71){const k=!!(e[P+1]&64),_=Ty(e,P),w=(e[P+3]&48)>>4;let B;if(w>1){if(B=P+5+e[P+4],B===P+On)continue}else B=P+4;switch(_){case h:if(k){if(p&&(s=Yo(p,this.logger))){if(this.videoParser===null)switch(o.segmentCodec){case"avc":this.videoParser=new XA;break;case"hevc":this.videoParser=new QA;break}this.videoParser!==null&&this.videoParser.parsePES(o,u,s,!1)}p={data:[],size:0}}p&&(p.data.push(e.subarray(B,P+On)),p.size+=P+On-B);break;case g:if(k){if(y&&(s=Yo(y,this.logger)))switch(c.segmentCodec){case"aac":this.parseAACPES(c,s);break;case"mp3":this.parseMPEGPES(c,s);break;case"ac3":this.parseAC3PES(c,s);break}y={data:[],size:0}}y&&(y.data.push(e.subarray(B,P+On)),y.size+=P+On-B);break;case v:k&&(x&&(s=Yo(x,this.logger))&&this.parseID3PES(d,s),x={data:[],size:0}),x&&(x.data.push(e.subarray(B,P+On)),x.size+=P+On-B);break;case 0:k&&(B+=e[B]+1),R=this._pmtId=uH(e,B);break;case R:{k&&(B+=e[B]+1);const j=dH(e,B,this.typeSupported,r,this.observer,this.logger);h=j.videoPid,h>0&&(o.pid=h,o.segmentCodec=j.segmentVideoCodec),g=j.audioPid,g>0&&(c.pid=g,c.segmentCodec=j.segmentAudioCodec),v=j.id3Pid,v>0&&(d.pid=v),S!==null&&!E&&(this.logger.warn(`MPEG-TS PMT found at ${P} after unknown PID '${S}'. Backtracking to sync byte @${L} to parse all TS packets.`),S=null,P=L-188),E=this.pmtParsed=!0;break}case 17:case 8191:break;default:S=_;break}}else I++;I>0&&Ay(this.observer,new Error(`Found ${I} TS packet/s that do not start with 0x47`),void 0,this.logger),o.pesData=p,c.pesData=y,d.pesData=x;const M={audioTrack:c,videoTrack:o,id3Track:d,textTrack:u};return i&&this.extractRemainingSamples(M),M}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,c=t.pesData,d=i.pesData;let u;if(o&&(u=Yo(o,this.logger))){if(this.videoParser===null)switch(r.segmentCodec){case"avc":this.videoParser=new XA;break;case"hevc":this.videoParser=new QA;break}this.videoParser!==null&&(this.videoParser.parsePES(r,s,u,!0),r.pesData=null)}else r.pesData=o;if(c&&(u=Yo(c,this.logger))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,u);break;case"mp3":this.parseMPEGPES(t,u);break;case"ac3":this.parseAC3PES(t,u);break}t.pesData=null}else c!=null&&c.size&&this.logger.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=c;d&&(u=Yo(d,this.logger))?(this.parseID3PES(i,u),i.pesData=null):i.pesData=d}demuxSampleAes(e,t,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new cH(this.observer,this.config,t);return this.decrypt(i,s)}decrypt(e,t){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?t.decryptAacSamples(i.samples,0,()=>{s.samples?t.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&t.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this.observer&&this.observer.removeAllListeners(),this.config=this.logger=this.observer=null,this.aacOverFlow=this.videoParser=this.remainderData=this.sampleAes=null,this._videoTrack=this._audioTrack=this._id3Track=this._txtTrack=void 0}parseAACPES(e,t){let r=0;const i=this.aacOverFlow;let s=t.data;if(i){this.aacOverFlow=null;const p=i.missing,g=i.sample.unit.byteLength;if(p===-1)s=Yr(i.sample.unit,s);else{const v=g-p;i.sample.unit.set(s.subarray(0,p),v),e.samples.push(i.sample),r=i.missing}}let o,c;for(o=r,c=s.length;o<c-1&&!Ah(s,o);o++);if(o!==r){let p;const g=o<c-1;if(g?p=`AAC PES did not start with ADTS header,offset:${o}`:p="No ADTS header found in AAC PES",Ay(this.observer,new Error(p),g,this.logger),!g)return}jL(e,this.observer,s,o,this.audioCodec);let d;if(t.pts!==void 0)d=t.pts;else if(i){const p=zL(e.samplerate);d=i.sample.pts+p}else{this.logger.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,h;for(;o<c;)if(h=GL(e,s,o,d,u),o+=h.length,h.missing){this.aacOverFlow=h;break}else for(u++;o<c-1&&!Ah(s,o);o++);}parseMPEGPES(e,t){const r=t.data,i=r.length;let s=0,o=0;const c=t.pts;if(c===void 0){this.logger.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(qL(r,o)){const d=KL(e,r,o,c,s);if(d)o+=d.length,s++;else break}else o++}parseAC3PES(e,t){{const r=t.data,i=t.pts;if(i===void 0){this.logger.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let o=0,c=0,d;for(;c<s&&(d=QL(e,r,c,i,o++))>0;)c+=d}}parseID3PES(e,t){if(t.pts===void 0){this.logger.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Mt({},t,{type:this._videoTrack?Tr.emsg:Tr.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function Ty(n,e){return((n[e+1]&31)<<8)+n[e+2]}function uH(n,e){return(n[e+10]&31)<<8|n[e+11]}function dH(n,e,t,r,i,s){const o={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},c=(n[e+1]&15)<<8|n[e+2],d=e+3+c-4,u=(n[e+10]&15)<<8|n[e+11];for(e+=12+u;e<d;){const h=Ty(n,e),p=(n[e+3]&15)<<8|n[e+4];switch(n[e]){case 207:if(!r){f0("ADTS AAC",s);break}case 15:o.audioPid===-1&&(o.audioPid=h);break;case 21:o.id3Pid===-1&&(o.id3Pid=h);break;case 219:if(!r){f0("H.264",s);break}case 27:o.videoPid===-1&&(o.videoPid=h);break;case 3:case 4:!t.mpeg&&!t.mp3?s.log("MPEG audio found, not supported in this browser"):o.audioPid===-1&&(o.audioPid=h,o.segmentAudioCodec="mp3");break;case 193:if(!r){f0("AC-3",s);break}case 129:t.ac3?o.audioPid===-1&&(o.audioPid=h,o.segmentAudioCodec="ac3"):s.log("AC-3 audio found, not supported in this browser");break;case 6:if(o.audioPid===-1&&p>0){let g=e+5,v=p;for(;v>2;){switch(n[g]){case 106:t.ac3!==!0?s.log("AC-3 audio found, not supported in this browser for now"):(o.audioPid=h,o.segmentAudioCodec="ac3");break}const x=n[g+1]+2;g+=x,v-=x}}break;case 194:case 135:return Ay(i,new Error("Unsupported EC-3 in M2TS found"),void 0,s),o;case 36:o.videoPid===-1&&(o.videoPid=h,o.segmentVideoCodec="hevc",s.log("HEVC in M2TS found"));break}e+=p+5}return o}function Ay(n,e,t,r){r.warn(`parsing error: ${e.message}`),n.emit(O.ERROR,O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function f0(n,e){e.log(`${n} with AES-128-CBC encryption found in unencrypted stream`)}function Yo(n,e){let t=0,r,i,s,o,c;const d=n.data;if(!n||n.size===0)return null;for(;d[0].length<19&&d.length>1;)d[0]=Yr(d[0],d[1]),d.splice(1,1);if(r=d[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(i=(r[4]<<8)+r[5],i&&i>n.size-6)return null;const h=r[7];h&192&&(o=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,h&64?(c=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,o-c>60*9e4&&(e.warn(`${Math.round((o-c)/9e4)}s delta between PTS and DTS, align them`),o=c)):c=o),s=r[8];let p=s+9;if(n.size<=p)return null;n.size-=p;const g=new Uint8Array(n.size);for(let v=0,y=d.length;v<y;v++){r=d[v];let x=r.byteLength;if(p)if(p>x){p-=x;continue}else r=r.subarray(p),x-=p,p=0;g.set(r,t),t+=x}return i&&(i-=s+3),{data:g,pts:o,dts:c,len:i}}return null}class fH{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Ks=Math.pow(2,32)-1;class te{static init(){te.types={avc1:[],avcC:[],hvc1:[],hvcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in te.types)te.types.hasOwnProperty(e)&&(te.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);te.HDLR_TYPES={video:t,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);te.STTS=te.STSC=te.STCO=s,te.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),te.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),te.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),te.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),c=new Uint8Array([97,118,99,49]),d=new Uint8Array([0,0,0,1]);te.FTYP=te.box(te.types.ftyp,o,d,o,c),te.DINF=te.box(te.types.dinf,te.box(te.types.dref,i))}static box(e,...t){let r=8,i=t.length;const s=i;for(;i--;)r+=t[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(t[i],r),r+=t[i].byteLength;return o}static hdlr(e){return te.box(te.types.hdlr,te.HDLR_TYPES[e])}static mdat(e){return te.box(te.types.mdat,e)}static mdhd(e,t){t*=e;const r=Math.floor(t/(Ks+1)),i=Math.floor(t%(Ks+1));return te.box(te.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return te.box(te.types.mdia,te.mdhd(e.timescale||0,e.duration||0),te.hdlr(e.type),te.minf(e))}static mfhd(e){return te.box(te.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?te.box(te.types.minf,te.box(te.types.smhd,te.SMHD),te.DINF,te.stbl(e)):te.box(te.types.minf,te.box(te.types.vmhd,te.VMHD),te.DINF,te.stbl(e))}static moof(e,t,r){return te.box(te.types.moof,te.mfhd(e),te.traf(r,t))}static moov(e){let t=e.length;const r=[];for(;t--;)r[t]=te.trak(e[t]);return te.box.apply(null,[te.types.moov,te.mvhd(e[0].timescale||0,e[0].duration||0)].concat(r).concat(te.mvex(e)))}static mvex(e){let t=e.length;const r=[];for(;t--;)r[t]=te.trex(e[t]);return te.box.apply(null,[te.types.mvex,...r])}static mvhd(e,t){t*=e;const r=Math.floor(t/(Ks+1)),i=Math.floor(t%(Ks+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return te.box(te.types.mvhd,s)}static sdtp(e){const t=e.samples||[],r=new Uint8Array(4+t.length);let i,s;for(i=0;i<t.length;i++)s=t[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return te.box(te.types.sdtp,r)}static stbl(e){return te.box(te.types.stbl,te.stsd(e),te.box(te.types.stts,te.STTS),te.box(te.types.stsc,te.STSC),te.box(te.types.stsz,te.STSZ),te.box(te.types.stco,te.STCO))}static avc1(e){let t=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,t.push(o>>>8&255),t.push(o&255),t=t.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const c=te.box(te.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(r))),d=e.width,u=e.height,h=e.pixelRatio[0],p=e.pixelRatio[1];return te.box(te.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,d>>8&255,d&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),c,te.box(te.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),te.box(te.types.pasp,new Uint8Array([h>>24,h>>16&255,h>>8&255,h&255,p>>24,p>>16&255,p>>8&255,p&255])))}static esds(e){const t=e.config;return new Uint8Array([0,0,0,0,3,25,0,1,0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,...t,6,1,2])}static audioStsd(e){const t=e.samplerate||0;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount||0,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return te.box(te.types.mp4a,te.audioStsd(e),te.box(te.types.esds,te.esds(e)))}static mp3(e){return te.box(te.types[".mp3"],te.audioStsd(e))}static ac3(e){return te.box(te.types["ac-3"],te.audioStsd(e),te.box(te.types.dac3,e.config))}static stsd(e){const{segmentCodec:t}=e;if(e.type==="audio"){if(t==="aac")return te.box(te.types.stsd,te.STSD,te.mp4a(e));if(t==="ac3"&&e.config)return te.box(te.types.stsd,te.STSD,te.ac3(e));if(t==="mp3"&&e.codec==="mp3")return te.box(te.types.stsd,te.STSD,te.mp3(e))}else if(e.pps&&e.sps){if(t==="avc")return te.box(te.types.stsd,te.STSD,te.avc1(e));if(t==="hevc"&&e.vps)return te.box(te.types.stsd,te.STSD,te.hvc1(e))}else throw new Error("video track missing pps or sps");throw new Error(`unsupported ${e.type} segment codec (${t}/${e.codec})`)}static tkhd(e){const t=e.id,r=(e.duration||0)*(e.timescale||0),i=e.width||0,s=e.height||0,o=Math.floor(r/(Ks+1)),c=Math.floor(r%(Ks+1));return te.box(te.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,c>>24,c>>16&255,c>>8&255,c&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,t){const r=te.sdtp(e),i=e.id,s=Math.floor(t/(Ks+1)),o=Math.floor(t%(Ks+1));return te.box(te.types.traf,te.box(te.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),te.box(te.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),te.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,te.box(te.types.trak,te.tkhd(e),te.mdia(e))}static trex(e){const t=e.id;return te.box(te.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let c,d,u,h,p,g;for(t+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),c=0;c<i;c++)d=r[c],u=d.duration,h=d.size,p=d.flags,g=d.cts,o.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255,p.isLeading<<2|p.dependsOn,p.isDependedOn<<6|p.hasRedundancy<<4|p.paddingValue<<1|p.isNonSync,p.degradPrio&61440,p.degradPrio&15,g>>>24&255,g>>>16&255,g>>>8&255,g&255],12+16*c);return te.box(te.types.trun,o)}static initSegment(e){te.types||te.init();const t=te.moov(e);return Yr(te.FTYP,t)}static hvc1(e){const t=e.params,r=[e.vps,e.sps,e.pps],i=4,s=new Uint8Array([1,t.general_profile_space<<6|(t.general_tier_flag?32:0)|t.general_profile_idc,t.general_profile_compatibility_flags[0],t.general_profile_compatibility_flags[1],t.general_profile_compatibility_flags[2],t.general_profile_compatibility_flags[3],t.general_constraint_indicator_flags[0],t.general_constraint_indicator_flags[1],t.general_constraint_indicator_flags[2],t.general_constraint_indicator_flags[3],t.general_constraint_indicator_flags[4],t.general_constraint_indicator_flags[5],t.general_level_idc,240|t.min_spatial_segmentation_idc>>8,255&t.min_spatial_segmentation_idc,252|t.parallelismType,252|t.chroma_format_idc,248|t.bit_depth_luma_minus8,248|t.bit_depth_chroma_minus8,0,parseInt(t.frame_rate.fps),i-1|t.temporal_id_nested<<2|t.num_temporal_layers<<3|(t.frame_rate.fixed?64:0),r.length]);let o=s.length;for(let y=0;y<r.length;y+=1){o+=3;for(let x=0;x<r[y].length;x+=1)o+=2+r[y][x].length}const c=new Uint8Array(o);c.set(s,0),o=s.length;const d=r.length-1;for(let y=0;y<r.length;y+=1){c.set(new Uint8Array([32+y|(y===d?128:0),0,r[y].length]),o),o+=3;for(let x=0;x<r[y].length;x+=1)c.set(new Uint8Array([r[y][x].length>>8,r[y][x].length&255]),o),o+=2,c.set(r[y][x],o),o+=r[y][x].length}const u=te.box(te.types.hvcC,c),h=e.width,p=e.height,g=e.pixelRatio[0],v=e.pixelRatio[1];return te.box(te.types.hvc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,h>>8&255,h&255,p>>8&255,p&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),u,te.box(te.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),te.box(te.types.pasp,new Uint8Array([g>>24,g>>16&255,g>>8&255,g&255,v>>24,v>>16&255,v>>8&255,v&255])))}}te.types=void 0;te.HDLR_TYPES=void 0;te.STTS=void 0;te.STSC=void 0;te.STCO=void 0;te.STSZ=void 0;te.VMHD=void 0;te.SMHD=void 0;te.STSD=void 0;te.FTYP=void 0;te.DINF=void 0;const JL=9e4;function Xv(n,e,t=1,r=!1){const i=n*e*t;return r?Math.round(i):i}function hH(n,e,t=1,r=!1){return Xv(n,e,1/t,r)}function zc(n,e=!1){return Xv(n,1e3,1/JL,e)}function pH(n,e=1){return Xv(n,JL,1/e)}const mH=10*1e3,gH=1024,yH=1152,vH=1536;let Xo=null,h0=null;function ZA(n,e,t,r){return{duration:e,size:t,cts:r,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:n?2:1,isNonSync:n?0:1}}}class Hf extends gi{constructor(e,t,r,i){if(super("mp4-remuxer",i),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextVideoTs=null,this.nextAudioTs=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,Xo===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Xo=o?parseInt(o[1]):0}if(h0===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);h0=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){this.log("initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){this.log("reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){this.log("ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const r=e[0].pts,i=e.reduce((s,o)=>{let c=o.pts,d=c-s;return d<-4294967296&&(t=!0,c=Fr(c,r),d=c-s),d>0?s:c},r);return t&&this.debug("PTS rollover detected"),i}remux(e,t,r,i,s,o,c,d){let u,h,p,g,v,y,x=s,S=s;const E=e.pid>-1,R=t.pid>-1,A=t.samples.length,L=e.samples.length>0,I=c&&A>0||A>1;if((!E||L)&&(!R||I)||this.ISGenerated||c){if(this.ISGenerated){var P,k,_,w;const q=this.videoTrackConfig;(q&&(t.width!==q.width||t.height!==q.height||((P=t.pixelRatio)==null?void 0:P[0])!==((k=q.pixelRatio)==null?void 0:k[0])||((_=t.pixelRatio)==null?void 0:_[1])!==((w=q.pixelRatio)==null?void 0:w[1]))||!q&&I||this.nextAudioTs===null&&L)&&this.resetInitSegment()}this.ISGenerated||(p=this.generateIS(e,t,s,o));const B=this.isVideoContiguous;let j=-1,z;if(I&&(j=xH(t.samples),!B&&this.config.forceKeyFrameOnDiscontinuity))if(y=!0,j>0){this.warn(`Dropped ${j} out of ${A} video samples due to a missing keyframe`);const q=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(j),t.dropped+=j,S+=(t.samples[0].pts-q)/t.inputTimeScale,z=S}else j===-1&&(this.warn(`No keyframe found out of ${A} video samples`),y=!1);if(this.ISGenerated){if(L&&I){const q=this.getVideoStartPts(t.samples),$=(Fr(e.samples[0].pts,q)-q)/t.inputTimeScale;x+=Math.max(0,$),S+=Math.max(0,-$)}if(L){if(e.samplerate||(this.warn("regenerate InitSegment as audio detected"),p=this.generateIS(e,t,s,o)),h=this.remuxAudio(e,x,this.isAudioContiguous,o,R||I||d===Ne.AUDIO?S:void 0),I){const q=h?h.endPTS-h.startPTS:0;t.inputTimeScale||(this.warn("regenerate InitSegment as video detected"),p=this.generateIS(e,t,s,o)),u=this.remuxVideo(t,S,B,q)}}else I&&(u=this.remuxVideo(t,S,B,0));u&&(u.firstKeyFrame=j,u.independent=j!==-1,u.firstKeyFramePTS=z)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(v=eI(r,s,this._initPTS,this._initDTS)),i.samples.length&&(g=tI(i,s,this._initPTS))),{audio:h,video:u,initSegment:p,independent:y,text:g,id3:v}}generateIS(e,t,r,i){const s=e.samples,o=t.samples,c=this.typeSupported,d={},u=this._initPTS;let h=!u||i,p="audio/mp4",g,v,y,x;if(h&&(g=v=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":c.mpeg?(p="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}d.audio={id:"audio",container:p,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&c.mpeg?new Uint8Array(0):te.initSegment([e]),metadata:{channelCount:e.channelCount}},h&&(x=e.id,y=e.inputTimeScale,!u||y!==u.timescale?g=v=s[0].pts-Math.round(y*r):h=!1)}if(t.sps&&t.pps&&o.length){if(t.timescale=t.inputTimeScale,d.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:te.initSegment([t]),metadata:{width:t.width,height:t.height}},h)if(x=t.id,y=t.inputTimeScale,!u||y!==u.timescale){const S=this.getVideoStartPts(o),E=Math.round(y*r);v=Math.min(v,Fr(o[0].dts,S)-E),g=Math.min(g,S-E)}else h=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(d).length)return this.ISGenerated=!0,h?(this._initPTS={baseTime:g,timescale:y},this._initDTS={baseTime:v,timescale:y}):g=y=void 0,{tracks:d,initPTS:g,timescale:y,trackId:x}}remuxVideo(e,t,r,i){const s=e.inputTimeScale,o=e.samples,c=[],d=o.length,u=this._initPTS,h=u.baseTime*s/u.timescale;let p=this.nextVideoTs,g=8,v=this.videoSampleDuration,y,x,S=Number.POSITIVE_INFINITY,E=Number.NEGATIVE_INFINITY,R=!1;if(!r||p===null){const H=h+t*s,Q=o[0].pts-Fr(o[0].dts,o[0].pts);Xo&&p!==null&&Math.abs(H-Q-(p+h))<15e3?r=!0:p=H-Q-h}const A=p+h;for(let H=0;H<d;H++){const Q=o[H];Q.pts=Fr(Q.pts,A),Q.dts=Fr(Q.dts,A),Q.dts<o[H>0?H-1:H].dts&&(R=!0)}R&&o.sort(function(H,Q){const ee=H.dts-Q.dts,ce=H.pts-Q.pts;return ee||ce}),y=o[0].dts,x=o[o.length-1].dts;const L=x-y,I=L?Math.round(L/(d-1)):v||e.inputTimeScale/30;if(r){const H=y-A,Q=H>I,ee=H<-1;if((Q||ee)&&(Q?this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${zc(H,!0)} ms (${H}dts) hole between fragments detected at ${t.toFixed(3)}`):this.warn(`${(e.segmentCodec||"").toUpperCase()}: ${zc(-H,!0)} ms (${H}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!ee||A>=o[0].pts||Xo)){y=A;const ce=o[0].pts-H;if(Q)o[0].dts=y,o[0].pts=ce;else{let se=!0;for(let V=0;V<o.length&&!(o[V].dts>ce&&se);V++){const oe=o[V].pts;if(o[V].dts-=H,o[V].pts-=H,V<o.length-1){const me=o[V+1].pts,we=o[V].pts,Te=me<=we,Pe=me<=oe;se=Te==Pe}}}this.log(`Video: Initial PTS/DTS adjusted: ${zc(ce,!0)}/${zc(y,!0)}, delta: ${zc(H,!0)} ms`)}}y=Math.max(0,y);let M=0,P=0,k=y;for(let H=0;H<d;H++){const Q=o[H],ee=Q.units,ce=ee.length;let se=0;for(let V=0;V<ce;V++)se+=ee[V].data.length;P+=se,M+=ce,Q.length=se,Q.dts<k?(Q.dts=k,k+=I/4|0||1):k=Q.dts,S=Math.min(Q.pts,S),E=Math.max(Q.pts,E)}x=o[d-1].dts;const _=P+4*M+8;let w;try{w=new Uint8Array(_)}catch(H){this.observer.emit(O.ERROR,O.ERROR,{type:Ge.MUX_ERROR,details:re.REMUX_ALLOC_ERROR,fatal:!1,error:H,bytes:_,reason:`fail allocating video mdat ${_}`});return}const B=new DataView(w.buffer);B.setUint32(0,_),w.set(te.types.mdat,4);let j=!1,z=Number.POSITIVE_INFINITY,q=Number.POSITIVE_INFINITY,K=Number.NEGATIVE_INFINITY,$=Number.NEGATIVE_INFINITY;for(let H=0;H<d;H++){const Q=o[H],ee=Q.units;let ce=0;for(let oe=0,me=ee.length;oe<me;oe++){const we=ee[oe],Te=we.data,Pe=we.data.byteLength;B.setUint32(g,Pe),g+=4,w.set(Te,g),g+=Pe,ce+=4+Pe}let se;if(H<d-1)v=o[H+1].dts-Q.dts,se=o[H+1].pts-Q.pts;else{const oe=this.config,me=H>0?Q.dts-o[H-1].dts:I;if(se=H>0?Q.pts-o[H-1].pts:I,oe.stretchShortVideoTrack&&this.nextAudioTs!==null){const we=Math.floor(oe.maxBufferHole*s),Te=(i?S+i*s:this.nextAudioTs+h)-Q.pts;Te>we?(v=Te-me,v<0?v=me:j=!0,this.log(`It is approximately ${Te/90} ms to the next segment; using duration ${v/90} ms for the last video frame.`)):v=me}else v=me}const V=Math.round(Q.pts-Q.dts);z=Math.min(z,v),K=Math.max(K,v),q=Math.min(q,se),$=Math.max($,se),c.push(ZA(Q.key,v,ce,V))}if(c.length){if(Xo){if(Xo<70){const H=c[0].flags;H.dependsOn=2,H.isNonSync=0}}else if(h0&&$-q<K-z&&I/K<.025&&c[0].cts===0){this.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let H=y;for(let Q=0,ee=c.length;Q<ee;Q++){const ce=H+c[Q].duration,se=H+c[Q].cts;if(Q<ee-1){const V=ce+c[Q+1].cts;c[Q].duration=V-se}else c[Q].duration=Q?c[Q-1].duration:I;c[Q].cts=0,H=ce}}}v=j||!v?I:v;const W=x+v;this.nextVideoTs=p=W-h,this.videoSampleDuration=v,this.isVideoContiguous=!0;const F={data1:te.moof(e.sequenceNumber++,y,Mt(e,{samples:c})),data2:w,startPTS:(S-h)/s,endPTS:(E+v-h)/s,startDTS:(y-h)/s,endDTS:p/s,type:"video",hasAudio:!1,hasVideo:!0,nb:c.length,dropped:e.dropped};return e.samples=[],e.dropped=0,F}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return yH;case"ac3":return vH;default:return gH}}remuxAudio(e,t,r,i,s){const o=e.inputTimeScale,c=e.samplerate?e.samplerate:o,d=o/c,u=this.getSamplesPerFrame(e),h=u*d,p=this._initPTS,g=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,v=[],y=s!==void 0;let x=e.samples,S=g?0:8,E=this.nextAudioTs||-1;const R=p.baseTime*o/p.timescale,A=R+t*o;if(this.isAudioContiguous=r=r||x.length&&E>0&&(i&&Math.abs(A-(E+R))<9e3||Math.abs(Fr(x[0].pts,A)-(E+R))<20*h),x.forEach(function($){$.pts=Fr($.pts,A)}),!r||E<0){if(x=x.filter($=>$.pts>=0),!x.length)return;s===0?E=0:i&&!y?E=Math.max(0,A-R):E=x[0].pts-R}if(e.segmentCodec==="aac"){const $=this.config.maxAudioFramesDrift;for(let W=0,G=E+R;W<x.length;W++){const Y=x[W],F=Y.pts,H=F-G,Q=Math.abs(1e3*H/o);if(H<=-$*h&&y)W===0&&(this.warn(`Audio frame @ ${(F/o).toFixed(3)}s overlaps marker by ${Math.round(1e3*H/o)} ms.`),this.nextAudioTs=E=F-R,G=F);else if(H>=$*h&&Q<mH&&y){let ee=Math.round(H/h);for(G=F-ee*h;G<0&&ee&&h;)ee--,G+=h;W===0&&(this.nextAudioTs=E=G-R),this.warn(`Injecting ${ee} audio frames @ ${((G-R)/o).toFixed(3)}s due to ${Math.round(1e3*H/o)} ms gap.`);for(let ce=0;ce<ee;ce++){let se=fH.getSilentFrame(e.parsedCodec||e.manifestCodec||e.codec,e.channelCount);se||(this.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),se=Y.unit.subarray()),x.splice(W,0,{unit:se,pts:G}),G+=h,W++}}Y.pts=G,G+=h}}let L=null,I=null,M,P=0,k=x.length;for(;k--;)P+=x[k].unit.byteLength;for(let $=0,W=x.length;$<W;$++){const G=x[$],Y=G.unit;let F=G.pts;if(I!==null){const Q=v[$-1];Q.duration=Math.round((F-I)/d)}else if(r&&e.segmentCodec==="aac"&&(F=E+R),L=F,P>0){P+=S;try{M=new Uint8Array(P)}catch(Q){this.observer.emit(O.ERROR,O.ERROR,{type:Ge.MUX_ERROR,details:re.REMUX_ALLOC_ERROR,fatal:!1,error:Q,bytes:P,reason:`fail allocating audio mdat ${P}`});return}g||(new DataView(M.buffer).setUint32(0,P),M.set(te.types.mdat,4))}else return;M.set(Y,S);const H=Y.byteLength;S+=H,v.push(ZA(!0,u,H,0)),I=F}const _=v.length;if(!_)return;const w=v[v.length-1];E=I-R,this.nextAudioTs=E+d*w.duration;const B=g?new Uint8Array(0):te.moof(e.sequenceNumber++,L/d,Mt({},e,{samples:v}));e.samples=[];const j=(L-R)/o,z=E/o,K={data1:B,data2:M,startPTS:j,endPTS:z,startDTS:j,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:_};return this.isAudioContiguous=!0,K}}function Fr(n,e){let t;if(e===null)return n;for(e<n?t=-8589934592:t=8589934592;Math.abs(n-e)>4294967296;)n+=t;return n}function xH(n){for(let e=0;e<n.length;e++)if(n[e].key)return e;return-1}function eI(n,e,t,r){const i=n.samples.length;if(!i)return;const s=n.inputTimeScale;for(let c=0;c<i;c++){const d=n.samples[c];d.pts=Fr(d.pts-t.baseTime*s/t.timescale,e*s)/s,d.dts=Fr(d.dts-r.baseTime*s/r.timescale,e*s)/s}const o=n.samples;return n.samples=[],{samples:o}}function tI(n,e,t){const r=n.samples.length;if(!r)return;const i=n.inputTimeScale;for(let o=0;o<r;o++){const c=n.samples[o];c.pts=Fr(c.pts-t.baseTime*i/t.timescale,e*i)/i}n.samples.sort((o,c)=>o.pts-c.pts);const s=n.samples;return n.samples=[],{samples:s}}class bH extends gi{constructor(e,t,r,i){super("passthrough-remuxer",i),this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null,this.isVideoContiguous=!1}destroy(){}resetTimeStamp(e){this.lastEndTime=null;const t=this.initPTS;t&&e&&t.baseTime===e.baseTime&&t.timescale===e.timescale||(this.initPTS=e)}resetNextTimestamp(){this.isVideoContiguous=!1,this.lastEndTime=null}resetInitSegment(e,t,r,i){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(fz(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=hL(e);i.audio&&(t=JA(i.audio,Wt.AUDIO,this)),i.video&&(r=JA(i.video,Wt.VIDEO,this));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:t+","+r,supplemental:i.video.supplemental,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,supplemental:i.video.supplemental,initSegment:e,id:"main"}:this.warn("initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,t,r,i,s,o){var c,d;let{initPTS:u,lastEndTime:h}=this;const p={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};_e(h)||(h=this.lastEndTime=s||0);const g=t.samples;if(!(g!=null&&g.length))return p;const v={initPTS:void 0,timescale:void 0,trackId:void 0};let y=this.initData;if((c=y)!=null&&c.length||(this.generateInitSegment(g),y=this.initData),!((d=y)!=null&&d.length))return this.warn("Failed to generate initSegment."),p;this.emitInitSegment&&(v.tracks=this.initTracks,this.emitInitSegment=!1);const x=pz(g,y,this),S=y.audio?x[y.audio.id]:null,E=y.video?x[y.video.id]:null,R=Ef(E,1/0),A=Ef(S,1/0),L=Ef(E,0,!0),I=Ef(S,0,!0);let M,P=s,k=0;if(S&&(!E||!u&&A<R||u&&u.trackId===y.audio.id)?(v.trackId=y.audio.id,M=S,k=I-A):E&&(v.trackId=y.video.id,M=E,k=L-R),M){const $=M.timescale;P=M.start/$,v.initPTS=M.start-s*$,v.timescale=$,u||(this.initPTS=u={baseTime:v.initPTS,timescale:$,trackId:v.trackId})}(o||!u)&&(SH(u,P,s,k)||v.timescale!==u.timescale)&&(v.initPTS=P-s,v.timescale=1,u&&u.timescale===1&&this.warn(`Adjusting initPTS @${s} from ${u.baseTime/u.timescale} to ${v.initPTS}`),this.initPTS=u={baseTime:v.initPTS,timescale:1});const _=e?P-u.baseTime/u.timescale:h,w=_+k;k>0?this.lastEndTime=w:(this.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const B=!!y.audio,j=!!y.video;let z="";B&&(z+="audio"),j&&(z+="video");const q={data1:g,startPTS:_,startDTS:_,endPTS:w,endDTS:w,type:z,hasAudio:B,hasVideo:j,nb:1,dropped:0};p.audio=B&&!j?q:void 0,p.video=j?q:void 0;const K=E?.sampleCount;if(K){const $=E.keyFrameIndex,W=$!==-1;q.nb=K,q.dropped=$===0||this.isVideoContiguous?0:W?$:K,q.independent=W,q.firstKeyFrame=$,W&&E.keyFrameStart&&(q.firstKeyFramePTS=(E.keyFrameStart-u.baseTime)/u.timescale),this.isVideoContiguous||(p.independent=W),this.isVideoContiguous||(this.isVideoContiguous=W),q.dropped&&this.warn(`fmp4 does not start with IDR: firstIDR ${$}/${K} dropped: ${q.dropped} start: ${q.firstKeyFramePTS||"NA"}`)}return p.initSegment=v,p.id3=eI(r,s,u,u),i.samples.length&&(p.text=tI(i,s,u)),p}}function Ef(n,e,t=!1){return n?.start!==void 0?(n.start+(t?n.duration:0))/n.timescale:e}function SH(n,e,t,r){if(n===null)return!0;const i=Math.max(r,1),s=e-n.baseTime/n.timescale;return Math.abs(s-t)>i}function JA(n,e,t){const r=n?.codec;return r&&r.length>4?r:e===Wt.AUDIO?r==="ec-3"||r==="ac-3"||r==="alac"?r:r==="fLaC"||r==="Opus"?yh(r,!1):(t.warn(`Unhandled audio codec "${r}" in mp4 MAP`),r||"mp4a"):(t.warn(`Unhandled video codec "${r}" in mp4 MAP`),r||"avc1")}let cs;try{cs=self.performance.now.bind(self.performance)}catch{cs=Date.now}const Vf=[{demux:lH,remux:bH},{demux:Ys,remux:Hf},{demux:iH,remux:Hf},{demux:aH,remux:Hf}];Vf.splice(2,0,{demux:sH,remux:Hf});class eC{constructor(e,t,r,i,s,o){this.asyncResult=!1,this.logger=void 0,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=r,this.id=s,this.logger=o}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,r,i){const s=r.transmuxing;s.executeStart=cs();let o=new Uint8Array(e);const{currentTransmuxState:c,transmuxConfig:d}=this;i&&(this.currentTransmuxState=i);const{contiguous:u,discontinuity:h,trackSwitch:p,accurateTimeOffset:g,timeOffset:v,initSegmentChange:y}=i||c,{audioCodec:x,videoCodec:S,defaultInitPts:E,duration:R,initSegmentData:A}=d,L=EH(o,t);if(L&&ol(L.method)){const k=this.getDecrypter(),_=zv(L.method);if(k.isSync()){let w=k.softwareDecrypt(o,L.key.buffer,L.iv.buffer,_);if(r.part>-1){const j=k.flush();w=j&&j.buffer}if(!w)return s.executeEnd=cs(),p0(r);o=new Uint8Array(w)}else return this.asyncResult=!0,this.decryptionPromise=k.webCryptoDecrypt(o,L.key.buffer,L.iv.buffer,_).then(w=>{const B=this.push(w,null,r);return this.decryptionPromise=null,B}),this.decryptionPromise}const I=this.needsProbing(h,p);if(I){const k=this.configureTransmuxer(o);if(k)return this.logger.warn(`[transmuxer] ${k.message}`),this.observer.emit(O.ERROR,O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_PARSING_ERROR,fatal:!1,error:k,reason:k.message}),s.executeEnd=cs(),p0(r)}(h||p||y||I)&&this.resetInitSegment(A,x,S,R,t),(h||y||I)&&this.resetInitialTimestamp(E),u||this.resetContiguity();const M=this.transmux(o,L,v,g,r);this.asyncResult=Tu(M);const P=this.currentTransmuxState;return P.contiguous=!0,P.discontinuity=!1,P.trackSwitch=!1,s.executeEnd=cs(),M}flush(e){const t=e.transmuxing;t.executeStart=cs();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return this.asyncResult=!0,s.then(()=>this.flush(e));const o=[],{timeOffset:c}=i;if(r){const p=r.flush();p&&o.push(this.push(p.buffer,null,e))}const{demuxer:d,remuxer:u}=this;if(!d||!u){t.executeEnd=cs();const p=[p0(e)];return this.asyncResult?Promise.resolve(p):p}const h=d.flush(c);return Tu(h)?(this.asyncResult=!0,h.then(p=>(this.flushRemux(o,p,e),o))):(this.flushRemux(o,h,e),this.asyncResult?Promise.resolve(o):o)}flushRemux(e,t,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:c}=t,{accurateTimeOffset:d,timeOffset:u}=this.currentTransmuxState;this.logger.log(`[transmuxer.ts]: Flushed ${this.id} sn: ${r.sn}${r.part>-1?" part: "+r.part:""} of ${this.id===Ne.MAIN?"level":"track"} ${r.level}`);const h=this.remuxer.remux(i,s,o,c,u,d,!0,this.id);e.push({remuxResult:h,chunkMeta:r}),r.transmuxing.executeEnd=cs()}resetInitialTimestamp(e){const{demuxer:t,remuxer:r}=this;!t||!r||(t.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,r,i,s){const{demuxer:o,remuxer:c}=this;!o||!c||(o.resetInitSegment(e,t,r,i),c.resetInitSegment(e,t,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,r,i,s){let o;return t&&t.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,t,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,t,r,i){const{audioTrack:s,videoTrack:o,id3Track:c,textTrack:d}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,c,d,t,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,t,r,i,s){return this.demuxer.demuxSampleAes(e,t,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:t,observer:r,typeSupported:i}=this;let s;for(let p=0,g=Vf.length;p<g;p++){var o;if((o=Vf[p].demux)!=null&&o.probe(e,this.logger)){s=Vf[p];break}}if(!s)return new Error("Failed to find demuxer by probing fragment data");const c=this.demuxer,d=this.remuxer,u=s.remux,h=s.demux;(!d||!(d instanceof u))&&(this.remuxer=new u(r,t,i,this.logger)),(!c||!(c instanceof h))&&(this.demuxer=new h(r,t,i,this.logger),this.probe=h.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Uv(this.config)),e}}function EH(n,e){let t=null;return n.byteLength>0&&e?.key!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const p0=n=>({remuxResult:{},chunkMeta:n});function Tu(n){return"then"in n&&n.then instanceof Function}class TH{constructor(e,t,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class AH{constructor(e,t,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}let tC=0;class nI{constructor(e,t,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.instanceNo=tC++,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.onWorkerMessage=d=>{const u=d.data,h=this.hls;if(!(!h||!(u!=null&&u.event)||u.instanceNo!==this.instanceNo))switch(u.event){case"init":{var p;const g=(p=this.workerContext)==null?void 0:p.objectURL;g&&self.URL.revokeObjectURL(g);break}case"transmuxComplete":{this.handleTransmuxComplete(u.data);break}case"flush":{this.onFlush(u.data);break}case"workerLog":{h.logger[u.data.logType]&&h.logger[u.data.logType](u.data.message);break}default:{u.data=u.data||{},u.data.frag=this.frag,u.data.part=this.part,u.data.id=this.id,h.trigger(u.event,u.data);break}}},this.onWorkerError=d=>{if(!this.hls)return;const u=new Error(`${d.message}  (${d.filename}:${d.lineno})`);this.hls.config.enableWorker=!1,this.hls.logger.warn(`Error in "${this.id}" Web Worker, fallback to inline`),this.hls.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:u})};const s=e.config;this.hls=e,this.id=t,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(d,u)=>{u=u||{},u.frag=this.frag||void 0,d===O.ERROR&&(u=u,u.parent=this.id,u.part=this.part,this.error=u.error),this.hls.trigger(d,u)};this.observer=new Hv,this.observer.on(O.FRAG_DECRYPTED,o),this.observer.on(O.ERROR,o);const c=yA(s.preferManagedMediaSource);if(this.useWorker&&typeof Worker<"u"){const d=this.hls.logger;if(s.workerPath||DG()){try{s.workerPath?(d.log(`loading Web Worker ${s.workerPath} for "${t}"`),this.workerContext=_G(s.workerPath)):(d.log(`injecting Web Worker for "${t}"`),this.workerContext=PG());const{worker:h}=this.workerContext;h.addEventListener("message",this.onWorkerMessage),h.addEventListener("error",this.onWorkerError),h.postMessage({instanceNo:this.instanceNo,cmd:"init",typeSupported:c,id:t,config:Yt(s)})}catch(h){d.warn(`Error setting up "${t}" Web Worker, fallback to inline`,h),this.terminateWorker(),this.error=null,this.transmuxer=new eC(this.observer,c,s,"",t,e.logger)}return}}this.transmuxer=new eC(this.observer,c,s,"",t,e.logger)}reset(){if(this.frag=null,this.part=null,this.workerContext){const e=this.instanceNo;this.instanceNo=tC++;const t=this.hls.config,r=yA(t.preferManagedMediaSource);this.workerContext.worker.postMessage({instanceNo:this.instanceNo,cmd:"reset",resetNo:e,typeSupported:r,id:this.id,config:Yt(t)})}}terminateWorker(){if(this.workerContext){const{worker:e}=this.workerContext;this.workerContext=null,e.removeEventListener("message",this.onWorkerMessage),e.removeEventListener("error",this.onWorkerError),OG(this.hls.config.workerPath)}}destroy(){if(this.workerContext)this.terminateWorker(),this.onWorkerMessage=this.onWorkerError=null;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.part=null,this.observer=null,this.hls=null}push(e,t,r,i,s,o,c,d,u,h){var p,g;u.transmuxing.start=self.performance.now();const{instanceNo:v,transmuxer:y}=this,x=o?o.start:s.start,S=s.decryptdata,E=this.frag,R=!(E&&s.cc===E.cc),A=!(E&&u.level===E.level),L=E?u.sn-E.sn:-1,I=this.part?u.part-this.part.index:-1,M=L===0&&u.id>1&&u.id===E?.stats.chunkCount,P=!A&&(L===1||L===0&&(I===1||M&&I<=0)),k=self.performance.now();(A||L||s.stats.parsing.start===0)&&(s.stats.parsing.start=k),o&&(I||!P)&&(o.stats.parsing.start=k);const _=!(E&&((p=s.initSegment)==null?void 0:p.url)===((g=E.initSegment)==null?void 0:g.url)),w=new AH(R,P,d,A,x,_);if(!P||R||_){this.hls.logger.log(`[transmuxer-interface]: Starting new transmux session for ${s.type} sn: ${u.sn}${u.part>-1?" part: "+u.part:""} ${this.id===Ne.MAIN?"level":"track"}: ${u.level} id: ${u.id}
        discontinuity: ${R}
        trackSwitch: ${A}
        contiguous: ${P}
        accurateTimeOffset: ${d}
        timeOffset: ${x}
        initSegmentChange: ${_}`);const B=new TH(r,i,t,c,h);this.configureTransmuxer(B)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({instanceNo:v,cmd:"demux",data:e,decryptdata:S,chunkMeta:u,state:w},e instanceof ArrayBuffer?[e]:[]);else if(y){const B=y.push(e,S,u,w);Tu(B)?B.then(j=>{this.handleTransmuxComplete(j)}).catch(j=>{this.transmuxerError(j,u,"transmuxer-interface push error")}):this.handleTransmuxComplete(B)}}flush(e){e.transmuxing.start=self.performance.now();const{instanceNo:t,transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({instanceNo:t,cmd:"flush",chunkMeta:e});else if(r){const i=r.flush(e);Tu(i)?i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")}):this.handleFlushResult(i,e)}}transmuxerError(e,t,r){this.hls&&(this.error=e,this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,part:this.part||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,t){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(t)}configureTransmuxer(e){const{instanceNo:t,transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({instanceNo:t,cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const nC=100;class CH extends Gv{constructor(e,t,r){super(e,t,r,"audio-stream-controller",Ne.AUDIO),this.mainAnchor=null,this.mainFragLoading=null,this.audioOnly=!1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.resetItem()}resetItem(){this.mainDetails=this.mainAnchor=this.mainFragLoading=this.bufferedTrack=this.switchingTrack=this.waitingData=this.cachedTrackLoadedData=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(O.LEVEL_LOADED,this.onLevelLoaded,this),e.on(O.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(O.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(O.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(O.BUFFER_RESET,this.onBufferReset,this),e.on(O.BUFFER_CREATED,this.onBufferCreated,this),e.on(O.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(O.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(O.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(O.FRAG_LOADING,this.onFragLoading,this),e.on(O.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){const{hls:e}=this;e&&(super.unregisterListeners(),e.off(O.LEVEL_LOADED,this.onLevelLoaded,this),e.off(O.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(O.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(O.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(O.BUFFER_RESET,this.onBufferReset,this),e.off(O.BUFFER_CREATED,this.onBufferCreated,this),e.off(O.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(O.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(O.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(O.FRAG_LOADING,this.onFragLoading,this),e.off(O.FRAG_BUFFERED,this.onFragBuffered,this))}onInitPtsFound(e,{frag:t,id:r,initPTS:i,timescale:s}){if(r===Ne.MAIN){const o=t.cc,c=this.fragCurrent;if(this.initPTS[o]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}/${s}`),this.mainAnchor=t,this.state===ge.WAITING_INIT_PTS){const d=this.waitingData;(!d&&!this.loadingParts||d&&d.frag.cc!==o)&&this.syncWithAnchor(t,d?.frag)}else!this.hls.hasEnoughToStart&&c&&c.cc!==o?(c.abortRequests(),this.syncWithAnchor(t,c)):this.state===ge.IDLE&&this.tick()}}getLoadPosition(){return!this.startFragRequested&&this.nextLoadPosition>=0?this.nextLoadPosition:super.getLoadPosition()}syncWithAnchor(e,t){var r;const i=((r=this.mainFragLoading)==null?void 0:r.frag)||null;if(t&&i?.cc===t.cc)return;const s=(i||e).cc,o=this.getLevelDetails(),c=this.getLoadPosition(),d=EL(o,s,c);d&&(this.log(`Syncing with main frag at ${d.start} cc ${d.cc}`),this.startFragRequested=!1,this.nextLoadPosition=d.start,this.resetLoadingState(),this.state===ge.IDLE&&this.doTickIdle())}startLoad(e,t){if(!this.levels){this.startPosition=e,this.state=ge.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(nC),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=ge.IDLE):this.state=ge.WAITING_TRACK,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}doTick(){switch(this.state){case ge.IDLE:this.doTickIdle();break;case ge.WAITING_TRACK:{const{levels:t,trackId:r}=this,i=t?.[r],s=i?.details;if(s&&!this.waitForLive(i)){if(this.waitForCdnTuneIn(s))break;this.state=ge.WAITING_INIT_PTS}break}case ge.FRAG_LOADING_WAITING_RETRY:{var e;const t=performance.now(),r=this.retryDate;if(!r||t>=r||(e=this.media)!=null&&e.seeking){const{levels:i,trackId:s}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(i?.[s]||null),this.state=ge.IDLE}break}case ge.WAITING_INIT_PTS:{const t=this.waitingData;if(t){const{frag:r,part:i,cache:s,complete:o}=t,c=this.mainAnchor;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.state=ge.FRAG_LOADING;const d=s.flush().buffer,u={frag:r,part:i,payload:d,networkDetails:null};this._handleFragmentLoadProgress(u),o&&super._handleFragmentLoadComplete(u)}else c&&c.cc!==t.frag.cc&&this.syncWithAnchor(c,t.frag)}else this.state=ge.IDLE}}this.onTickEnd()}resetLoadingState(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){var e;const{hls:t,levels:r,media:i,trackId:s}=this,o=t.config;if(!this.buffering||!i&&!this.primaryPrefetch&&(this.startFragRequested||!o.startFragPrefetch)||!(r!=null&&r[s]))return;const c=r[s],d=c.details;if(!d||this.waitForLive(c)||this.waitForCdnTuneIn(d)){this.state=ge.WAITING_TRACK,this.startFragRequested=!1;return}const u=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&u&&(this.bufferFlushed=!1,this.afterBufferFlushed(u,Wt.AUDIO,Ne.AUDIO));const h=this.getFwdBufferInfo(u,Ne.AUDIO);if(h===null)return;if(!this.switchingTrack&&this._streamEnded(h,d)){t.trigger(O.BUFFER_EOS,{type:"audio"}),this.state=ge.ENDED;return}const p=h.len,g=t.maxBufferLength,v=d.fragments,y=v[0].start,x=this.getLoadPosition(),S=this.flushing?x:h.end;if(this.switchingTrack&&i){const A=x;d.PTSKnown&&A<y&&(h.end>y||h.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=y+.05)}if(p>=g&&!this.switchingTrack&&S<v[v.length-1].start)return;let E=this.getNextFragment(S,d);if(E&&this.isLoopLoading(E,S)&&(E=this.getNextFragmentLoopLoading(E,d,h,Ne.MAIN,g)),!E){this.bufferFlushed=!0;return}let R=((e=this.mainFragLoading)==null?void 0:e.frag)||null;if(!this.audioOnly&&this.startFragRequested&&R&&Cn(E)&&!E.endList&&(!d.live||!this.loadingParts&&S<this.hls.liveSyncPosition)&&(this.fragmentTracker.getState(R)===Ln.OK&&(this.mainFragLoading=R=null),R&&Cn(R))){if(E.start>R.end){const L=this.fragmentTracker.getFragAtPos(S,Ne.MAIN);L&&L.end>R.end&&(R=L,this.mainFragLoading={frag:L,targetBufferTime:null})}if(E.start>R.end)return}this.loadFragment(E,c,S)}onMediaDetaching(e,t){this.bufferFlushed=this.flushing=!1,super.onMediaDetaching(e,t)}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(r=>new xu(r))}onAudioTrackSwitching(e,t){const r=!!t.url;this.trackId=t.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?(this.switchingTrack=t,this.flushAudioIfNeeded(t),this.state!==ge.STOPPED&&(this.setInterval(nC),this.state=ge.IDLE,this.tick())):(this.resetTransmuxer(),this.switchingTrack=null,this.bufferedTrack=t,this.clearInterval())}onManifestLoading(){super.onManifestLoading(),this.bufferFlushed=this.flushing=this.audioOnly=!1,this.resetItem(),this.trackId=-1}onLevelLoaded(e,t){this.mainDetails=t.details;const r=this.cachedTrackLoadedData;r&&(this.cachedTrackLoadedData=null,this.onAudioTrackLoaded(O.AUDIO_TRACK_LOADED,r))}onAudioTrackLoaded(e,t){var r;const{levels:i}=this,{details:s,id:o,groupId:c,track:d}=t;if(!i){this.warn(`Audio tracks reset while loading track ${o} "${d.name}" of "${c}"`);return}const u=this.mainDetails;if(!u||s.endCC>u.endCC||u.expired){this.cachedTrackLoadedData=t,this.state!==ge.STOPPED&&(this.state=ge.WAITING_TRACK);return}this.cachedTrackLoadedData=null,this.log(`Audio track ${o} "${d.name}" of "${c}" loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const h=i[o];let p=0;if(s.live||(r=h.details)!=null&&r.live){if(this.checkLiveUpdate(s),s.deltaUpdateFailed)return;if(h.details){var g;p=this.alignPlaylists(s,h.details,(g=this.levelLastLoaded)==null?void 0:g.details)}s.alignedSliding||(NL(s,u),s.alignedSliding||Th(s,u),p=s.fragmentStart)}h.details=s,this.levelLastLoaded=h,this.startFragRequested||this.setStartPosition(u,p),this.hls.trigger(O.AUDIO_TRACK_UPDATED,{details:s,id:o,groupId:t.groupId}),this.state===ge.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=ge.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const r=e.frag,{part:i,payload:s}=e,{config:o,trackId:c,levels:d}=this;if(!d){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const u=d[c];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const h=u.details;if(!h){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const p=o.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let g=this.transmuxer;g||(g=this.transmuxer=new nI(this.hls,Ne.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const v=this.initPTS[r.cc],y=(t=r.initSegment)==null?void 0:t.data;if(v!==void 0){const S=i?i.index:-1,E=S!==-1,R=new jv(r.level,r.sn,r.stats.chunkCount,s.byteLength,S,E);g.push(s,y,p,"",r,i,h.totalduration,!1,R,v)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${h.startSN} ,${h.endSN}],track ${c}`);const{cache:x}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new BL,complete:!1};x.push(new Uint8Array(s)),this.state!==ge.STOPPED&&(this.state=ge.WAITING_INIT_PTS)}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=null}onBufferCreated(e,t){this.bufferFlushed=this.flushing=!1;const r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer||null)}onFragLoading(e,t){!this.audioOnly&&t.frag.type===Ne.MAIN&&Cn(t.frag)&&(this.mainFragLoading=t,this.state===ge.IDLE&&this.tick())}onFragBuffered(e,t){const{frag:r,part:i}=t;if(r.type!==Ne.AUDIO){!this.audioOnly&&r.type===Ne.MAIN&&!r.elementaryStreams.video&&!r.elementaryStreams.audiovideo&&(this.audioOnly=!0,this.mainFragLoading=null);return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(Cn(r)){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(O.AUDIO_TRACK_SWITCHED,jt({},s)))}this.fragBufferedComplete(r,i),this.media&&this.tick()}onError(e,t){var r;if(t.fatal){this.state=ge.ERROR;return}switch(t.details){case re.FRAG_GAP:case re.FRAG_PARSING_ERROR:case re.FRAG_DECRYPT_ERROR:case re.FRAG_LOAD_ERROR:case re.FRAG_LOAD_TIMEOUT:case re.KEY_LOAD_ERROR:case re.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ne.AUDIO,t);break;case re.AUDIO_TRACK_LOAD_ERROR:case re.AUDIO_TRACK_LOAD_TIMEOUT:case re.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===ge.WAITING_TRACK&&((r=t.context)==null?void 0:r.type)===xt.AUDIO_TRACK&&(this.state=ge.IDLE);break;case re.BUFFER_ADD_CODEC_ERROR:case re.BUFFER_APPEND_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)||this.resetLoadingState();break;case re.BUFFER_FULL_ERROR:if(t.parent!=="audio")return;this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case re.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Wt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Wt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===ge.ENDED&&(this.state=ge.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,t,Ne.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,c=this.getCurrentContext(o);if(!c){this.resetWhenMissingContext(o);return}const{frag:d,part:u,level:h}=c,{details:p}=h,{audio:g,text:v,id3:y,initSegment:x}=s;if(this.fragContextChanged(d)||!p){this.fragmentTracker.removeFragment(d);return}if(this.state=ge.PARSING,this.switchingTrack&&g&&this.completeAudioSwitch(this.switchingTrack),x!=null&&x.tracks){const S=d.initSegment||d;this._bufferInitSegment(h,x.tracks,S,o),i.trigger(O.FRAG_PARSING_INIT_SEGMENT,{frag:S,id:r,tracks:x.tracks})}if(g){const{startPTS:S,endPTS:E,startDTS:R,endDTS:A}=g;u&&(u.elementaryStreams[Wt.AUDIO]={startPTS:S,endPTS:E,startDTS:R,endDTS:A}),d.setElementaryStreamInfo(Wt.AUDIO,S,E,R,A),this.bufferFragmentData(g,d,u,o)}if(y!=null&&(t=y.samples)!=null&&t.length){const S=Mt({id:r,frag:d,details:p},y);i.trigger(O.FRAG_PARSING_METADATA,S)}if(v){const S=Mt({id:r,frag:d,details:p},v);i.trigger(O.FRAG_PARSING_USERDATA,S)}}_bufferInitSegment(e,t,r,i){if(this.state!==ge.PARSING||(t.video&&delete t.video,t.audiovideo&&delete t.audiovideo,!t.audio))return;const s=t.audio;s.id=Ne.AUDIO;const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(O.BUFFER_CODECS,t);const c=s.initSegment;if(c!=null&&c.byteLength){const d={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:c};this.hls.trigger(O.BUFFER_APPENDING,d)}this.tickImmediate()}loadFragment(e,t,r){const i=this.fragmentTracker.getState(e);if(this.switchingTrack||i===Ln.NOT_LOADED||i===Ln.PARTIAL){var s;if(!Cn(e))this._loadInitSegment(e,t);else if((s=t.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=ge.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragmentStart!==t.details.fragmentStart&&Th(t.details,o)}else super.loadFragment(e,t,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:t,lang:r,assocLang:i,characteristics:s,audioCodec:o,channels:c}=this.bufferedTrack;Ha({name:t,lang:r,assocLang:i,characteristics:s,audioCodec:o,channels:c},e,ka)||(xh(e.url,this.hls)?(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null):this.bufferedTrack=e)}}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(O.AUDIO_TRACK_SWITCHED,jt({},e))}}class Qv extends gi{constructor(e,t){super(t,e.logger),this.hls=void 0,this.canLoad=!1,this.timer=-1,this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,r){const i=t?.renditionReports;if(i){let s=-1;for(let o=0;o<i.length;o++){const c=i[o];let d;try{d=new self.URL(c.URI,t.url).href}catch(u){this.warn(`Could not construct new URL for Rendition Report: ${u}`),d=c.URI||""}if(d===e){s=o;break}else d===e.substring(0,d.length)&&(s=o)}if(s!==-1){const o=i[s],c=parseInt(o["LAST-MSN"])||t?.lastPartSn;let d=parseInt(o["LAST-PART"])||t?.lastPartIndex;if(this.hls.config.lowLatencyMode){const h=Math.min(t.age-t.partTarget,t.targetduration);d>=0&&h>t.partTarget&&(d+=1)}const u=r&&vA(r);return new xA(c,d>=0?d:void 0,u)}}}loadPlaylist(e){this.clearTimer()}loadingPlaylist(e,t){this.clearTimer()}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}getUrlWithDirectives(e,t){if(t)try{return t.addDirectives(e)}catch(r){this.warn(`Could not construct new URL with HLS Delivery Directives: ${r}`)}return e}playlistLoaded(e,t,r){const{details:i,stats:s}=t,o=self.performance.now(),c=s.loading.first?Math.max(0,o-s.loading.first):0;i.advancedDateTime=Date.now()-c;const d=this.hls.config.timelineOffset;if(d!==i.appliedTimelineOffset){const h=Math.max(d||0,0);i.appliedTimelineOffset=h,i.fragments.forEach(p=>{p.start=p.playlistOffset+h})}if(i.live||r!=null&&r.live){const h="levelInfo"in t?t.levelInfo:t.track;if(i.reloaded(r),r&&i.fragments.length>0){bG(r,i);const R=i.playlistParsingError;if(R){this.warn(R);const A=this.hls;if(!A.config.ignorePlaylistParsingErrors){var u;const{networkDetails:L}=t;A.trigger(O.ERROR,{type:Ge.NETWORK_ERROR,details:re.LEVEL_PARSING_ERROR,fatal:!1,url:i.url,error:R,reason:R.message,level:t.level||void 0,parent:(u=i.fragments[0])==null?void 0:u.type,networkDetails:L,stats:s});return}i.playlistParsingError=null}}i.requestScheduled===-1&&(i.requestScheduled=s.loading.start);const p=this.hls.mainForwardBufferInfo,g=p?p.end-p.len:0,v=(i.edge-g)*1e3,y=PL(i,v);if(i.requestScheduled+y<o?i.requestScheduled=o:i.requestScheduled+=y,this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),!this.canLoad||!i.live)return;let x,S,E;if(i.canBlockReload&&i.endSN&&i.advanced){const R=this.hls.config.lowLatencyMode,A=i.lastPartSn,L=i.endSN,I=i.lastPartIndex,M=I!==-1,P=A===L;M?P?(S=L+1,E=R?0:I):(S=A,E=R?I+1:i.maxPartIndex):S=L+1;const k=i.age,_=k+i.ageHeader;let w=Math.min(_-i.partTarget,i.targetduration*1.5);if(w>0){if(_>i.targetduration*3)this.log(`Playlist last advanced ${k.toFixed(2)}s ago. Omitting segment and part directives.`),S=void 0,E=void 0;else if(r!=null&&r.tuneInGoal&&_-i.partTarget>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${w} with playlist age: ${i.age}`),w=0;else{const B=Math.floor(w/i.targetduration);if(S+=B,E!==void 0){const j=Math.round(w%i.targetduration/i.partTarget);E+=j}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${k.toFixed(2)}s goal: ${w} skip sn ${B} to part ${E}`)}i.tuneInGoal=w}if(x=this.getDeliveryDirectives(i,t.deliveryDirectives,S,E),R||!P){i.requestScheduled=o,this.loadingPlaylist(h,x);return}}else(i.canBlockReload||i.canSkipUntil)&&(x=this.getDeliveryDirectives(i,t.deliveryDirectives,S,E));x&&S!==void 0&&i.canBlockReload&&(i.requestScheduled=s.loading.first+Math.max(y-c*2,y/2)),this.scheduleLoading(h,x,i)}else this.clearTimer()}scheduleLoading(e,t,r){const i=r||e.details;if(!i){this.loadingPlaylist(e,t);return}const s=self.performance.now(),o=i.requestScheduled;if(s>=o){this.loadingPlaylist(e,t);return}const c=o-s;this.log(`reload live playlist ${e.name||e.bitrate+"bps"} in ${Math.round(c)} ms`),this.clearTimer(),this.timer=self.setTimeout(()=>this.loadingPlaylist(e,t),c)}getDeliveryDirectives(e,t,r,i){let s=vA(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,i=t.part,s=zf.No),new xA(r,i,s)}checkRetry(e){const t=e.details,r=bh(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:c}=i||{},d=!!i&&!!c&&(s===Kn.RetryRequest||!i.resolved&&s===Kn.SendAlternateToPenaltyBox);if(d){var u;if(o>=c.maxNumRetry)return!1;if(r&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${c.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const h=Fv(c,o);this.clearTimer(),this.timer=self.setTimeout(()=>this.loadPlaylist(),h),this.warn(`Retrying playlist loading ${o+1}/${c.maxNumRetry} after "${t}" in ${h}ms`)}e.levelRetry=!0,i.resolved=!0}return d}}function rI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!Au(n[t].attrs,e[t].attrs))return!1;return!0}function Au(n,e,t){const r=n["STABLE-RENDITION-ID"];return r&&!t?r===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>n[i]!==e[i])}function Cy(n,e){return e.label.toLowerCase()===n.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(n.lang||"").toLowerCase())}class RH extends Qv{constructor(e){super(e,"audio-track-controller"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_PARSED,this.onManifestParsed,this),e.on(O.LEVEL_LOADING,this.onLevelLoading,this),e.on(O.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(O.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(O.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_PARSED,this.onManifestParsed,this),e.off(O.LEVEL_LOADING,this.onLevelLoading,this),e.off(O.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(O.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(O.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:r,groupId:i,details:s}=t,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${o?.groupId}`);return}const c=o.details;o.details=t.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,t,c)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const r=t.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||i?.length!==r?.length||r!=null&&r.some(c=>i?.indexOf(c)===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const c=this.tracks.filter(g=>!r||r.indexOf(g.groupId)!==-1);if(c.length)this.selectDefaultTrack&&!c.some(g=>g.default)&&(this.selectDefaultTrack=!1),c.forEach((g,v)=>{g.id=v});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=c;const d=this.hls.config.audioPreference;if(!s&&d){const g=_i(d,c,ka);if(g>-1)s=c[g];else{const v=_i(d,this.tracks);s=this.tracks[v]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const h={audioTracks:c};this.log(`Updating audio tracks, ${c.length} track(s) found in group(s): ${r?.join(",")}`),this.hls.trigger(O.AUDIO_TRACKS_UPDATED,h);const p=this.trackId;if(u!==-1&&p===-1)this.setAudioTrack(u);else if(c.length&&p===-1){var o;const g=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${c.length}`);this.warn(g.message),this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:g})}}}onError(e,t){t.fatal||!t.context||t.context.type===xt.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Ha(e,i,ka))return i;const s=_i(e,this.tracksInGroup,ka);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(i){let o=t.loadLevel;o===-1&&(o=t.firstAutoLevel);const c=Fz(e,t.levels,r,o,ka);if(c===-1)return null;t.nextLoadLevel=c}if(e.channels||e.audioCodec){const o=_i(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=t[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(O.AUDIO_TRACK_SWITCHING,jt({},i)),s))return;const o=this.switchParams(i.url,r?.details,i.details);this.loadPlaylist(o)}findTrackId(e){const t=this.tracksInGroup;for(let r=0;r<t.length;r++){const i=t[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Ha(e,i,ka)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:o,audioCodec:c,channels:d}=e;for(let u=0;u<t.length;u++){const h=t[u];if(Ha({name:r,lang:i,assocLang:s,characteristics:o,audioCodec:c,channels:d},h,ka))return u}for(let u=0;u<t.length;u++){const h=t[u];if(Au(e.attrs,h.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return u}for(let u=0;u<t.length;u++){const h=t[u];if(Au(e.attrs,h.attrs,["LANGUAGE"]))return u}}return-1}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;this.shouldLoadPlaylist(t)&&xh(t.url,this.hls)&&this.scheduleLoading(t,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const r=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,t),o=e.details,c=o?.age;this.log(`Loading audio-track ${r} "${e.name}" lang:${e.lang} group:${i}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${c&&o.live?" age "+c.toFixed(1)+(o.type&&" "+o.type||""):""} ${s}`),this.hls.trigger(O.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:t||null,track:e})}}class wH{constructor(e){this.tracks=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.tracks=e}destroy(){this.tracks=this.queues=null}append(e,t,r){if(this.queues===null||this.tracks===null)return;const i=this.queues[t];i.push(e),i.length===1&&!r&&this.executeNext(t)}appendBlocker(e){return new Promise(t=>{const r={label:"async-blocker",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.append(r,e)})}prependBlocker(e){return new Promise(t=>{if(this.queues){const r={label:"async-blocker-prepend",execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};this.queues[e].unshift(r)}})}removeBlockers(){this.queues!==null&&[this.queues.video,this.queues.audio,this.queues.audiovideo].forEach(e=>{var t;const r=(t=e[0])==null?void 0:t.label;(r==="async-blocker"||r==="async-blocker-prepend")&&(e[0].execute(),e.splice(0,1))})}unblockAudio(e){if(this.queues===null)return;this.queues.audio[0]===e&&this.shiftAndExecuteNext("audio")}executeNext(e){if(this.queues===null||this.tracks===null)return;const t=this.queues[e];if(t.length){const i=t[0];try{i.execute()}catch(s){var r;if(i.onError(s),this.queues===null||this.tracks===null)return;const o=(r=this.tracks[e])==null?void 0:r.buffer;o!=null&&o.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues!==null&&(this.queues[e].shift(),this.executeNext(e))}current(e){var t;return((t=this.queues)==null?void 0:t[e][0])||null}toString(){const{queues:e,tracks:t}=this;return e===null||t===null?"<destroyed>":`
${this.list("video")}
${this.list("audio")}
${this.list("audiovideo")}}`}list(e){var t,r;return(t=this.queues)!=null&&t[e]||(r=this.tracks)!=null&&r[e]?`${e}: (${this.listSbInfo(e)}) ${this.listOps(e)}`:""}listSbInfo(e){var t;const r=(t=this.tracks)==null?void 0:t[e],i=r?.buffer;return i?`SourceBuffer${i.updating?" updating":""}${r.ended?" ended":""}${r.ending?" ending":""}`:"none"}listOps(e){var t;return((t=this.queues)==null?void 0:t[e].map(r=>r.label).join(", "))||""}}const rC=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/,iI="HlsJsTrackRemovedError";class LH extends Error{constructor(e){super(e),this.name=iI}}class IH extends gi{constructor(e,t){super("buffer-controller",e.logger),this.hls=void 0,this.fragmentTracker=void 0,this.details=null,this._objectUrl=null,this.operationQueue=null,this.bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.blockedAudioAppend=null,this.lastVideoAppendEnd=0,this.appendSource=void 0,this.transferData=void 0,this.overrides=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.sourceBuffers=[[null,null],[null,null]],this._onEndStreaming=r=>{var i;this.hls&&((i=this.mediaSource)==null?void 0:i.readyState)==="open"&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=r=>{const{media:i,mediaSource:s}=this;r&&this.log("Media source opened"),!(!i||!s)&&(s.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("emptied",this._onMediaEmptied),this.updateDuration(),this.hls.trigger(O.MEDIA_ATTACHED,{media:i,mediaSource:s}),this.mediaSource!==null&&this.checkPendingTracks())},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&this.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e,this.fragmentTracker=t,this.appendSource=nz(na(e.config.preferManagedMediaSource)),this.initTracks(),this.registerListeners()}hasSourceTypes(){return Object.keys(this.tracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.transferData=this.overrides=void 0,this.operationQueue&&(this.operationQueue.destroy(),this.operationQueue=null),this.hls=this.fragmentTracker=null,this._onMediaSourceOpen=this._onMediaSourceClose=null,this._onMediaSourceEnded=null,this._onStartStreaming=this._onEndStreaming=null}registerListeners(){const{hls:e}=this;e.on(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_PARSED,this.onManifestParsed,this),e.on(O.BUFFER_RESET,this.onBufferReset,this),e.on(O.BUFFER_APPENDING,this.onBufferAppending,this),e.on(O.BUFFER_CODECS,this.onBufferCodecs,this),e.on(O.BUFFER_EOS,this.onBufferEos,this),e.on(O.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(O.FRAG_PARSED,this.onFragParsed,this),e.on(O.FRAG_CHANGED,this.onFragChanged,this),e.on(O.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_PARSED,this.onManifestParsed,this),e.off(O.BUFFER_RESET,this.onBufferReset,this),e.off(O.BUFFER_APPENDING,this.onBufferAppending,this),e.off(O.BUFFER_CODECS,this.onBufferCodecs,this),e.off(O.BUFFER_EOS,this.onBufferEos,this),e.off(O.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(O.FRAG_PARSED,this.onFragParsed,this),e.off(O.FRAG_CHANGED,this.onFragChanged,this),e.off(O.ERROR,this.onError,this)}transferMedia(){const{media:e,mediaSource:t}=this;if(!e)return null;const r={};if(this.operationQueue){const s=this.isUpdating();s||this.operationQueue.removeBlockers();const o=this.isQueued();(s||o)&&this.warn(`Transfering MediaSource with${o?" operations in queue":""}${s?" updating SourceBuffer(s)":""} ${this.operationQueue}`),this.operationQueue.destroy()}const i=this.transferData;return!this.sourceBufferCount&&i&&i.mediaSource===t?Mt(r,i.tracks):this.sourceBuffers.forEach(s=>{const[o]=s;o&&(r[o]=Mt({},this.tracks[o]),this.removeBuffer(o)),s[0]=s[1]=null}),{media:e,mediaSource:t,tracks:r}}initTracks(){const e={};this.sourceBuffers=[[null,null],[null,null]],this.tracks=e,this.resetQueue(),this.resetAppendErrors(),this.lastMpegAudioChunk=this.blockedAudioAppend=null,this.lastVideoAppendEnd=0}onManifestLoading(){this.bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){var r;let i=2;(t.audio&&!t.video||!t.altAudio)&&(i=1),this.bufferCodecEventsTotal=i,this.log(`${i} bufferCodec event(s) expected.`),(r=this.transferData)!=null&&r.mediaSource&&this.sourceBufferCount&&i&&this.bufferCreated()}onMediaAttaching(e,t){const r=this.media=t.media,i=na(this.appendSource);if(this.transferData=this.overrides=void 0,r&&i){const s=!!t.mediaSource;(s||t.overrides)&&(this.transferData=t,this.overrides=t.overrides);const o=this.mediaSource=t.mediaSource||new i;if(this.assignMediaSource(o),s)this._objectUrl=r.src,this.attachTransferred();else{const c=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const d=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||d&&o instanceof d,iC(r),DH(r,c),r.load()}catch{r.src=c}else r.src=c}r.addEventListener("emptied",this._onMediaEmptied)}}assignMediaSource(e){var t,r;this.log(`${((t=this.transferData)==null?void 0:t.mediaSource)===e?"transferred":"created"} media source: ${(r=e.constructor)==null?void 0:r.name}`),e.addEventListener("sourceopen",this._onMediaSourceOpen),e.addEventListener("sourceended",this._onMediaSourceEnded),e.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(e.addEventListener("startstreaming",this._onStartStreaming),e.addEventListener("endstreaming",this._onEndStreaming))}attachTransferred(){const e=this.media,t=this.transferData;if(!t||!e)return;const r=this.tracks,i=t.tracks,s=i?Object.keys(i):null,o=s?s.length:0,c=()=>{this.media&&this.mediaSourceOpenOrEnded&&this._onMediaSourceOpen()};if(i&&s&&o){if(!this.tracksReady){this.hls.config.startFragPrefetch=!0,this.log("attachTransferred: waiting for SourceBuffer track info");return}if(this.log(`attachTransferred: (bufferCodecEventsTotal ${this.bufferCodecEventsTotal})
required tracks: ${Yt(r,(d,u)=>d==="initSegment"?void 0:u)};
transfer tracks: ${Yt(i,(d,u)=>d==="initSegment"?void 0:u)}}`),!aL(i,r)){t.mediaSource=null,t.tracks=void 0;const d=e.currentTime,u=this.details,h=Math.max(d,u?.fragments[0].start||0);if(h-d>1){this.log(`attachTransferred: waiting for playback to reach new tracks start time ${d} -> ${h}`);return}this.warn(`attachTransferred: resetting MediaSource for incompatible tracks ("${Object.keys(i)}"->"${Object.keys(r)}") start time: ${h} currentTime: ${d}`),this.onMediaDetaching(O.MEDIA_DETACHING,{}),this.onMediaAttaching(O.MEDIA_ATTACHING,t),e.currentTime=h;return}this.transferData=void 0,s.forEach(d=>{const u=d,h=i[u];if(h){const p=h.buffer;if(p){const g=this.fragmentTracker,v=h.id;if(g.hasFragments(v)||g.hasParts(v)){const S=lt.getBuffered(p);g.detectEvictedFragments(u,S,v,null,!0)}const y=m0(u),x=[u,p];this.sourceBuffers[y]=x,p.updating&&this.operationQueue&&this.operationQueue.prependBlocker(u),this.trackSourceBuffer(u,h)}}}),c(),this.bufferCreated()}else this.log("attachTransferred: MediaSource w/o SourceBuffers"),c()}get mediaSourceOpenOrEnded(){var e;const t=(e=this.mediaSource)==null?void 0:e.readyState;return t==="open"||t==="ended"}onMediaDetaching(e,t){const r=!!t.transferMedia;this.transferData=this.overrides=void 0;const{media:i,mediaSource:s,_objectUrl:o}=this;if(s){if(this.log(`media source ${r?"transferring":"detaching"}`),r)this.sourceBuffers.forEach(([c])=>{c&&this.removeBuffer(c)}),this.resetQueue();else{if(this.mediaSourceOpenOrEnded){const c=s.readyState==="open";try{const d=s.sourceBuffers;for(let u=d.length;u--;)c&&d[u].abort(),s.removeSourceBuffer(d[u]);c&&s.endOfStream()}catch(d){this.warn(`onMediaDetaching: ${d.message} while calling endOfStream`)}}this.sourceBufferCount&&this.onBufferReset()}s.removeEventListener("sourceopen",this._onMediaSourceOpen),s.removeEventListener("sourceended",this._onMediaSourceEnded),s.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(s.removeEventListener("startstreaming",this._onStartStreaming),s.removeEventListener("endstreaming",this._onEndStreaming)),this.mediaSource=null,this._objectUrl=null}i&&(i.removeEventListener("emptied",this._onMediaEmptied),r||(o&&self.URL.revokeObjectURL(o),this.mediaSrc===o?(i.removeAttribute("src"),this.appendSource&&iC(i),i.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.media=null),this.hls.trigger(O.MEDIA_DETACHED,t)}onBufferReset(){this.sourceBuffers.forEach(([e])=>{e&&this.resetBuffer(e)}),this.initTracks()}resetBuffer(e){var t;const r=(t=this.tracks[e])==null?void 0:t.buffer;if(this.removeBuffer(e),r)try{var i;(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(r)}catch(s){this.warn(`onBufferReset ${e}`,s)}delete this.tracks[e]}removeBuffer(e){this.removeBufferListeners(e),this.sourceBuffers[m0(e)]=[null,null];const t=this.tracks[e];t&&(t.buffer=void 0)}resetQueue(){this.operationQueue&&this.operationQueue.destroy(),this.operationQueue=new wH(this.tracks)}onBufferCodecs(e,t){const r=this.tracks,i=Object.keys(t);this.log(`BUFFER_CODECS: "${i}" (current SB count ${this.sourceBufferCount})`);const s="audiovideo"in t&&(r.audio||r.video)||r.audiovideo&&("audio"in t||"video"in t),o=!s&&this.sourceBufferCount&&this.media&&i.some(c=>!r[c]);if(s||o){this.warn(`Unsupported transition between "${Object.keys(r)}" and "${i}" SourceBuffers`);return}i.forEach(c=>{var d,u,h;const p=t[c],{id:g,codec:v,levelCodec:y,container:x,metadata:S,supplemental:E}=p;let R=r[c];const A=(d=this.transferData)==null||(u=d.tracks)==null?void 0:u[c],L=A!=null&&A.buffer?A:R,I=L?.pendingCodec||L?.codec,M=L?.levelCodec;R||(R=r[c]={buffer:void 0,listeners:[],codec:v,supplemental:E,container:x,levelCodec:y,metadata:S,id:g});const P=jf(I,M),k=P?.replace(rC,"$1");let _=jf(v,y);const w=(h=_)==null?void 0:h.replace(rC,"$1");_&&P&&k!==w&&(c.slice(0,5)==="audio"&&(_=yh(_,this.appendSource)),this.log(`switching codec ${I} to ${_}`),_!==(R.pendingCodec||R.codec)&&(R.pendingCodec=_),R.container=x,this.appendChangeType(c,x,_))}),(this.tracksReady||this.sourceBufferCount)&&(t.tracks=this.sourceBufferTracks),!this.sourceBufferCount&&this.mediaSourceOpenOrEnded&&this.checkPendingTracks()}get sourceBufferTracks(){return Object.keys(this.tracks).reduce((e,t)=>{const r=this.tracks[t];return e[t]={id:r.id,container:r.container,codec:r.codec,levelCodec:r.levelCodec},e},{})}appendChangeType(e,t,r){const i=`${t};codecs=${r}`,s={label:`change-type=${i}`,execute:()=>{const o=this.tracks[e];if(o){const c=o.buffer;c!=null&&c.changeType&&(this.log(`changing ${e} sourceBuffer type to ${i}`),c.changeType(i),o.codec=r,o.container=t)}this.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:o=>{this.warn(`Failed to change ${e} SourceBuffer type`,o)}};this.append(s,e,this.isPending(this.tracks[e]))}blockAudio(e){var t;const r=e.start,i=r+e.duration*.05;if(((t=this.fragmentTracker.getAppendedFrag(r,Ne.MAIN))==null?void 0:t.gap)===!0)return;const o={label:"block-audio",execute:()=>{var c;const d=this.tracks.video;(this.lastVideoAppendEnd>i||d!=null&&d.buffer&&lt.isBuffered(d.buffer,i)||((c=this.fragmentTracker.getAppendedFrag(i,Ne.MAIN))==null?void 0:c.gap)===!0)&&(this.blockedAudioAppend=null,this.shiftAndExecuteNext("audio"))},onStart:()=>{},onComplete:()=>{},onError:c=>{this.warn("Error executing block-audio operation",c)}};this.blockedAudioAppend={op:o,frag:e},this.append(o,"audio",!0)}unblockAudio(){const{blockedAudioAppend:e,operationQueue:t}=this;e&&t&&(this.blockedAudioAppend=null,t.unblockAudio(e.op))}onBufferAppending(e,t){const{tracks:r}=this,{data:i,type:s,parent:o,frag:c,part:d,chunkMeta:u,offset:h}=t,p=u.buffering[s],{sn:g,cc:v}=c,y=self.performance.now();p.start=y;const x=c.stats.buffering,S=d?d.stats.buffering:null;x.start===0&&(x.start=y),S&&S.start===0&&(S.start=y);const E=r.audio;let R=!1;s==="audio"&&E?.container==="audio/mpeg"&&(R=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const A=r.video,L=A?.buffer;if(L&&g!=="initSegment"){const P=d||c,k=this.blockedAudioAppend;if(s==="audio"&&o!=="main"&&!this.blockedAudioAppend){const w=P.start+P.duration*.05,B=L.buffered,j=this.currentOp("video");!B.length&&!j?this.blockAudio(P):!j&&!lt.isBuffered(L,w)&&this.lastVideoAppendEnd<w&&this.blockAudio(P)}else if(s==="video"){const _=P.end;if(k){const w=k.frag.start;(_>w||_<this.lastVideoAppendEnd||lt.isBuffered(L,w))&&this.unblockAudio()}this.lastVideoAppendEnd=_}}const I=(d||c).start,M={label:`append-${s}`,execute:()=>{var P;p.executeStart=self.performance.now();const k=(P=this.tracks[s])==null?void 0:P.buffer;k&&(R?this.updateTimestampOffset(k,I,.1,s,g,v):h!==void 0&&_e(h)&&this.updateTimestampOffset(k,h,1e-6,s,g,v)),this.appendExecutor(i,s)},onStart:()=>{},onComplete:()=>{const P=self.performance.now();p.executeEnd=p.end=P,x.first===0&&(x.first=P),S&&S.first===0&&(S.first=P);const k={};this.sourceBuffers.forEach(([_,w])=>{_&&(k[_]=lt.getBuffered(w))}),this.appendErrors[s]=0,s==="audio"||s==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(O.BUFFER_APPENDED,{type:s,frag:c,part:d,chunkMeta:u,parent:c.type,timeRanges:k})},onError:P=>{var k;const _={type:Ge.MEDIA_ERROR,parent:c.type,details:re.BUFFER_APPEND_ERROR,sourceBufferName:s,frag:c,part:d,chunkMeta:u,error:P,err:P,fatal:!1},w=(k=this.media)==null?void 0:k.error;if(P.code===DOMException.QUOTA_EXCEEDED_ERR||P.name=="QuotaExceededError"||"quota"in P)_.details=re.BUFFER_FULL_ERROR;else if(P.code===DOMException.INVALID_STATE_ERR&&this.mediaSourceOpenOrEnded&&!w)_.errorAction=bu(!0);else if(P.name===iI&&this.sourceBufferCount===0)_.errorAction=bu(!0);else{const B=++this.appendErrors[s];this.warn(`Failed ${B}/${this.hls.config.appendErrorMaxRetry} times to append segment in "${s}" sourceBuffer (${w||"no media error"})`),(B>=this.hls.config.appendErrorMaxRetry||w)&&(_.fatal=!0)}this.hls.trigger(O.ERROR,_)}};this.append(M,s,this.isPending(this.tracks[s]))}getFlushOp(e,t,r){return this.log(`queuing "${e}" remove ${t}-${r}`),{label:"remove",execute:()=>{this.removeExecutor(e,t,r)},onStart:()=>{},onComplete:()=>{this.hls.trigger(O.BUFFER_FLUSHED,{type:e})},onError:i=>{this.warn(`Failed to remove ${t}-${r} from "${e}" SourceBuffer`,i)}}}onBufferFlushing(e,t){const{type:r,startOffset:i,endOffset:s}=t;r?this.append(this.getFlushOp(r,i,s),r):this.sourceBuffers.forEach(([o])=>{o&&this.append(this.getFlushOp(o,i,s),o)})}onFragParsed(e,t){const{frag:r,part:i}=t,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[Wt.AUDIOVIDEO]?s.push("audiovideo"):(o[Wt.AUDIO]&&s.push("audio"),o[Wt.VIDEO]&&s.push("video"));const c=()=>{const d=self.performance.now();r.stats.buffering.end=d,i&&(i.stats.buffering.end=d);const u=i?i.stats:r.stats;this.hls.trigger(O.FRAG_BUFFERED,{frag:r,part:i,stats:u,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(c,s).catch(d=>{this.warn(`Fragment buffered callback ${d}`),this.stepOperationQueue(this.sourceBufferTypes)})}onFragChanged(e,t){this.trimBuffers()}get bufferedToEnd(){return this.sourceBufferCount>0&&!this.sourceBuffers.some(([e])=>{var t,r;return e&&(!((t=this.tracks[e])!=null&&t.ended)||((r=this.tracks[e])==null?void 0:r.ending))})}onBufferEos(e,t){var r;this.sourceBuffers.forEach(([o])=>{if(o){const c=this.tracks[o];(!t.type||t.type===o)&&(c.ending=!0,c.ended||(c.ended=!0,this.log(`${o} buffer reached EOS`)))}});const i=((r=this.overrides)==null?void 0:r.endOfStream)!==!1;this.sourceBufferCount>0&&!this.sourceBuffers.some(([o])=>{var c;return o&&!((c=this.tracks[o])!=null&&c.ended)})&&(i?(this.log("Queueing EOS"),this.blockUntilOpen(()=>{this.tracksEnded();const{mediaSource:o}=this;if(!o||o.readyState!=="open"){o&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),o.endOfStream(),this.hls.trigger(O.BUFFERED_TO_END,void 0)})):(this.tracksEnded(),this.hls.trigger(O.BUFFERED_TO_END,void 0)))}tracksEnded(){this.sourceBuffers.forEach(([e])=>{if(e!==null){const t=this.tracks[e];t&&(t.ending=!1)}})}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.updateDuration())}updateDuration(){this.blockUntilOpen(()=>{const e=this.getDurationAndRange();e&&this.updateMediaSource(e)})}onError(e,t){if(t.details===re.BUFFER_APPEND_ERROR&&t.frag){var r;const i=(r=t.errorAction)==null?void 0:r.nextAutoLevel;_e(i)&&i!==t.frag.level&&this.resetAppendErrors()}}resetAppendErrors(){this.appendErrors={audio:0,video:0,audiovideo:0}}trimBuffers(){const{hls:e,details:t,media:r}=this;if(!r||t===null||!this.sourceBufferCount)return;const i=e.config,s=r.currentTime,o=t.levelTargetDuration,c=t.live&&i.liveBackBufferLength!==null?i.liveBackBufferLength:i.backBufferLength;if(_e(c)&&c>=0){const d=Math.max(c,o),u=Math.floor(s/o)*o-d;this.flushBackBuffer(s,o,u)}if(_e(i.frontBufferFlushThreshold)&&i.frontBufferFlushThreshold>0){const d=Math.max(i.maxBufferLength,i.frontBufferFlushThreshold),u=Math.max(d,o),h=Math.floor(s/o)*o+u;this.flushFrontBuffer(s,o,h)}}flushBackBuffer(e,t,r){this.sourceBuffers.forEach(([i,s])=>{if(s){const c=lt.getBuffered(s);if(c.length>0&&r>c.start(0)){var o;this.hls.trigger(O.BACK_BUFFER_REACHED,{bufferEnd:r});const d=this.tracks[i];if((o=this.details)!=null&&o.live)this.hls.trigger(O.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(d!=null&&d.ended){this.log(`Cannot flush ${i} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(O.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:i})}}})}flushFrontBuffer(e,t,r){this.sourceBuffers.forEach(([i,s])=>{if(s){const o=lt.getBuffered(s),c=o.length;if(c<2)return;const d=o.start(c-1),u=o.end(c-1);if(r>d||e>=d&&e<=u)return;this.hls.trigger(O.BUFFER_FLUSHING,{startOffset:d,endOffset:1/0,type:i})}})}getDurationAndRange(){var e;const{details:t,mediaSource:r}=this;if(!t||!this.media||r?.readyState!=="open")return null;const i=t.edge;if(t.live&&this.hls.config.liveDurationInfinity){if(t.fragments.length&&t.live&&r.setLiveSeekableRange){const u=Math.max(0,t.fragmentStart),h=Math.max(u,i);return{duration:1/0,start:u,end:h}}return{duration:1/0}}const s=(e=this.overrides)==null?void 0:e.duration;if(s)return _e(s)?{duration:s}:null;const o=this.media.duration,c=_e(r.duration)?r.duration:0;return i>c&&i>o||!_e(o)?{duration:i}:null}updateMediaSource({duration:e,start:t,end:r}){const i=this.mediaSource;!this.media||!i||i.readyState!=="open"||(i.duration!==e&&(_e(e)&&this.log(`Updating MediaSource duration to ${e.toFixed(3)}`),i.duration=e),t!==void 0&&r!==void 0&&(this.log(`MediaSource duration is set to ${i.duration}. Setting seekable range to ${t}-${r}.`),i.setLiveSeekableRange(t,r)))}get tracksReady(){const e=this.pendingTrackCount;return e>0&&(e>=this.bufferCodecEventsTotal||this.isPending(this.tracks.audiovideo))}checkPendingTracks(){const{bufferCodecEventsTotal:e,pendingTrackCount:t,tracks:r}=this;if(this.log(`checkPendingTracks (pending: ${t} codec events expected: ${e}) ${Yt(r)}`),this.tracksReady){var i;const s=(i=this.transferData)==null?void 0:i.tracks;s&&Object.keys(s).length?this.attachTransferred():this.createSourceBuffers()}}bufferCreated(){if(this.sourceBufferCount){const e={};this.sourceBuffers.forEach(([t,r])=>{if(t){const i=this.tracks[t];e[t]={buffer:r,container:i.container,codec:i.codec,supplemental:i.supplemental,levelCodec:i.levelCodec,id:i.id,metadata:i.metadata}}}),this.hls.trigger(O.BUFFER_CREATED,{tracks:e}),this.log(`SourceBuffers created. Running queue: ${this.operationQueue}`),this.sourceBuffers.forEach(([t])=>{this.executeNext(t)})}else{const e=new Error("could not create source buffer for media codec(s)");this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:e,reason:e.message})}}createSourceBuffers(){const{tracks:e,sourceBuffers:t,mediaSource:r}=this;if(!r)throw new Error("createSourceBuffers called when mediaSource was null");for(const s in e){const o=s,c=e[o];if(this.isPending(c)){const d=this.getTrackCodec(c,o),u=`${c.container};codecs=${d}`;c.codec=d,this.log(`creating sourceBuffer(${u})${this.currentOp(o)?" Queued":""} ${Yt(c)}`);try{const h=r.addSourceBuffer(u),p=m0(o),g=[o,h];t[p]=g,c.buffer=h}catch(h){var i;this.error(`error while trying to add sourceBuffer: ${h.message}`),this.shiftAndExecuteNext(o),(i=this.operationQueue)==null||i.removeBlockers(),delete this.tracks[o],this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:h,sourceBufferName:o,mimeType:u,parent:c.id});return}this.trackSourceBuffer(o,c)}}this.bufferCreated()}getTrackCodec(e,t){const r=e.supplemental;let i=e.codec;r&&(t==="video"||t==="audiovideo")&&my(r,"video")&&(i=Ez(i,r));const s=jf(i,e.levelCodec);return s?t.slice(0,5)==="audio"?yh(s,this.appendSource):s:""}trackSourceBuffer(e,t){const r=t.buffer;if(!r)return;const i=this.getTrackCodec(t,e);this.tracks[e]={buffer:r,codec:i,container:t.container,levelCodec:t.levelCodec,supplemental:t.supplemental,metadata:t.metadata,id:t.id,listeners:[]},this.removeBufferListeners(e),this.addBufferListener(e,"updatestart",this.onSBUpdateStart),this.addBufferListener(e,"updateend",this.onSBUpdateEnd),this.addBufferListener(e,"error",this.onSBUpdateError),this.appendSource&&this.addBufferListener(e,"bufferedchange",(s,o)=>{const c=o.removedRanges;c!=null&&c.length&&this.hls.trigger(O.BUFFER_FLUSHED,{type:s})})}get mediaSrc(){var e,t;const r=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return r?.src}onSBUpdateStart(e){const t=this.currentOp(e);t&&t.onStart()}onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const r=this.currentOp(e);r&&(r.onComplete(),this.shiftAndExecuteNext(e))}onSBUpdateError(e,t){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,t),this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.currentOp(e);s&&s.onError(i)}updateTimestampOffset(e,t,r,i,s,o){const c=t-e.timestampOffset;Math.abs(c)>=r&&(this.log(`Updating ${i} SourceBuffer timestampOffset to ${t} (sn: ${s} cc: ${o})`),e.timestampOffset=t)}removeExecutor(e,t,r){const{media:i,mediaSource:s}=this,o=this.tracks[e],c=o?.buffer;if(!i||!s||!c){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),this.shiftAndExecuteNext(e);return}const d=_e(i.duration)?i.duration:1/0,u=_e(s.duration)?s.duration:1/0,h=Math.max(0,t),p=Math.min(r,d,u);p>h&&(!o.ending||o.ended)?(o.ended=!1,this.log(`Removing [${h},${p}] from the ${e} SourceBuffer`),c.remove(h,p)):this.shiftAndExecuteNext(e)}appendExecutor(e,t){const r=this.tracks[t],i=r?.buffer;if(!i)throw new LH(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);r.ending=!1,r.ended=!1,i.appendBuffer(e)}blockUntilOpen(e){if(this.isUpdating()||this.isQueued())this.blockBuffers(e).catch(t=>{this.warn(`SourceBuffer blocked callback ${t}`),this.stepOperationQueue(this.sourceBufferTypes)});else try{e()}catch(t){this.warn(`Callback run without blocking ${this.operationQueue} ${t}`)}}isUpdating(){return this.sourceBuffers.some(([e,t])=>e&&t.updating)}isQueued(){return this.sourceBuffers.some(([e])=>e&&!!this.currentOp(e))}isPending(e){return!!e&&!e.buffer}blockBuffers(e,t=this.sourceBufferTypes){if(!t.length)return this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);const{operationQueue:r}=this,i=t.map(o=>this.appendBlocker(o));return t.length>1&&!!this.blockedAudioAppend&&this.unblockAudio(),Promise.all(i).then(o=>{r===this.operationQueue&&(e(),this.stepOperationQueue(this.sourceBufferTypes))})}stepOperationQueue(e){e.forEach(t=>{var r;const i=(r=this.tracks[t])==null?void 0:r.buffer;!i||i.updating||this.shiftAndExecuteNext(t)})}append(e,t,r){this.operationQueue&&this.operationQueue.append(e,t,r)}appendBlocker(e){if(this.operationQueue)return this.operationQueue.appendBlocker(e)}currentOp(e){return this.operationQueue?this.operationQueue.current(e):null}executeNext(e){e&&this.operationQueue&&this.operationQueue.executeNext(e)}shiftAndExecuteNext(e){this.operationQueue&&this.operationQueue.shiftAndExecuteNext(e)}get pendingTrackCount(){return Object.keys(this.tracks).reduce((e,t)=>e+(this.isPending(this.tracks[t])?1:0),0)}get sourceBufferCount(){return this.sourceBuffers.reduce((e,[t])=>e+(t?1:0),0)}get sourceBufferTypes(){return this.sourceBuffers.map(([e])=>e).filter(e=>!!e)}addBufferListener(e,t,r){const i=this.tracks[e];if(!i)return;const s=i.buffer;if(!s)return;const o=r.bind(this,e);i.listeners.push({event:t,listener:o}),s.addEventListener(t,o)}removeBufferListeners(e){const t=this.tracks[e];if(!t)return;const r=t.buffer;r&&(t.listeners.forEach(i=>{r.removeEventListener(i.event,i.listener)}),t.listeners.length=0)}}function iC(n){const e=n.querySelectorAll("source");[].slice.call(e).forEach(t=>{n.removeChild(t)})}function DH(n,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,n.appendChild(t)}function m0(n){return n==="audio"?1:0}class Zv{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(O.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(O.MANIFEST_PARSED,this.onManifestParsed,this),e.on(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(O.BUFFER_CODECS,this.onBufferCodecs,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(O.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(O.MANIFEST_PARSED,this.onManifestParsed,this),e.off(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(O.BUFFER_CODECS,this.onBufferCodecs,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const r=this.hls.levels[t.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&_e(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping(),this.media=null}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&t.logger.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=r,t.autoLevelEnabled&&t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const r=t.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,Zv.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,!t.width&&!t.height&&(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return Math.min(e,this.hls.config.maxDevicePixelRatio)}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,t,r){if(!(e!=null&&e.length))return-1;const i=(c,d)=>d?c.width!==d.width||c.height!==d.height:!0;let s=e.length-1;const o=Math.max(t,r);for(let c=0;c<e.length;c+=1){const d=e[c];if((d.width>=o||d.height>=o)&&i(d,e[c+1])){s=c;break}}return s}}const PH={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"},ar=PH,_H={HLS:"h"},OH=_H,kH="CMCD-Object",MH="CMCD-Request",NH="CMCD-Session",BH="CMCD-Status",Wc={OBJECT:kH,REQUEST:MH,SESSION:NH,STATUS:BH},$H={[Wc.OBJECT]:["br","ab","d","ot","tb","tpb","lb","tab","lab","url"],[Wc.REQUEST]:["pb","bl","tbl","dl","ltc","mtp","nor","nrr","rc","sn","sta","su","ttfb","ttfbb","ttlb","cmsdd","cmsds","smrt","df","cs"],[Wc.SESSION]:["cid","pr","sf","sid","st","v","msd"],[Wc.STATUS]:["bs","bsd","cdn","rtp","bg","pt","ec","e"]};class Sl{constructor(e,t){Array.isArray(e)&&(e=e.map(r=>r instanceof Sl?r:new Sl(r))),this.value=e,this.params=t}}const FH="Dict";function UH(n){return Array.isArray(n)?JSON.stringify(n):n instanceof Map?"Map{}":n instanceof Set?"Set{}":typeof n=="object"?JSON.stringify(n):String(n)}function jH(n,e,t,r){return new Error(`failed to ${n} "${UH(e)}" as ${t}`,{cause:r})}function Ui(n,e,t){return jH("serialize",n,e,t)}class sI{constructor(e){this.description=e}}const sC="Bare Item",zH="Boolean";function GH(n){if(typeof n!="boolean")throw Ui(n,zH);return n?"?1":"?0"}function HH(n){return btoa(String.fromCharCode(...n))}const VH="Byte Sequence";function KH(n){if(ArrayBuffer.isView(n)===!1)throw Ui(n,VH);return`:${HH(n)}:`}const WH="Integer";function qH(n){return n<-999999999999999||999999999999999<n}function aI(n){if(qH(n))throw Ui(n,WH);return n.toString()}function YH(n){return`@${aI(n.getTime()/1e3)}`}function oI(n,e){if(n<0)return-oI(-n,e);const t=Math.pow(10,e);if(Math.abs(n*t%1-.5)<Number.EPSILON){const i=Math.floor(n*t);return(i%2===0?i:i+1)/t}else return Math.round(n*t)/t}const XH="Decimal";function QH(n){const e=oI(n,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Ui(n,XH);const t=e.toString();return t.includes(".")?t:`${t}.0`}const ZH="String",JH=/[\x00-\x1f\x7f]+/;function e9(n){if(JH.test(n))throw Ui(n,ZH);return`"${n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function t9(n){return n.description||n.toString().slice(7,-1)}const n9="Token";function aC(n){const e=t9(n);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Ui(e,n9);return e}function Ry(n){switch(typeof n){case"number":if(!_e(n))throw Ui(n,sC);return Number.isInteger(n)?aI(n):QH(n);case"string":return e9(n);case"symbol":return aC(n);case"boolean":return GH(n);case"object":if(n instanceof Date)return YH(n);if(n instanceof Uint8Array)return KH(n);if(n instanceof sI)return aC(n);default:throw Ui(n,sC)}}const r9="Key";function wy(n){if(/^[a-z*][a-z0-9\-_.*]*$/.test(n)===!1)throw Ui(n,r9);return n}function Jv(n){return n==null?"":Object.entries(n).map(([e,t])=>t===!0?`;${wy(e)}`:`;${wy(e)}=${Ry(t)}`).join("")}function lI(n){return n instanceof Sl?`${Ry(n.value)}${Jv(n.params)}`:Ry(n)}function i9(n){return`(${n.value.map(lI).join(" ")})${Jv(n.params)}`}function s9(n,e={whitespace:!0}){if(typeof n!="object")throw Ui(n,FH);const t=n instanceof Map?n.entries():Object.entries(n),r=e?.whitespace?" ":"";return Array.from(t).map(([i,s])=>{s instanceof Sl||(s=new Sl(s));let o=wy(i);return s.value===!0?o+=Jv(s.params):(o+="=",Array.isArray(s.value)?o+=i9(s):o+=lI(s)),o}).join(`,${r}`)}function a9(n,e){return s9(n,e)}function o9(n){return["ot","sf","st","e","sta"].includes(n)}function l9(n){return typeof n=="number"?_e(n):n!=null&&n!==""&&n!==!1}function c9(n,e){const t=new URL(n),r=new URL(e);if(t.origin!==r.origin)return n;const i=t.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}const Kf=n=>Math.round(n),u9=(n,e)=>(e?.baseUrl&&(n=c9(n,e.baseUrl)),encodeURIComponent(n)),Tf=n=>Kf(n/100)*100,d9={br:Kf,d:Kf,bl:Tf,dl:Tf,mtp:Tf,nor:u9,rtp:Tf,tb:Kf};function f9(n,e){const t={};if(n==null||typeof n!="object")return t;const r=Object.keys(n).sort(),i=Mt({},d9,e?.formatters),s=e?.filter;return r.forEach(o=>{if(s?.(o)===!1)return;let c=n[o];const d=i[o];d&&(c=d(c,e)),!(o==="v"&&c===1)&&(o=="pr"&&c===1||l9(c)&&(o9(o)&&typeof c=="string"&&(c=new sI(c)),t[o]=c))}),t}function cI(n,e={}){return n?a9(f9(n,e),Mt({whitespace:!1},e)):""}function h9(n,e={}){const t={};if(!n)return t;const r=Object.entries(n),i=Object.entries($H).concat(Object.entries(e?.customHeaderMap||{})),s=r.reduce((o,c)=>{var d,u;const[h,p]=c,g=((d=i.find(v=>v[1].includes(h)))===null||d===void 0?void 0:d[0])||Wc.REQUEST;return(u=o[g])!==null&&u!==void 0||(o[g]={}),o[g][h]=p,o},{});return Object.entries(s).reduce((o,[c,d])=>(o[c]=cI(d,e),o),t)}function p9(n,e,t){return Mt(n,h9(e,t))}const m9="CMCD";function g9(n,e={}){if(!n)return"";const t=cI(n,e);return`${m9}=${encodeURIComponent(t)}`}const oC=/CMCD=[^&#]+/;function y9(n,e,t){const r=g9(e,t);if(!r)return n;if(oC.test(n))return n.replace(oC,r);const i=n.includes("?")?"&":"?";return`${n}${i}${r}`}class v9{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:ar.MANIFEST,su:!this.initialized})}catch(s){this.hls.logger.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const{frag:s,part:o}=i,c=this.hls.levels[s.level],d=this.getObjectType(s),u={d:(o||s).duration*1e3,ot:d};(d===ar.VIDEO||d===ar.AUDIO||d==ar.MUXED)&&(u.br=c.bitrate/1e3,u.tb=this.getTopBandwidth(d)/1e3,u.bl=this.getBufferLength(d));const h=o?this.getNextPart(o):this.getNextFrag(s);h!=null&&h.url&&h.url!==s.url&&(u.nor=h.url),this.apply(i,u)}catch(s){this.hls.logger.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const t=this.config=e.config,{cmcd:r}=t;r!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||e.sessionId,this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHED,this.onMediaDetached,this),e.on(O.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHED,this.onMediaDetached,this),e.off(O.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=this.media=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var r,i;this.audioBuffer=(r=t.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=t.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:OH.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Mt(t,this.createData());const r=t.ot===ar.INIT||t.ot===ar.VIDEO||t.ot===ar.MUXED;this.starved&&r&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:i}=this;i&&(t=Object.keys(t).reduce((o,c)=>(i.includes(c)&&(o[c]=t[c]),o),{}));const s={baseUrl:e.url};this.useHeaders?(e.headers||(e.headers={}),p9(e.headers,t,s)):e.url=y9(e.url,t,s)}getNextFrag(e){var t;const r=(t=this.hls.levels[e.level])==null?void 0:t.details;if(r){const i=e.sn-r.startSN;return r.fragments[i+1]}}getNextPart(e){var t,r;const{index:i,fragment:s}=e,o=(t=this.hls.levels[s.level])==null||(r=t.details)==null?void 0:r.partList;if(o){const{sn:c}=s;for(let d=o.length-1;d>=0;d--){const u=o[d];if(u.index===i&&u.fragment.sn===c)return o[d+1]}}}getObjectType(e){const{type:t}=e;if(t==="subtitle")return ar.TIMED_TEXT;if(e.sn==="initSegment")return ar.INIT;if(t==="audio")return ar.AUDIO;if(t==="main")return this.hls.audioTracks.length?ar.VIDEO:ar.MUXED}getTopBandwidth(e){let t=0,r;const i=this.hls;if(e===ar.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}return r.forEach(s=>{s.bitrate>t&&(t=s.bitrate)}),t>0?t:NaN}getBufferLength(e){const t=this.media,r=e===ar.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!t?NaN:lt.bufferInfo(r,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,c){t(s),this.loader.load(s,o,c)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,c){t(s),this.loader.load(s,o,c)}}}}const x9=3e5;class b9 extends gi{constructor(e){super("content-steering",e.logger),this.hls=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this._pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.registerListeners()}registerListeners(){const e=this.hls;e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(O.MANIFEST_PARSED,this.onManifestParsed,this),e.on(O.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(O.MANIFEST_PARSED,this.onManifestParsed,this),e.off(O.ERROR,this.onError,this))}pathways(){return(this.levels||[]).reduce((e,t)=>(e.indexOf(t.pathwayId)===-1&&e.push(t.pathwayId),e),[])}get pathwayPriority(){return this._pathwayPriority}set pathwayPriority(e){this.updatePathwayPriority(e)}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:r}=t;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:r}=t;if(r?.action===Kn.SendAlternateToPenaltyBox&&r.flags===ii.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this._pathwayPriority,o=this.pathwayId;if(t.context){const{groupId:c,pathwayId:d,type:u}=t.context;c&&i?o=this.getPathwayForGroupId(c,u,o):d&&(o=d)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&i&&(s=this.pathways()),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==o),t.details===re.BUFFER_APPEND_ERROR&&!t.fatal?r.resolved=!0:r.resolved||this.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${Yt(s)} penalized: ${Yt(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),t=this.getLevelsForPathway(r),this.pathwayId=r}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this._pathwayPriority=e;let t;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>x9&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in r)continue;if(o===this.pathwayId)return;const c=this.hls.nextLoadLevel,d=this.hls.levels[c];if(t=this.getLevelsForPathway(o),t.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,kL(t),this.hls.trigger(O.LEVELS_UPDATED,{levels:t});const u=this.hls.levels[c];d&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==d.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==d.bitrate&&this.log(`Unstable Pathways change from bitrate ${d.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=c);break}}}getPathwayForGroupId(e,t,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(t===xt.AUDIO_TRACK&&i[s].hasAudioGroup(e)||t===xt.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const t=this.levels;if(!t)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":c,"URI-REPLACEMENT":d}=s;if(t.some(h=>h.pathwayId===o))return;const u=this.getLevelsForPathway(c).map(h=>{const p=new sn(h.attrs);p["PATHWAY-ID"]=o;const g=p.AUDIO&&`${p.AUDIO}_clone_${o}`,v=p.SUBTITLES&&`${p.SUBTITLES}_clone_${o}`;g&&(r[p.AUDIO]=g,p.AUDIO=g),v&&(i[p.SUBTITLES]=v,p.SUBTITLES=v);const y=uI(h.uri,p["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",d),x=new xu({attrs:p,audioCodec:h.audioCodec,bitrate:h.bitrate,height:h.height,name:h.name,url:y,videoCodec:h.videoCodec,width:h.width});if(h.audioGroups)for(let S=1;S<h.audioGroups.length;S++)x.addGroupId("audio",`${h.audioGroups[S]}_clone_${o}`);if(h.subtitleGroups)for(let S=1;S<h.subtitleGroups.length;S++)x.addGroupId("text",`${h.subtitleGroups[S]}_clone_${o}`);return x});t.push(...u),lC(this.audioTracks,r,d,o),lC(this.subtitleTracks,i,d,o)})}loadSteeringManifest(e){const t=this.hls.config,r=t.loader;this.loader&&this.loader.destroy(),this.loader=new r(t);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const h=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+h)}const s={responseType:"json",url:i.href},o=t.steeringManifestLoadPolicy.default,c=o.errorRetry||o.timeoutRetry||{},d={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:c.maxNumRetry||0,retryDelay:c.retryDelayMs||0,maxRetryDelay:c.maxRetryDelayMs||0},u={onSuccess:(h,p,g,v)=>{this.log(`Loaded steering manifest: "${i}"`);const y=h.data;if(y?.VERSION!==1){this.log(`Steering VERSION ${y.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=y.TTL;const{"RELOAD-URI":x,"PATHWAY-CLONES":S,"PATHWAY-PRIORITY":E}=y;if(x)try{this.uri=new self.URL(x,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${x}`);return}this.scheduleRefresh(this.uri||g.url),S&&this.clonePathways(S);const R={steeringManifest:y,url:i.toString()};this.hls.trigger(O.STEERING_MANIFEST_LOADED,R),E&&this.updatePathwayPriority(E)},onError:(h,p,g,v)=>{if(this.log(`Error loading steering manifest: ${h.code} ${h.text} (${p.url})`),this.stopLoad(),h.code===410){this.enabled=!1,this.log(`Steering manifest ${p.url} no longer available`);return}let y=this.timeToLoad*1e3;if(h.code===429){const x=this.loader;if(typeof x?.getResponseHeader=="function"){const S=x.getResponseHeader("Retry-After");S&&(y=parseFloat(S)*1e3)}this.log(`Steering manifest ${p.url} rate limited`);return}this.scheduleRefresh(this.uri||p.url,y)},onTimeout:(h,p,g)=>{this.log(`Timeout loading steering manifest (${p.url})`),this.scheduleRefresh(this.uri||p.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,d,u)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function lC(n,e,t,r){n&&Object.keys(e).forEach(i=>{const s=n.filter(o=>o.groupId===i).map(o=>{const c=Mt({},o);return c.details=void 0,c.attrs=new sn(c.attrs),c.url=c.attrs.URI=uI(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),c.groupId=c.attrs["GROUP-ID"]=e[i],c.attrs["PATHWAY-ID"]=r,c});n.push(...s)})}function uI(n,e,t,r){const{HOST:i,PARAMS:s,[t]:o}=r;let c;e&&(c=o?.[e],c&&(n=c));const d=new self.URL(n);return i&&!c&&(d.host=i),s&&Object.keys(s).sort().forEach(u=>{u&&d.searchParams.set(u,s[u])}),d.href}function Gr(n,e,t){ai(n,e,t),n.addEventListener(e,t)}function ai(n,e,t){n.removeEventListener(e,t)}class ll extends gi{constructor(e){super("eme",e.logger),this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.mediaKeys=null,this.setMediaKeysQueue=ll.CDMCleanupPromise?[ll.CDMCleanupPromise]:[],this.onWaitingForKey=t=>{this.log(`"${t.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.onDestroying(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onWaitingForKey=null}registerListeners(){this.hls.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(O.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(O.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(O.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.on(O.DESTROYING,this.onDestroying,this)}unregisterListeners(){this.hls.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(O.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(O.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(O.MANIFEST_LOADED,this.onManifestLoaded,this),this.hls.off(O.DESTROYING,this.onDestroying,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:r}=this.config,i=t[e];if(i)return i.licenseUrl;if(e===xn.WIDEVINE&&r)return r}getLicenseServerUrlOrThrow(e){const t=this.getLicenseServerUrl(e);if(t===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return t}getServerCertificateUrl(e){const{drmSystems:t}=this.config,r=t[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,r=(o,c,d)=>!!o&&d.indexOf(o)===c,i=t.map(o=>o.audioCodec).filter(r),s=t.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,c)=>{const d=u=>{const h=u.shift();this.getMediaKeysPromise(h,i,s).then(p=>o({keySystem:h,mediaKeys:p})).catch(p=>{u.length?d(u):p instanceof $r?c(p):c(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_NO_ACCESS,error:p,fatal:!0},p.message))})};d(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return wL===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,t)}getMediaKeysPromise(e,t,r){const i=dG(e,t,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s?.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${Yt(i)}`),o=this.requestMediaKeySystemAccess(e,i);const c=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(d=>{this.log(`Failed to obtain access to key-system "${e}": ${d}`)}),o.then(d=>{this.log(`Access for key-system "${d.keySystem}" obtained`);const u=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),c.mediaKeys=d.createMediaKeys().then(h=>(this.log(`Media-keys created for "${e}"`),c.hasMediaKeys=!0,u.then(p=>p?this.setMediaKeysServerCertificate(h,e,p):h))),c.mediaKeys.catch(h=>{this.error(`Failed to create media-keys for "${e}"}: ${h}`)}),c.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:r}){this.log(`Creating key-system session "${t}" keyId: ${Na.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:t,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(t),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,t.pssh.buffer,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Na.hexDump(e.keyId)}updateKeySession(e,t){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Na.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${t&&t.byteLength})`),i.update(t)}getSelectedKeySystemFormats(){return Object.keys(this.keySystemAccessPromises).map(e=>({keySystem:e,hasMediaKeys:this.keySystemAccessPromises[e].hasMediaKeys})).filter(({hasMediaKeys:e})=>!!e).map(({keySystem:e})=>kA(e)).filter(e=>!!e)}getKeySystemAccess(e){return this.getKeySystemSelectionPromise(e).then(({keySystem:t,mediaKeys:r})=>this.attemptSetMediaKeys(t,r))}selectKeySystem(e){return new Promise((t,r)=>this.getKeySystemSelectionPromise(e).then(({keySystem:i})=>{const s=kA(i);s?t(s):r(new Error(`Unable to find format for key-system "${i}"`))}).catch(r))}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){const t=Gf(this.config),r=e.map(by).filter(i=>!!i&&t.indexOf(i)!==-1);return this.selectKeySystem(r)}loadKey(e){const t=e.keyInfo.decryptdata,r=this.getKeyIdString(t),i=`(keyId: ${r} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.getKeySystemForKeyPromise(t).then(({keySystem:c,mediaKeys:d})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(c,d).then(()=>(this.throwIfDestroyed(),this.createMediaKeySessionContext({keySystem:c,mediaKeys:d,decryptdata:t}))))),(this.keyIdToKeySessionPromise[r]=s.then(c=>{const d="cenc",u=t.pssh?t.pssh.buffer:null;return this.generateRequestWithPreferredKeySession(c,d,u,"playlist-key")})).catch(c=>this.handleError(c))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof $r?this.hls.trigger(O.ERROR,e.data):this.hls.trigger(O.ERROR,{type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[t];if(!r){const i=by(e.keyFormat),s=i?[i]:Gf(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=Gf(this.config)),e.length===0)throw new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${Yt({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,t){if(this.mediaKeys===t)return Promise.resolve();const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw this.mediaKeys=null,new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)});return this.mediaKeys=t,this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,t,r,i){var s,o;const c=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(c)try{const y=c.call(this.hls,t,r,e);if(!y)throw new Error("Invalid response from configured generateRequest filter");t=y.initDataType,r=y.initData?y.initData:null,e.decryptdata.pssh=r?new Uint8Array(r):null}catch(y){var d;if(this.warn(y.message),(d=this.hls)!=null&&d.config.debug)throw y}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const u=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${u} (init data type: ${t} length: ${r?r.byteLength:null})`);const h=new Hv,p=e._onmessage=y=>{const x=e.mediaKeysSession;if(!x){h.emit("error",new Error("invalid state"));return}const{messageType:S,message:E}=y;this.log(`"${S}" message event for session "${x.sessionId}" message size: ${E.byteLength}`),S==="license-request"||S==="license-renewal"?this.renewLicense(e,E).catch(R=>{h.eventNames().length?h.emit("error",R):this.handleError(R)}):S==="license-release"?e.keySystem===xn.FAIRPLAY&&(this.updateKeySession(e,xy("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${S}"`)},g=e._onkeystatuseschange=y=>{if(!e.mediaKeysSession){h.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const S=e.keyStatus;h.emit("keyStatus",S),S==="expired"&&(this.warn(`${e.keySystem} expired for key ${u}`),this.renewKeySession(e))};Gr(e.mediaKeysSession,"message",p),Gr(e.mediaKeysSession,"keystatuseschange",g);const v=new Promise((y,x)=>{h.on("error",x),h.on("keyStatus",S=>{S.startsWith("usable")?y():S==="output-restricted"?x(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):S==="internal-error"?x(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${S}"`)):S==="expired"?x(new Error("key expired while generating request")):this.warn(`unhandled key status change "${S}"`)})});return e.mediaKeysSession.generateRequest(t,r).then(()=>{var y;this.log(`Request generated for key-session "${(y=e.mediaKeysSession)==null?void 0:y.sessionId}" keyId: ${u}`)}).catch(y=>{throw new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_NO_SESSION,error:y,fatal:!1},`Error generating key-session request: ${y}`)}).then(()=>v).catch(y=>{throw h.removeAllListeners(),this.removeSession(e),y}).then(()=>(h.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((t,r)=>{if(typeof r=="string"&&typeof t=="object"){const i=r;r=t,t=i}this.log(`key status change "${t}" for keyStatuses keyId: ${Na.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${Na.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t})}fetchServerCertificate(e){const t=this.config,r=t.loader,i=new r(t),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,c)=>{const d={responseType:"arraybuffer",url:s},u=t.certLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,v,y,x)=>{o(g.data)},onError:(g,v,y,x)=>{c(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:y,response:jt({url:d.url,data:void 0},g)},`"${e}" certificate request failed (${s}). Status: ${g.code} (${g.text})`))},onTimeout:(g,v,y)=>{c(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:y,response:{url:d.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(g,v,y)=>{c(new Error("aborted"))}};i.load(d,h,p)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r?.byteLength}) on "${t}"`),i(e)}).catch(o=>{s(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,t){const r=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let h;for(let p=0,g=s.length;p<g;p++){var o,c;h=s[p];const v=(o=h.querySelector("name"))==null?void 0:o.textContent,y=(c=h.querySelector("value"))==null?void 0:c.textContent;v&&y&&e.setRequestHeader(v,y)}}const d=i.querySelector("Challenge"),u=d?.textContent;if(!u)throw new Error("Cannot find <Challenge> in key message");return xy(atob(u))}setupLicenseXHR(e,t,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,t,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",t,!0),s.call(this.hls,e,t,r,i)}).then(o=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,t){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${o}`);const c=new XMLHttpRequest;c.responseType="arraybuffer",c.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(c.readyState===4)if(c.status===200){this._requestLicenseFailureCount=0;let d=c.response;this.log(`License received ${d instanceof ArrayBuffer?d.byteLength:d}`);const u=this.config.licenseResponseCallback;if(u)try{d=u.call(this.hls,c,o,e)}catch(h){this.error(h)}i(d)}else{const d=r.errorRetry,u=d?d.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||c.status>=400&&c.status<500)s(new $r({type:Ge.KEY_SYSTEM_ERROR,details:re.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:c,response:{url:o,data:void 0,code:c.status,text:c.statusText}},`License Request XHR failed (${o}). Status: ${c.status} (${c.statusText})`));else{const h=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${h} attempts left`),this.requestLicense(e,t).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=c,this.setupLicenseXHR(c,o,e,t).then(({xhr:d,licenseChallenge:u})=>{e.keySystem==xn.PLAYREADY&&(u=this.unpackPlayReadyKeyMessage(d,u)),d.send(u)})})}onDestroying(){this.unregisterListeners(),this._clear()}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const r=t.media;this.media=r,Gr(r,"waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media;e&&(ai(e,"waitingforkey",this.onWaitingForKey),this.media=null,this.mediaKeys=null)}_clear(){var e;if(this._requestLicenseFailureCount=0,this.keyIdToKeySessionPromise={},!this.mediaKeys&&!this.mediaKeySessions.length)return;const t=this.media,r=this.mediaKeySessions.slice();this.mediaKeySessions=[],this.mediaKeys=null,fp.clearKeyUriToKeyIdMap();const i=r.length;ll.CDMCleanupPromise=Promise.all(r.map(s=>this.removeSession(s)).concat(t==null||(e=t.setMediaKeys(null))==null?void 0:e.catch(s=>{var o;this.log(`Could not clear media keys: ${s}`),(o=this.hls)==null||o.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.KEY_SYSTEM_DESTROY_MEDIA_KEYS_ERROR,fatal:!1,error:new Error(`Could not clear media keys: ${s}`)})}))).catch(s=>{var o;this.log(`Could not close sessions and clear media keys: ${s}`),(o=this.hls)==null||o.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close sessions and clear media keys: ${s}`)})}).then(()=>{i&&this.log("finished closing key sessions and clearing media keys")})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=t.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:r}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);i>-1&&this.mediaKeySessions.splice(i,1);const{drmSystemOptions:s}=this.config;return(hG(s)?new Promise((c,d)=>{self.setTimeout(()=>d(new Error("MediaKeySession.remove() timeout")),8e3),t.remove().then(c)}):Promise.resolve()).catch(c=>{var d;this.log(`Could not remove session: ${c}`),(d=this.hls)==null||d.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.KEY_SYSTEM_DESTROY_REMOVE_SESSION_ERROR,fatal:!1,error:new Error(`Could not remove session: ${c}`)})}).then(()=>t.close()).catch(c=>{var d;this.log(`Could not close session: ${c}`),(d=this.hls)==null||d.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.KEY_SYSTEM_DESTROY_CLOSE_SESSION_ERROR,fatal:!1,error:new Error(`Could not close session: ${c}`)})})}}}ll.CDMCleanupPromise=void 0;class $r extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}class S9{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(O.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.on(O.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListeners(){this.hls.off(O.MEDIA_ATTACHING,this.onMediaAttaching,this),this.hls.off(O.MEDIA_DETACHING,this.onMediaDetaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}onMediaDetaching(){this.media=null}checkFPS(e,t,r){const i=performance.now();if(t){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,c=t-this.lastDecodedFrames,d=1e3*o/s,u=this.hls;if(u.trigger(O.FPS_DROP,{currentDropped:o,currentDecoded:c,totalDroppedFrames:r}),d>0&&o>u.config.fpsDroppedMonitoringThreshold*c){let h=u.currentLevel;u.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+h),h>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=h)&&(h=h-1,u.trigger(O.FPS_DROP_LEVEL_CAPPING,{level:h,droppedLevel:u.currentLevel}),u.autoLevelCapping=h,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}function dI(n,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=n,e.dispatchEvent(t)}function fI(n,e){const t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues&&!n.cues.getCueById(e.id))try{if(n.addCue(e),!n.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){wt.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,n.addCue(i)}catch(i){wt.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}t==="disabled"&&(n.mode=t)}function nl(n,e){const t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues)for(let r=n.cues.length;r--;)e&&n.cues[r].removeEventListener("enter",e),n.removeCue(n.cues[r]);t==="disabled"&&(n.mode=t)}function Ly(n,e,t,r){const i=n.mode;if(i==="disabled"&&(n.mode="hidden"),n.cues&&n.cues.length>0){const s=T9(n.cues,e,t);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&n.removeCue(s[o])}i==="disabled"&&(n.mode=i)}function E9(n,e){if(e<=n[0].startTime)return 0;const t=n.length-1;if(e>n[t].endTime)return-1;let r=0,i=t,s;for(;r<=i;)if(s=Math.floor((i+r)/2),e<n[s].startTime)i=s-1;else if(e>n[s].startTime&&r<t)r=s+1;else return s;return n[r].startTime-e<e-n[i].startTime?r:i}function T9(n,e,t){const r=[],i=E9(n,e);if(i>-1)for(let s=i,o=n.length;s<o;s++){const c=n[s];if(c.startTime>=e&&c.endTime<=t)r.push(c);else if(c.startTime>t)return r}return r}function Wf(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(n[t])}return e}class A9 extends Qv{constructor(e){super(e,"subtitle-track-controller"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const r=Wf(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")t=r[s];else if(r[s].mode==="showing"){t=r[s];break}const i=this.findTrackForTextTrack(t);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_PARSED,this.onManifestParsed,this),e.on(O.LEVEL_LOADING,this.onLevelLoading,this),e.on(O.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(O.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(O.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_PARSED,this.onManifestParsed,this),e.off(O.LEVEL_LOADING,this.onLevelLoading,this),e.off(O.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(O.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(O.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(e,t){const r=this.media;if(!r)return;const i=!!t.transferMedia;if(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||r.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),this.subtitleTrack=-1,this.media=null,i)return;Wf(r.textTracks).forEach(o=>{nl(o)})}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:r,groupId:i,details:s}=t,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${o?.groupId}`);return}const c=o.details;o.details=t.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,t,c)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const r=t.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||i?.length!==r?.length||r!=null&&r.some(o=>i?.indexOf(o)===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(h=>!r||r.indexOf(h.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(h=>h.default)&&(this.selectDefaultTrack=!1),o.forEach((h,p)=>{h.id=p});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const c=this.hls.config.subtitlePreference;if(!s&&c){this.selectDefaultTrack=!1;const h=_i(c,o);if(h>-1)s=o[h];else{const p=_i(c,this.tracks);s=this.tracks[p]}}let d=this.findTrackId(s);d===-1&&s&&(d=this.findTrackId(null));const u={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r?.join(",")}" group-id`),this.hls.trigger(O.SUBTITLE_TRACKS_UPDATED,u),d!==-1&&this.trackId===-1&&this.setSubtitleTrack(d)}}findTrackId(e){const t=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<t.length;i++){const s=t[i];if(!(r&&!s.default||!r&&!e)&&(!e||Ha(s,e)))return i}if(e){for(let i=0;i<t.length;i++){const s=t[i];if(Au(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<t.length;i++){const s=t[i];if(Au(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let r=0;r<t.length;r++){const i=t[r];if(Cy(i,e))return r}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===xt.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){if(e.id===-1)return this.setSubtitleTrack(-1),null;const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const r=this.currentTrack;if(r&&Ha(e,r))return r;const i=_i(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=_i(e,t);if(s>-1)return t[s]}}}}return null}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentTrack)&&this.scheduleLoading(this.currentTrack,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const r=e.id,i=e.groupId,s=this.getUrlWithDirectives(e.url,t),o=e.details,c=o?.age;this.log(`Loading subtitle ${r} "${e.name}" lang:${e.lang} group:${i}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${c&&o.live?" age "+c.toFixed(1)+(o.type&&" "+o.type||""):""} ${s}`),this.hls.trigger(O.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:t||null,track:e})}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=Wf(e.textTracks),r=this.currentTrack;let i;if(r&&(i=t.filter(s=>Cy(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(t).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!_e(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.selectDefaultTrack=!1;const r=this.currentTrack,i=t[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(O.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:c="",name:d,type:u,url:h}=i;this.hls.trigger(O.SUBTITLE_TRACK_SWITCH,{id:o,groupId:c,name:d,type:u,url:h});const p=this.switchParams(i.url,r?.details,i.details);this.loadPlaylist(p)}}function C9(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i=="x"?s:s&3|8).toString(16)})}}}function au(n){let e=5381,t=n.length;for(;t;)e=e*33^n.charCodeAt(--t);return(e>>>0).toString()}const cl=.025;let Ch=function(n){return n[n.Point=0]="Point",n[n.Range=1]="Range",n}({});function R9(n,e,t){return`${n.identifier}-${t+1}-${au(e)}`}class w9{constructor(e,t){this.base=void 0,this._duration=null,this._timelineStart=null,this.appendInPlaceDisabled=void 0,this.appendInPlaceStarted=void 0,this.dateRange=void 0,this.hasPlayed=!1,this.cumulativeDuration=0,this.resumeOffset=NaN,this.playoutLimit=NaN,this.restrictions={skip:!1,jump:!1},this.snapOptions={out:!1,in:!1},this.assetList=[],this.assetListLoader=void 0,this.assetListResponse=null,this.resumeAnchor=void 0,this.error=void 0,this.resetOnResume=void 0,this.base=t,this.dateRange=e,this.setDateRange(e)}setDateRange(e){this.dateRange=e,this.resumeOffset=e.attr.optionalFloat("X-RESUME-OFFSET",this.resumeOffset),this.playoutLimit=e.attr.optionalFloat("X-PLAYOUT-LIMIT",this.playoutLimit),this.restrictions=e.attr.enumeratedStringList("X-RESTRICT",this.restrictions),this.snapOptions=e.attr.enumeratedStringList("X-SNAP",this.snapOptions)}reset(){var e;this.appendInPlaceStarted=!1,(e=this.assetListLoader)==null||e.destroy(),this.assetListLoader=void 0,this.supplementsPrimary||(this.assetListResponse=null,this.assetList=[],this._duration=null)}isAssetPastPlayoutLimit(e){var t;if(e>0&&e>=this.assetList.length)return!0;const r=this.playoutLimit;return e<=0||isNaN(r)?!1:r===0?!0:(((t=this.assetList[e])==null?void 0:t.startOffset)||0)>r}findAssetIndex(e){return this.assetList.indexOf(e)}get identifier(){return this.dateRange.id}get startDate(){return this.dateRange.startDate}get startTime(){const e=this.dateRange.startTime;if(this.snapOptions.out){const t=this.dateRange.tagAnchor;if(t)return g0(e,t)}return e}get startOffset(){return this.cue.pre?0:this.startTime}get startIsAligned(){if(this.startTime===0||this.snapOptions.out)return!0;const e=this.dateRange.tagAnchor;if(e){const t=this.dateRange.startTime,r=g0(t,e);return t-r<.1}return!1}get resumptionOffset(){const e=this.resumeOffset,t=_e(e)?e:this.duration;return this.cumulativeDuration+t}get resumeTime(){const e=this.startOffset+this.resumptionOffset;if(this.snapOptions.in){const t=this.resumeAnchor;if(t)return g0(e,t)}return e}get appendInPlace(){return this.appendInPlaceStarted?!0:this.appendInPlaceDisabled?!1:!!(!this.cue.once&&!this.cue.pre&&this.startIsAligned&&(isNaN(this.playoutLimit)&&isNaN(this.resumeOffset)||this.resumeOffset&&this.duration&&Math.abs(this.resumeOffset-this.duration)<cl))}set appendInPlace(e){if(this.appendInPlaceStarted){this.resetOnResume=!e;return}this.appendInPlaceDisabled=!e}get timelineStart(){return this._timelineStart!==null?this._timelineStart:this.startTime}set timelineStart(e){this._timelineStart=e}get duration(){const e=this.playoutLimit;let t;return this._duration!==null?t=this._duration:this.dateRange.duration?t=this.dateRange.duration:t=this.dateRange.plannedDuration||0,!isNaN(e)&&e<t&&(t=e),t}set duration(e){this._duration=e}get cue(){return this.dateRange.cue}get timelineOccupancy(){return this.dateRange.attr["X-TIMELINE-OCCUPIES"]==="RANGE"?Ch.Range:Ch.Point}get supplementsPrimary(){return this.dateRange.attr["X-TIMELINE-STYLE"]==="PRIMARY"}get contentMayVary(){return this.dateRange.attr["X-CONTENT-MAY-VARY"]!=="NO"}get assetUrl(){return this.dateRange.attr["X-ASSET-URI"]}get assetListUrl(){return this.dateRange.attr["X-ASSET-LIST"]}get baseUrl(){return this.base.url}get assetListLoaded(){return this.assetList.length>0||this.assetListResponse!==null}toString(){return L9(this)}}function g0(n,e){return n-e.start<e.duration/2&&!(Math.abs(n-(e.start+e.duration))<cl)?e.start:e.start+e.duration}function hI(n,e,t){const r=new self.URL(n,t);return r.protocol!=="data:"&&r.searchParams.set("_HLS_primary_id",e),r}function y0(n,e){for(;(t=n.assetList[++e])!=null&&t.error;)var t;return e}function L9(n){return`["${n.identifier}" ${n.cue.pre?"<pre>":n.cue.post?"<post>":""}${n.timelineStart.toFixed(2)}-${n.resumeTime.toFixed(2)}]`}function Jo(n){const e=n.timelineStart,t=n.duration||0;return`["${n.identifier}" ${e.toFixed(2)}-${(e+t).toFixed(2)}]`}class I9{constructor(e,t,r,i){this.hls=void 0,this.interstitial=void 0,this.assetItem=void 0,this.tracks=null,this.hasDetails=!1,this.mediaAttached=null,this._currentTime=void 0,this._bufferedEosTime=void 0,this.checkPlayout=()=>{this.reachedPlayout(this.currentTime)&&this.hls.trigger(O.PLAYOUT_LIMIT_REACHED,{})};const s=this.hls=new e(t);this.interstitial=r,this.assetItem=i;let o=i.uri;try{o=hI(o,t.primarySessionId).href}catch{}s.loadSource(o);const c=()=>{this.hasDetails=!0};s.once(O.LEVEL_LOADED,c),s.once(O.AUDIO_TRACK_LOADED,c),s.once(O.SUBTITLE_TRACK_LOADED,c),s.on(O.MEDIA_ATTACHING,(d,{media:u})=>{this.removeMediaListeners(),this.mediaAttached=u,this.interstitial.playoutLimit&&(u.addEventListener("timeupdate",this.checkPlayout),this.appendInPlace&&s.on(O.BUFFER_APPENDED,()=>{const p=this.bufferedEnd;this.reachedPlayout(p)&&(this._bufferedEosTime=p,s.trigger(O.BUFFERED_TO_END,void 0))}))})}get appendInPlace(){var e;return((e=this.interstitial)==null?void 0:e.appendInPlace)||!1}bufferedInPlaceToEnd(e){var t;if(!this.appendInPlace)return!1;if((t=this.hls)!=null&&t.bufferedToEnd)return!0;if(!e||!this._bufferedEosTime)return!1;const r=this.timelineOffset,i=lt.bufferInfo(e,r,0);return this.getAssetTime(i.end)>=this._bufferedEosTime-.02}reachedPlayout(e){const r=this.interstitial.playoutLimit;return this.startOffset+e>=r}get destroyed(){var e;return!((e=this.hls)!=null&&e.userConfig)}get assetId(){return this.assetItem.identifier}get interstitialId(){return this.assetItem.parentIdentifier}get media(){var e;return((e=this.hls)==null?void 0:e.media)||null}get bufferedEnd(){const e=this.media||this.mediaAttached;if(!e)return this._bufferedEosTime?this._bufferedEosTime:this.currentTime;const t=lt.bufferInfo(e,e.currentTime,.001);return this.getAssetTime(t.end)}get currentTime(){const e=this.media||this.mediaAttached;return e?this.getAssetTime(e.currentTime):this._currentTime||0}get duration(){const e=this.assetItem.duration;return e||0}get remaining(){const e=this.duration;return e?Math.max(0,e-this.currentTime):0}get startOffset(){return this.assetItem.startOffset}get timelineOffset(){var e;return((e=this.hls)==null?void 0:e.config.timelineOffset)||0}set timelineOffset(e){const t=this.timelineOffset;if(e!==t){const r=e-t;if(Math.abs(r)>1/9e4){if(this.hasDetails)throw new Error("Cannot set timelineOffset after playlists are loaded");this.hls.config.timelineOffset=e}}}getAssetTime(e){const t=this.timelineOffset,r=this.duration;return Math.min(Math.max(0,e-t),r)}removeMediaListeners(){const e=this.mediaAttached;e&&(this._currentTime=e.currentTime,this.bufferSnapShot(),e.removeEventListener("timeupdate",this.checkPlayout))}bufferSnapShot(){if(this.mediaAttached){var e;(e=this.hls)!=null&&e.bufferedToEnd&&(this._bufferedEosTime=this.bufferedEnd)}}destroy(){this.removeMediaListeners(),this.hls.destroy(),this.hls=this.interstitial=null,this.tracks=this.mediaAttached=this.checkPlayout=null}attachMedia(e){this.hls.attachMedia(e)}detachMedia(){this.removeMediaListeners(),this.mediaAttached=null,this.hls.detachMedia()}resumeBuffering(){this.hls.resumeBuffering()}pauseBuffering(){this.hls.pauseBuffering()}transferMedia(){return this.bufferSnapShot(),this.hls.transferMedia()}resetDetails(){const e=this.hls;if(this.hasDetails){e.stopLoad();const t=r=>delete r.details;e.levels.forEach(t),e.allAudioTracks.forEach(t),e.allSubtitleTracks.forEach(t),this.hasDetails=!1}}on(e,t,r){this.hls.on(e,t)}once(e,t,r){this.hls.once(e,t)}off(e,t,r){this.hls.off(e,t)}toString(){var e;return`HlsAssetPlayer: ${Jo(this.assetItem)} ${(e=this.hls)==null?void 0:e.sessionId} ${this.appendInPlace?"append-in-place":""}`}}const cC=.033;class D9 extends gi{constructor(e,t){super("interstitials-sched",t),this.onScheduleUpdate=void 0,this.eventMap={},this.events=null,this.items=null,this.durations={primary:0,playout:0,integrated:0},this.onScheduleUpdate=e}destroy(){this.reset(),this.onScheduleUpdate=null}reset(){this.eventMap={},this.setDurations(0,0,0),this.events&&this.events.forEach(e=>e.reset()),this.events=this.items=null}resetErrorsInRange(e,t){return this.events?this.events.reduce((r,i)=>e<=i.startOffset&&t>i.startOffset?(delete i.error,r+1):r,0):0}get duration(){const e=this.items;return e?e[e.length-1].end:0}get length(){return this.items?this.items.length:0}getEvent(e){return e&&this.eventMap[e]||null}hasEvent(e){return e in this.eventMap}findItemIndex(e,t){if(e.event)return this.findEventIndex(e.event.identifier);let r=-1;e.nextEvent?r=this.findEventIndex(e.nextEvent.identifier)-1:e.previousEvent&&(r=this.findEventIndex(e.previousEvent.identifier)+1);const i=this.items;if(i)for(i[r]||(t===void 0&&(t=e.start),r=this.findItemIndexAtTime(t));r>=0&&(s=i[r])!=null&&s.event;){var s;r--}return r}findItemIndexAtTime(e,t){const r=this.items;if(r)for(let i=0;i<r.length;i++){let s=r[i];if(t&&t!=="primary"&&(s=s[t]),e===s.start||e>s.start&&e<s.end)return i}return-1}findJumpRestrictedIndex(e,t){const r=this.items;if(r)for(let i=e;i<=t&&r[i];i++){const s=r[i].event;if(s!=null&&s.restrictions.jump&&!s.appendInPlace)return i}return-1}findEventIndex(e){const t=this.items;if(t)for(let i=t.length;i--;){var r;if(((r=t[i].event)==null?void 0:r.identifier)===e)return i}return-1}findAssetIndex(e,t){const r=e.assetList,i=r.length;if(i>1)for(let s=0;s<i;s++){const o=r[s];if(!o.error){const c=o.timelineStart;if(t===c||t>c&&t<c+(o.duration||0))return s}}return 0}get assetIdAtEnd(){var e,t;const r=(e=this.items)==null||(t=e[this.length-1])==null?void 0:t.event;if(r){const i=r.assetList,s=i[i.length-1];if(s)return s.identifier}return null}parseInterstitialDateRanges(e,t){const r=e.main.details,{dateRanges:i}=r,s=this.events,o=this.parseDateRanges(i,{url:r.url},t),c=Object.keys(i),d=s?s.filter(u=>!c.includes(u.identifier)):[];o.length&&o.sort((u,h)=>{const p=u.cue.pre,g=u.cue.post,v=h.cue.pre,y=h.cue.post;if(p&&!v)return-1;if(v&&!p||g&&!y)return 1;if(y&&!g)return-1;if(!p&&!v&&!g&&!y){const x=u.startTime,S=h.startTime;if(x!==S)return x-S}return u.dateRange.tagOrder-h.dateRange.tagOrder}),this.events=o,d.forEach(u=>{this.removeEvent(u)}),this.updateSchedule(e,d)}updateSchedule(e,t=[]){const r=this.events||[];if(r.length||t.length||this.length<2){const i=this.items,s=this.parseSchedule(r,e);(t.length||i?.length!==s.length||s.some((c,d)=>Math.abs(c.playout.start-i[d].playout.start)>.005||Math.abs(c.playout.end-i[d].playout.end)>.005))&&(this.items=s,this.onScheduleUpdate(t,i))}}parseDateRanges(e,t,r){const i=[],s=Object.keys(e);for(let o=0;o<s.length;o++){const c=s[o],d=e[c];if(d.isInterstitial){let u=this.eventMap[c];u?u.setDateRange(d):(u=new w9(d,t),this.eventMap[c]=u,r===!1&&(u.appendInPlace=r)),i.push(u)}}return i}parseSchedule(e,t){const r=[],i=t.main.details,s=i.live?1/0:i.edge;let o=0;if(e=e.filter(d=>!d.error&&!(d.cue.once&&d.hasPlayed)),e.length){this.resolveOffsets(e,t);let d=0,u=0;if(e.forEach((h,p)=>{const g=h.cue.pre,v=h.cue.post,y=e[p-1]||null,x=h.appendInPlace,S=v?s:h.startOffset,E=h.duration,R=h.timelineOccupancy===Ch.Range?E:0,A=h.resumptionOffset,L=y?.startTime===S,I=S+h.cumulativeDuration;let M=x?I+E:S+A;if(g||!v&&S<=0){const k=u;u+=R,h.timelineStart=I;const _=o;o+=E,r.push({event:h,start:I,end:M,playout:{start:_,end:o},integrated:{start:k,end:u}})}else if(S<=s){if(!L){const w=S-d;if(w>cC){const B=d,j=u;u+=w;const z=o;o+=w;const q={previousEvent:e[p-1]||null,nextEvent:h,start:B,end:B+w,playout:{start:z,end:o},integrated:{start:j,end:u}};r.push(q)}else w>0&&y&&(y.cumulativeDuration+=w,r[r.length-1].end=S)}v&&(M=I),h.timelineStart=I;const k=u;u+=R;const _=o;o+=E,r.push({event:h,start:I,end:M,playout:{start:_,end:o},integrated:{start:k,end:u}})}else return;const P=h.resumeTime;v||P>s?d=s:d=P}),d<s){var c;const h=d,p=u,g=s-d;u+=g;const v=o;o+=g,r.push({previousEvent:((c=r[r.length-1])==null?void 0:c.event)||null,nextEvent:null,start:d,end:h+g,playout:{start:v,end:o},integrated:{start:p,end:u}})}this.setDurations(s,o,u)}else r.push({previousEvent:null,nextEvent:null,start:0,end:s,playout:{start:0,end:s},integrated:{start:0,end:s}}),this.setDurations(s,s,s);return r}setDurations(e,t,r){this.durations={primary:e,playout:t,integrated:r}}resolveOffsets(e,t){const r=t.main.details,i=r.live?1/0:r.edge;let s=0,o=-1;e.forEach((c,d)=>{const u=c.cue.pre,h=c.cue.post,p=u?0:h?i:c.startTime;this.updateAssetDurations(c),o===p?c.cumulativeDuration=s:(s=0,o=p),!h&&c.snapOptions.in&&(c.resumeAnchor=Qa(null,r.fragments,c.startOffset+c.resumptionOffset,0,0)||void 0),c.appendInPlace&&!c.appendInPlaceStarted&&(this.primaryCanResumeInPlaceAt(c,t)||(c.appendInPlace=!1)),!c.appendInPlace&&d+1<e.length&&e[d+1].startTime-e[d].resumeTime<cC&&(e[d+1].appendInPlace=!1,e[d+1].appendInPlace&&this.warn(`Could not change append strategy for abutting event ${c}`));const v=_e(c.resumeOffset)?c.resumeOffset:c.duration;s+=v})}primaryCanResumeInPlaceAt(e,t){const r=e.resumeTime,i=e.startTime+e.resumptionOffset;return Math.abs(r-i)>cl?(this.log(`"${e.identifier}" resumption ${r} not aligned with estimated timeline end ${i}`),!1):t?!Object.keys(t).some(o=>{const c=t[o].details,d=c.edge;if(r>=d)return this.log(`"${e.identifier}" resumption ${r} past ${o} playlist end ${d}`),!1;const u=Qa(null,c.fragments,r);if(!u)return this.log(`"${e.identifier}" resumption ${r} does not align with any fragments in ${o} playlist (${c.fragStart}-${c.fragmentEnd})`),!0;const h=o==="audio"?.175:0;return Math.abs(u.start-r)<cl+h||Math.abs(u.end-r)<cl+h?!1:(this.log(`"${e.identifier}" resumption ${r} not aligned with ${o} fragment bounds (${u.start}-${u.end} sn: ${u.sn} cc: ${u.cc})`),!0)}):(this.log(`"${e.identifier}" resumption ${r} can not be aligned with media (none selected)`),!1)}updateAssetDurations(e){if(!e.assetListLoaded)return;const t=e.timelineStart;let r=0,i=!1,s=!1;e.assetList.forEach((o,c)=>{const d=t+r;o.startOffset=r,o.timelineStart=d,i||(i=o.duration===null),s||(s=!!o.error);const u=o.error?0:o.duration||0;r+=u}),i&&!s?e.duration=Math.max(r,e.duration):e.duration=r}removeEvent(e){e.reset(),delete this.eventMap[e.identifier]}}function Ws(n){return`[${n.event?'"'+n.event.identifier+'"':"primary"}: ${n.start.toFixed(2)}-${n.end.toFixed(2)}]`}class P9{constructor(e){this.hls=void 0,this.hls=e}destroy(){this.hls=null}loadAssetList(e,t){const r=e.assetListUrl;let i;try{i=hI(r,this.hls.sessionId,e.baseUrl)}catch(g){const v=this.assignAssetListError(e,re.ASSET_LIST_LOAD_ERROR,g,r);this.hls.trigger(O.ERROR,v);return}t&&i.protocol!=="data:"&&i.searchParams.set("_HLS_start_offset",""+t);const s=this.hls.config,o=s.loader,c=new o(s),d={responseType:"json",url:i.href},u=s.interstitialAssetListLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,v,y,x)=>{const S=g.data,E=S?.ASSETS;if(!Array.isArray(E)){const R=this.assignAssetListError(e,re.ASSET_LIST_PARSING_ERROR,new Error("Invalid interstitial asset list"),y.url,v,x);this.hls.trigger(O.ERROR,R);return}e.assetListResponse=S,this.hls.trigger(O.ASSET_LIST_LOADED,{event:e,assetListResponse:S,networkDetails:x})},onError:(g,v,y,x)=>{const S=this.assignAssetListError(e,re.ASSET_LIST_LOAD_ERROR,new Error(`Error loading X-ASSET-LIST: HTTP status ${g.code} ${g.text} (${v.url})`),v.url,x,y);this.hls.trigger(O.ERROR,S)},onTimeout:(g,v,y)=>{const x=this.assignAssetListError(e,re.ASSET_LIST_LOAD_TIMEOUT,new Error(`Timeout loading X-ASSET-LIST (${v.url})`),v.url,g,y);this.hls.trigger(O.ERROR,x)}};return c.load(d,h,p),this.hls.trigger(O.ASSET_LIST_LOADING,{event:e}),c}assignAssetListError(e,t,r,i,s,o){return e.error=r,{type:Ge.NETWORK_ERROR,details:t,fatal:!1,interstitial:e,url:i,error:r,networkDetails:o,stats:s}}}function uC(n){n?.play().catch(()=>{})}class _9 extends gi{constructor(e,t){super("interstitials",e.logger),this.HlsPlayerClass=void 0,this.hls=void 0,this.assetListLoader=void 0,this.mediaSelection=null,this.altSelection=null,this.media=null,this.detachedData=null,this.requiredTracks=null,this.manager=null,this.playerQueue=[],this.bufferedPos=-1,this.timelinePos=-1,this.schedule=void 0,this.playingItem=null,this.bufferingItem=null,this.waitingItem=null,this.endedItem=null,this.playingAsset=null,this.endedAsset=null,this.bufferingAsset=null,this.shouldPlay=!1,this.onPlay=()=>{this.shouldPlay=!0},this.onPause=()=>{this.shouldPlay=!1},this.onSeeking=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;const i=r-this.timelinePos;if(Math.abs(i)<1/7056e5)return;const o=i<=-.01;this.timelinePos=r,this.bufferedPos=r;const c=this.playingItem;if(!c){this.checkBuffer();return}if(o&&this.schedule.resetErrorsInRange(r,r-i)&&this.updateSchedule(),this.checkBuffer(),o&&r<c.start||r>=c.end){var d;const g=this.schedule.findItemIndexAtTime(this.timelinePos);if(!this.isInterstitial(c)&&(d=this.media)!=null&&d.paused&&(this.shouldPlay=!1),!o){const v=this.findItemIndex(c);if(g>v){const y=this.schedule.findJumpRestrictedIndex(v+1,g);if(y>v){this.setSchedulePosition(y);return}}}this.setSchedulePosition(g);return}const u=this.playingAsset;if(!u){if(this.playingLastItem&&this.isInterstitial(c)){const g=c.event.assetList[0];g&&(this.endedItem=this.playingItem,this.playingItem=null,this.setScheduleToAssetAtTime(r,g))}return}const h=u.timelineStart,p=u.duration||0;(o&&r<h||r>=h+p)&&this.setScheduleToAssetAtTime(r,u)},this.onTimeupdate=()=>{const r=this.currentTime;if(r===void 0||this.playbackDisabled)return;if(r>this.timelinePos)this.timelinePos=r,r>this.bufferedPos&&this.checkBuffer();else return;const i=this.playingItem;if(!i||this.playingLastItem)return;if(r>=i.end){this.timelinePos=i.end;const c=this.findItemIndex(i);this.setSchedulePosition(c+1)}const s=this.playingAsset;if(!s)return;const o=s.timelineStart+(s.duration||0);r>=o&&this.setScheduleToAssetAtTime(r,s)},this.onScheduleUpdate=(r,i)=>{const s=this.schedule,o=this.playingItem,c=s.events||[],d=s.items||[],u=s.durations,h=r.map(y=>y.identifier),p=!!(c.length||h.length);(p||i)&&this.log(`INTERSTITIALS_UPDATED (${c.length}): ${c}
Schedule: ${d.map(y=>Ws(y))} pos: ${this.timelinePos}`),h.length&&this.log(`Removed events ${h}`),this.playerQueue.forEach(y=>{if(y.interstitial.appendInPlace){const x=y.assetItem.timelineStart,S=y.timelineOffset-x;if(S)try{y.timelineOffset=x}catch(E){Math.abs(S)>cl&&this.warn(`${E} ("${y.assetId}" ${y.timelineOffset}->${x})`)}}});let g=null;if(o){const y=this.updateItem(o,this.timelinePos);this.itemsMatch(o,y)&&(this.playingItem=y,this.waitingItem=this.endedItem=null,g=()=>this.trimInPlace(y,o))}else this.waitingItem=this.updateItem(this.waitingItem),this.endedItem=this.updateItem(this.endedItem);const v=this.bufferingItem;if(v){const y=this.updateItem(v,this.bufferedPos);this.itemsMatch(v,y)?(this.bufferingItem=y,g||(g=()=>this.trimInPlace(y,v))):v.event&&(this.bufferingItem=this.playingItem,this.clearInterstitial(v.event,null))}if(r.forEach(y=>{y.assetList.forEach(x=>{this.clearAssetPlayer(x.identifier,null)})}),p||i){if(this.hls.trigger(O.INTERSTITIALS_UPDATED,{events:c.slice(0),schedule:d.slice(0),durations:u,removedIds:h}),this.isInterstitial(o)&&h.includes(o.event.identifier)){this.warn(`Interstitial "${o.event.identifier}" removed while playing`),this.primaryFallback(o.event);return}g&&g(),this.checkBuffer()}},this.hls=e,this.HlsPlayerClass=t,this.assetListLoader=new P9(e),this.schedule=new D9(this.onScheduleUpdate,e.logger),this.registerListeners()}registerListeners(){const e=this.hls;e.on(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(O.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(O.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.on(O.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(O.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.on(O.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.on(O.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.on(O.BUFFER_APPENDED,this.onBufferAppended,this),e.on(O.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(O.BUFFERED_TO_END,this.onBufferedToEnd,this),e.on(O.MEDIA_ENDED,this.onMediaEnded,this),e.on(O.ERROR,this.onError,this),e.on(O.DESTROYING,this.onDestroying,this)}unregisterListeners(){const e=this.hls;e&&(e.off(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(O.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(O.AUDIO_TRACK_UPDATED,this.onAudioTrackUpdated,this),e.off(O.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(O.SUBTITLE_TRACK_UPDATED,this.onSubtitleTrackUpdated,this),e.off(O.EVENT_CUE_ENTER,this.onInterstitialCueEnter,this),e.off(O.ASSET_LIST_LOADED,this.onAssetListLoaded,this),e.off(O.BUFFER_CODECS,this.onBufferCodecs,this),e.off(O.BUFFER_APPENDED,this.onBufferAppended,this),e.off(O.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(O.BUFFERED_TO_END,this.onBufferedToEnd,this),e.off(O.MEDIA_ENDED,this.onMediaEnded,this),e.off(O.ERROR,this.onError,this),e.off(O.DESTROYING,this.onDestroying,this))}startLoad(){this.resumeBuffering()}stopLoad(){this.pauseBuffering()}resumeBuffering(){var e;(e=this.getBufferingPlayer())==null||e.resumeBuffering()}pauseBuffering(){var e;(e=this.getBufferingPlayer())==null||e.pauseBuffering()}destroy(){this.unregisterListeners(),this.stopLoad(),this.assetListLoader&&this.assetListLoader.destroy(),this.emptyPlayerQueue(),this.clearScheduleState(),this.schedule&&this.schedule.destroy(),this.media=this.detachedData=this.mediaSelection=this.requiredTracks=this.altSelection=this.manager=null,this.hls=this.HlsPlayerClass=this.schedule=this.log=null,this.assetListLoader=null,this.onPlay=this.onPause=this.onSeeking=this.onTimeupdate=null,this.onScheduleUpdate=null}onDestroying(){const e=this.primaryMedia||this.media;e&&this.removeMediaListeners(e)}removeMediaListeners(e){ai(e,"play",this.onPlay),ai(e,"pause",this.onPause),ai(e,"seeking",this.onSeeking),ai(e,"timeupdate",this.onTimeupdate)}onMediaAttaching(e,t){const r=this.media=t.media;Gr(r,"seeking",this.onSeeking),Gr(r,"timeupdate",this.onTimeupdate),Gr(r,"play",this.onPlay),Gr(r,"pause",this.onPause)}onMediaAttached(e,t){const r=this.effectivePlayingItem,i=this.detachedData;if(this.detachedData=null,r===null)this.checkStart();else if(!i){this.clearScheduleState();const s=this.findItemIndex(r);this.setSchedulePosition(s)}}clearScheduleState(){this.playingItem=this.bufferingItem=this.waitingItem=this.endedItem=this.playingAsset=this.endedAsset=this.bufferingAsset=null}onMediaDetaching(e,t){const r=!!t.transferMedia,i=this.media;if(this.media=null,!r&&(i&&this.removeMediaListeners(i),this.detachedData)){const s=this.getBufferingPlayer();s&&(this.playingAsset=this.endedAsset=this.bufferingAsset=this.bufferingItem=this.waitingItem=this.detachedData=null,s.detachMedia()),this.shouldPlay=!1}}get interstitialsManager(){if(!this.manager){if(!this.hls)return null;const e=this,t=()=>e.bufferingItem||e.waitingItem,r=p=>p&&e.getAssetPlayer(p.identifier),i=(p,g,v,y,x)=>{if(p){let S=p[g].start;const E=p.event;if(E){if(g==="playout"||E.timelineOccupancy!==Ch.Point){const R=r(v);R?.interstitial===E&&(S+=R.assetItem.startOffset+R[x])}}else{const R=y==="bufferedPos"?o():e[y];S+=R-p.start}return S}return 0},s=(p,g)=>{if(p!==0&&g!=="primary"&&e.schedule.length){var v;const y=e.schedule.findItemIndexAtTime(p),x=(v=e.schedule.items)==null?void 0:v[y];if(x){const S=x[g].start-x.start;return p+S}}return p},o=()=>{const p=e.bufferedPos;return p===Number.MAX_VALUE?c("primary"):Math.max(p,0)},c=p=>{var g;return(g=e.primaryDetails)!=null&&g.live?e.primaryDetails.edge:e.schedule.durations[p]},d=(p,g)=>{var v,y;const x=e.effectivePlayingItem;if(x!=null&&(v=x.event)!=null&&v.restrictions.skip)return;e.log(`seek to ${p} "${g}"`);const S=e.effectivePlayingItem,E=e.schedule.findItemIndexAtTime(p,g),R=(y=e.schedule.items)==null?void 0:y[E],A=e.getBufferingPlayer(),L=A?.interstitial,I=L?.appendInPlace,M=S&&e.itemsMatch(S,R);if(S&&(I||M)){const k=r(e.playingAsset),_=k?.media||e.primaryMedia;if(_){const w=g==="primary"?_.currentTime:i(S,g,e.playingAsset,"timelinePos","currentTime"),B=p-w,j=(I?w:_.currentTime)+B;if(j>=0&&(!k||I||j<=k.duration)){_.currentTime=j;return}}}if(R){let k=p;if(g!=="primary"){const w=R[g].start,B=p-w;k=R.start+B}const _=!e.isInterstitial(R);if((!e.isInterstitial(S)||S.event.appendInPlace)&&(_||R.event.appendInPlace)){const w=e.media||(I?A?.media:null);w&&(w.currentTime=k)}else if(S){const w=e.findItemIndex(S);if(E>w){const j=e.schedule.findJumpRestrictedIndex(w+1,E);if(j>w){e.setSchedulePosition(j);return}}let B=0;if(_)e.timelinePos=k,e.checkBuffer();else{var P;const j=R==null||(P=R.event)==null?void 0:P.assetList;if(j){const z=p-(R[g]||R).start;for(let q=j.length;q--;){const K=j[q];if(K.duration&&z>=K.startOffset&&z<K.startOffset+K.duration){B=q;break}}}}e.setSchedulePosition(E,B)}}},u=()=>{const p=e.effectivePlayingItem;if(e.isInterstitial(p))return p;const g=t();return e.isInterstitial(g)?g:null},h={get currentTime(){const p=u(),g=e.effectivePlayingItem;return g&&g===p?i(g,"playout",e.effectivePlayingAsset,"timelinePos","currentTime")-g.playout.start:0},set currentTime(p){const g=u(),v=e.effectivePlayingItem;v&&v===g&&d(p+v.playout.start,"playout")},get duration(){const p=u();return p?p.playout.end-p.playout.start:0},get assetPlayers(){var p;const g=(p=u())==null?void 0:p.event.assetList;return g?g.map(v=>e.getAssetPlayer(v.identifier)):[]},get playingIndex(){var p;const g=(p=u())==null?void 0:p.event;return g&&e.effectivePlayingAsset?g.findAssetIndex(e.effectivePlayingAsset):-1},get scheduleItem(){return u()}};this.manager={get events(){var p,g;return((p=e.schedule)==null||(g=p.events)==null?void 0:g.slice(0))||[]},get schedule(){var p,g;return((p=e.schedule)==null||(g=p.items)==null?void 0:g.slice(0))||[]},get interstitialPlayer(){return u()?h:null},get playerQueue(){return e.playerQueue.slice(0)},get bufferingAsset(){return e.bufferingAsset},get bufferingItem(){return t()},get bufferingIndex(){const p=t();return e.findItemIndex(p)},get playingAsset(){return e.effectivePlayingAsset},get playingItem(){return e.effectivePlayingItem},get playingIndex(){const p=e.effectivePlayingItem;return e.findItemIndex(p)},primary:{get bufferedEnd(){return o()},get currentTime(){const p=e.timelinePos;return p>0?p:0},set currentTime(p){d(p,"primary")},get duration(){return c("primary")},get seekableStart(){var p;return((p=e.primaryDetails)==null?void 0:p.fragmentStart)||0}},integrated:{get bufferedEnd(){return i(t(),"integrated",e.bufferingAsset,"bufferedPos","bufferedEnd")},get currentTime(){return i(e.effectivePlayingItem,"integrated",e.effectivePlayingAsset,"timelinePos","currentTime")},set currentTime(p){d(p,"integrated")},get duration(){return c("integrated")},get seekableStart(){var p;return s(((p=e.primaryDetails)==null?void 0:p.fragmentStart)||0,"integrated")}},skip:()=>{const p=e.effectivePlayingItem,g=p?.event;if(g&&!g.restrictions.skip){const v=e.findItemIndex(p);if(g.appendInPlace){const y=p.playout.start+p.event.duration;d(y+.001,"playout")}else e.advanceAfterAssetEnded(g,v,1/0)}}}}return this.manager}get effectivePlayingItem(){return this.waitingItem||this.playingItem||this.endedItem}get effectivePlayingAsset(){return this.playingAsset||this.endedAsset}get playingLastItem(){var e;const t=this.playingItem,r=(e=this.schedule)==null?void 0:e.items;return!this.playbackStarted||!t||!r?!1:this.findItemIndex(t)===r.length-1}get playbackStarted(){return this.effectivePlayingItem!==null}get currentTime(){var e,t,r;if(this.mediaSelection===null)return;const i=this.waitingItem||this.playingItem;if(this.isInterstitial(i)&&!i.event.appendInPlace)return;let s=this.media;!s&&(e=this.bufferingItem)!=null&&(t=e.event)!=null&&t.appendInPlace&&(s=this.primaryMedia);const o=(r=s)==null?void 0:r.currentTime;if(!(o===void 0||!_e(o)))return o}get primaryMedia(){var e;return this.media||((e=this.detachedData)==null?void 0:e.media)||null}isInterstitial(e){return!!(e!=null&&e.event)}retreiveMediaSource(e,t){const r=this.getAssetPlayer(e);r&&this.transferMediaFromPlayer(r,t)}transferMediaFromPlayer(e,t){const r=e.interstitial.appendInPlace,i=e.media;if(r&&i===this.primaryMedia){if(this.bufferingAsset=null,(!t||this.isInterstitial(t)&&!t.event.appendInPlace)&&t&&i){this.detachedData={media:i};return}const s=e.transferMedia();this.log(`transfer MediaSource from ${e} ${Yt(s)}`),this.detachedData=s}else t&&i&&(this.shouldPlay||(this.shouldPlay=!i.paused))}transferMediaTo(e,t){var r,i;if(e.media===t)return;let s=null;const o=this.hls,c=e!==o,d=c&&e.interstitial.appendInPlace,u=(r=this.detachedData)==null?void 0:r.mediaSource;let h;if(o.media)d&&(s=o.transferMedia(),this.detachedData=s),h="Primary";else if(u){const v=this.getBufferingPlayer();v?(s=v.transferMedia(),h=`${v}`):h="detached MediaSource"}else h="detached media";if(!s){if(u)s=this.detachedData,this.log(`using detachedData: MediaSource ${Yt(s)}`);else if(!this.detachedData||o.media===t){const v=this.playerQueue;v.length>1&&v.forEach(y=>{if(c&&y.interstitial.appendInPlace!==d){const x=y.interstitial;this.clearInterstitial(y.interstitial,null),x.appendInPlace=!1,x.appendInPlace&&this.warn(`Could not change append strategy for queued assets ${x}`)}}),this.hls.detachMedia(),this.detachedData={media:t}}}const p=s&&"mediaSource"in s&&((i=s.mediaSource)==null?void 0:i.readyState)!=="closed",g=p&&s?s:t;if(this.log(`${p?"transfering MediaSource":"attaching media"} to ${c?e:"Primary"} from ${h}`),g===s){const v=c&&e.assetId===this.schedule.assetIdAtEnd;g.overrides={duration:this.schedule.duration,endOfStream:!c||v,cueRemoval:!c}}e.attachMedia(g)}onInterstitialCueEnter(){this.onTimeupdate()}checkStart(){const e=this.schedule,t=e.events;if(!t||this.playbackDisabled||!this.media)return;this.bufferedPos===-1&&(this.bufferedPos=0);const r=this.timelinePos,i=this.effectivePlayingItem;if(r===-1){const s=this.hls.startPosition;if(this.timelinePos=s,t.length&&t[0].cue.pre){const o=e.findEventIndex(t[0].identifier);this.setSchedulePosition(o)}else if(s>=0||!this.primaryLive){const o=this.timelinePos=s>0?s:0,c=e.findItemIndexAtTime(o);this.setSchedulePosition(c)}}else if(i&&!this.playingItem){const s=e.findItemIndex(i);this.setSchedulePosition(s)}}advanceAfterAssetEnded(e,t,r){const i=y0(e,r);if(!e.isAssetPastPlayoutLimit(i))this.setSchedulePosition(t,i);else{const s=this.schedule.items;if(s){const o=t+1,c=s.length;if(o>=c){this.setSchedulePosition(-1);return}const d=e.resumeTime;this.timelinePos<d&&(this.timelinePos=d,this.checkBuffer()),this.setSchedulePosition(o)}}}setScheduleToAssetAtTime(e,t){const r=this.schedule,i=t.parentIdentifier,s=r.getEvent(i);if(s){const o=r.findEventIndex(i),c=r.findAssetIndex(s,e);this.advanceAfterAssetEnded(s,o,c-1)}}setSchedulePosition(e,t){const r=this.schedule.items;if(!r||this.playbackDisabled)return;this.log(`setSchedulePosition ${e}, ${t}`);const i=e>=0?r[e]:null,s=this.playingItem,o=this.playingLastItem;if(this.isInterstitial(s)){var c;const u=s.event,h=this.playingAsset,p=h?.identifier,g=p?this.getAssetPlayer(p):null;if(g&&p&&(!this.eventItemsMatch(s,i)||t!==void 0&&p!==((c=u.assetList)==null?void 0:c[t].identifier))){var d;const v=u.findAssetIndex(h);if(this.log(`INTERSTITIAL_ASSET_ENDED ${v+1}/${u.assetList.length} ${Jo(h)}`),this.endedAsset=h,this.playingAsset=null,this.hls.trigger(O.INTERSTITIAL_ASSET_ENDED,{asset:h,assetListIndex:v,event:u,schedule:r.slice(0),scheduleIndex:e,player:g}),s!==this.playingItem){this.itemsMatch(s,this.playingItem)&&!this.playingAsset&&this.advanceAfterAssetEnded(u,this.findItemIndex(this.playingItem),v);return}this.retreiveMediaSource(p,i),g.media&&!((d=this.detachedData)!=null&&d.mediaSource)&&g.detachMedia()}if(!this.eventItemsMatch(s,i)&&(this.endedItem=s,this.playingItem=null,this.log(`INTERSTITIAL_ENDED ${u} ${Ws(s)}`),u.hasPlayed=!0,this.hls.trigger(O.INTERSTITIAL_ENDED,{event:u,schedule:r.slice(0),scheduleIndex:e}),u.cue.once)){this.updateSchedule();const v=this.schedule.items;if(i&&v){const y=this.findItemIndex(i);this.advanceSchedule(y,v,t,s,o)}return}}this.advanceSchedule(e,r,t,s,o)}advanceSchedule(e,t,r,i,s){const o=e>=0?t[e]:null,c=this.primaryMedia,d=this.playerQueue;if(d.length&&d.forEach(u=>{const h=u.interstitial,p=this.schedule.findEventIndex(h.identifier);(p<e||p>e+1)&&this.clearInterstitial(h,o)}),this.isInterstitial(o)){this.timelinePos=Math.min(Math.max(this.timelinePos,o.start),o.end);const u=o.event;if(r===void 0){r=this.schedule.findAssetIndex(u,this.timelinePos);const v=y0(u,r-1);if(u.isAssetPastPlayoutLimit(v)){this.advanceAfterAssetEnded(u,e,r);return}r=v}const h=this.waitingItem;this.assetsBuffered(o,c)||this.setBufferingItem(o);let p=this.preloadAssets(u,r);if(this.eventItemsMatch(o,h||i)||(this.waitingItem=o,this.log(`INTERSTITIAL_STARTED ${Ws(o)} ${u.appendInPlace?"append in place":""}`),this.hls.trigger(O.INTERSTITIAL_STARTED,{event:u,schedule:t.slice(0),scheduleIndex:e})),!u.assetListLoaded){this.log(`Waiting for ASSET-LIST to complete loading ${u}`);return}if(u.assetListLoader&&(u.assetListLoader.destroy(),u.assetListLoader=void 0),!c){this.log(`Waiting for attachMedia to start Interstitial ${u}`);return}this.waitingItem=this.endedItem=null,this.playingItem=o;const g=u.assetList[r];if(!g){const v=t[e+1],y=this.media;v&&y&&!this.isInterstitial(v)&&y.currentTime<v.start&&(y.currentTime=this.timelinePos=v.start),this.advanceAfterAssetEnded(u,e,r||0);return}if(p||(p=this.getAssetPlayer(g.identifier)),p===null||p.destroyed){const v=u.assetList.length;this.warn(`asset ${r+1}/${v} player destroyed ${u}`),p=this.createAssetPlayer(u,g,r)}if(!this.eventItemsMatch(o,this.bufferingItem)&&u.appendInPlace&&this.isAssetBuffered(g))return;this.startAssetPlayer(p,r,t,e,c),this.shouldPlay&&uC(p.media)}else o!==null?(this.resumePrimary(o,e,i),this.shouldPlay&&uC(this.hls.media)):s&&this.isInterstitial(i)&&(this.endedItem=null,this.playingItem=i,i.event.appendInPlace||this.attachPrimary(this.schedule.durations.primary,null))}get playbackDisabled(){return this.hls.config.enableInterstitialPlayback===!1}get primaryDetails(){var e,t;return(e=this.mediaSelection)==null||(t=e.main)==null?void 0:t.details}get primaryLive(){var e;return!!((e=this.primaryDetails)!=null&&e.live)}resumePrimary(e,t,r){var i;if(this.playingItem=e,this.playingAsset=this.endedAsset=null,this.waitingItem=this.endedItem=null,this.bufferedToItem(e),this.log(`resuming ${Ws(e)}`),!((i=this.detachedData)!=null&&i.mediaSource)){let o=this.timelinePos;(o<e.start||o>=e.end)&&(o=this.getPrimaryResumption(e,t),this.timelinePos=o),this.attachPrimary(o,e)}if(!r)return;const s=this.schedule.items;s&&(this.log(`INTERSTITIALS_PRIMARY_RESUMED ${Ws(e)}`),this.hls.trigger(O.INTERSTITIALS_PRIMARY_RESUMED,{schedule:s.slice(0),scheduleIndex:t}),this.checkBuffer())}getPrimaryResumption(e,t){const r=e.start;if(this.primaryLive){const i=this.primaryDetails;if(t===0)return this.hls.startPosition;if(i&&(r<i.fragmentStart||r>i.edge))return this.hls.liveSyncPosition||-1}return r}isAssetBuffered(e){const t=this.getAssetPlayer(e.identifier);return t!=null&&t.hls?t.hls.bufferedToEnd:lt.bufferInfo(this.primaryMedia,this.timelinePos,0).end+1>=e.timelineStart+(e.duration||0)}attachPrimary(e,t,r){t?this.setBufferingItem(t):this.bufferingItem=this.playingItem,this.bufferingAsset=null;const i=this.primaryMedia;if(!i)return;const s=this.hls;s.media?this.checkBuffer():(this.transferMediaTo(s,i),r&&this.startLoadingPrimaryAt(e,r)),r||(this.timelinePos=e,this.startLoadingPrimaryAt(e,r))}startLoadingPrimaryAt(e,t){var r;const i=this.hls;!i.loadingEnabled||!i.media||Math.abs((((r=i.mainForwardBufferInfo)==null?void 0:r.start)||i.media.currentTime)-e)>.5?i.startLoad(e,t):i.bufferingEnabled||i.resumeBuffering()}onManifestLoading(){this.stopLoad(),this.schedule.reset(),this.emptyPlayerQueue(),this.clearScheduleState(),this.shouldPlay=!1,this.bufferedPos=this.timelinePos=-1,this.mediaSelection=this.altSelection=this.manager=this.requiredTracks=null,this.hls.off(O.BUFFER_CODECS,this.onBufferCodecs,this),this.hls.on(O.BUFFER_CODECS,this.onBufferCodecs,this)}onLevelUpdated(e,t){if(t.level===-1)return;const r=this.hls.levels[t.level],i=jt(jt({},this.mediaSelection||this.altSelection),{},{main:r});this.mediaSelection=i,this.schedule.parseInterstitialDateRanges(i,this.hls.config.interstitialAppendInPlace),!this.effectivePlayingItem&&this.schedule.items&&this.checkStart()}onAudioTrackUpdated(e,t){const r=this.hls.audioTracks[t.id],i=this.mediaSelection;if(!i){this.altSelection=jt(jt({},this.altSelection),{},{audio:r});return}const s=jt(jt({},i),{},{audio:r});this.mediaSelection=s}onSubtitleTrackUpdated(e,t){const r=this.hls.subtitleTracks[t.id],i=this.mediaSelection;if(!i){this.altSelection=jt(jt({},this.altSelection),{},{subtitles:r});return}const s=jt(jt({},i),{},{subtitles:r});this.mediaSelection=s}onAudioTrackSwitching(e,t){const r=SA(t);this.playerQueue.forEach(i=>i.hls.setAudioOption(t)||i.hls.setAudioOption(r))}onSubtitleTrackSwitch(e,t){const r=SA(t);this.playerQueue.forEach(i=>i.hls.setSubtitleOption(t)||t.id!==-1&&i.hls.setSubtitleOption(r))}onBufferCodecs(e,t){const r=t.tracks;r&&(this.requiredTracks=r)}onBufferAppended(e,t){this.checkBuffer()}onBufferFlushed(e,t){const r=this.playingItem;if(r&&!this.itemsMatch(r,this.bufferingItem)&&!this.isInterstitial(r)){const i=this.timelinePos;this.bufferedPos=i,this.checkBuffer()}}onBufferedToEnd(e){const t=this.schedule.events;if(this.bufferedPos<Number.MAX_VALUE&&t){for(let i=0;i<t.length;i++){const s=t[i];if(s.cue.post){var r;const o=this.schedule.findEventIndex(s.identifier),c=(r=this.schedule.items)==null?void 0:r[o];this.isInterstitial(c)&&this.eventItemsMatch(c,this.bufferingItem)&&this.bufferedToItem(c,0);break}}this.bufferedPos=Number.MAX_VALUE}}onMediaEnded(e){const t=this.playingItem;if(!this.playingLastItem&&t){const r=this.findItemIndex(t);this.setSchedulePosition(r+1)}else this.shouldPlay=!1}updateItem(e,t){const r=this.schedule.items;if(e&&r){const i=this.findItemIndex(e,t);return r[i]||null}return null}trimInPlace(e,t){if(this.isInterstitial(e)&&e.event.appendInPlace&&t.end-e.end>.25){e.event.assetList.forEach((s,o)=>{e.event.isAssetPastPlayoutLimit(o)&&this.clearAssetPlayer(s.identifier,null)});const r=e.end+.25,i=lt.bufferInfo(this.primaryMedia,r,0);(i.end>r||(i.nextStart||0)>r)&&(this.attachPrimary(r,null),this.flushFrontBuffer(r))}}itemsMatch(e,t){return!!t&&(e===t||e.event&&t.event&&this.eventItemsMatch(e,t)||!e.event&&!t.event&&this.findItemIndex(e)===this.findItemIndex(t))}eventItemsMatch(e,t){var r;return!!t&&(e===t||e.event.identifier===((r=t.event)==null?void 0:r.identifier))}findItemIndex(e,t){return e?this.schedule.findItemIndex(e,t):-1}updateSchedule(){const e=this.mediaSelection;e&&this.schedule.updateSchedule(e,[])}checkBuffer(e){const t=this.schedule.items;if(!t)return;const r=lt.bufferInfo(this.primaryMedia,this.timelinePos,0);e&&(this.bufferedPos=this.timelinePos),e||(e=r.len<1),this.updateBufferedPos(r.end,t,e)}updateBufferedPos(e,t,r){const i=this.schedule,s=this.bufferingItem;if(this.bufferedPos>e)return;if(t.length===1&&this.itemsMatch(t[0],s)){this.bufferedPos=e;return}const o=this.playingItem,c=this.findItemIndex(o);let d=i.findItemIndexAtTime(e);if(this.bufferedPos<e){var u,h;const p=this.findItemIndex(s),g=Math.min(p+1,t.length-1),v=t[g];if((d===-1&&s&&e>=s.end||(u=v.event)!=null&&u.appendInPlace&&e+.01>=v.start)&&(d=g),g-c>1&&(s==null||(h=s.event)==null?void 0:h.appendInPlace)===!1)return;if(this.bufferedPos=e,d>p&&d>c)this.bufferedToItem(v);else{const y=this.primaryDetails;this.primaryLive&&y&&e>y.edge-y.targetduration&&v.start<y.edge+this.hls.config.interstitialLiveLookAhead&&this.isInterstitial(v)&&this.preloadAssets(v.event,0)}}else r&&o&&!this.itemsMatch(o,s)&&(d===c?this.bufferedToItem(o):d===c+1&&this.bufferedToItem(t[d]))}assetsBuffered(e,t){return e.event.assetList.length===0?!1:!e.event.assetList.some(i=>{const s=this.getAssetPlayer(i.identifier);return!(s!=null&&s.bufferedInPlaceToEnd(t))})}setBufferingItem(e){const t=this.bufferingItem,r=this.schedule;if(this.itemsMatch(e,t))this.bufferingItem!==e&&(this.bufferingItem=e);else{const{items:i,events:s}=r;if(!i||!s)return t;const o=this.isInterstitial(e),c=this.getBufferingPlayer();this.bufferingItem=e,this.bufferedPos=Math.max(e.start,Math.min(e.end,this.timelinePos));const d=c?c.remaining:t?t.end-this.timelinePos:0;this.log(`INTERSTITIALS_BUFFERED_TO_BOUNDARY ${Ws(e)}`+(t?` (${d.toFixed(2)} remaining)`:"")),this.playbackDisabled||(o?e.event.assetList.forEach(u=>{const h=this.getAssetPlayer(u.identifier);h&&h.resumeBuffering()}):(this.hls.resumeBuffering(),this.playerQueue.forEach(u=>u.pauseBuffering()))),this.hls.trigger(O.INTERSTITIALS_BUFFERED_TO_BOUNDARY,{events:s.slice(0),schedule:i.slice(0),bufferingIndex:this.findItemIndex(e),playingIndex:this.findItemIndex(this.playingItem)})}return t}bufferedToItem(e,t=0){const r=this.setBufferingItem(e);if(!this.playbackDisabled){if(this.isInterstitial(e))this.bufferedToEvent(e,t);else if(r!==null){this.bufferingAsset=null;const i=this.detachedData;i?i.mediaSource?this.attachPrimary(e.start,e,!0):this.preloadPrimary(e):this.preloadPrimary(e)}}}preloadPrimary(e){const t=this.findItemIndex(e),r=this.getPrimaryResumption(e,t);this.startLoadingPrimaryAt(r)}bufferedToEvent(e,t){const r=e.event,i=r.assetList.length===0&&!r.assetListLoader,s=r.cue.once;if(i||!s){const o=this.preloadAssets(r,t);if(o!=null&&o.interstitial.appendInPlace){const c=r.assetList[t],d=this.primaryMedia;c&&d&&this.bufferAssetPlayer(o,d)}}}preloadAssets(e,t){const r=e.assetUrl,i=e.assetList.length,s=i===0&&!e.assetListLoader,o=e.cue.once;if(s){const d=e.timelineStart;if(e.appendInPlace){var c;const g=this.playingItem;!this.isInterstitial(g)&&(g==null||(c=g.nextEvent)==null?void 0:c.identifier)===e.identifier&&this.flushFrontBuffer(d+.25)}let u,h=0;if(!this.playingItem&&this.primaryLive&&(h=this.hls.startPosition,h===-1&&(h=this.hls.liveSyncPosition||0)),h&&!(e.cue.pre||e.cue.post)){const g=h-d;g>0&&(u=Math.round(g*1e3)/1e3)}if(this.log(`Load interstitial asset ${t+1}/${r?1:i} ${e}${u?` live-start: ${h} start-offset: ${u}`:""}`),r)return this.createAsset(e,0,0,d,e.duration,r);const p=this.assetListLoader.loadAssetList(e,u);p&&(e.assetListLoader=p)}else if(!o&&i){for(let d=t;d<i;d++){const u=e.assetList[d],h=this.getAssetPlayerQueueIndex(u.identifier);(h===-1||this.playerQueue[h].destroyed)&&!u.error&&this.createAssetPlayer(e,u,d)}return this.getAssetPlayer(e.assetList[t].identifier)}return null}flushFrontBuffer(e){const t=this.requiredTracks;if(!t)return;this.log(`Removing front buffer starting at ${e}`),Object.keys(t).forEach(i=>{this.hls.trigger(O.BUFFER_FLUSHING,{startOffset:e,endOffset:1/0,type:i})})}getAssetPlayerQueueIndex(e){const t=this.playerQueue;for(let r=0;r<t.length;r++)if(e===t[r].assetId)return r;return-1}getAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);return this.playerQueue[t]||null}getBufferingPlayer(){const{playerQueue:e,primaryMedia:t}=this;if(t){for(let r=0;r<e.length;r++)if(e[r].media===t)return e[r]}return null}createAsset(e,t,r,i,s,o){const c={parentIdentifier:e.identifier,identifier:R9(e,o,t),duration:s,startOffset:r,timelineStart:i,uri:o};return this.createAssetPlayer(e,c,t)}createAssetPlayer(e,t,r){const i=this.hls,s=i.userConfig;let o=s.videoPreference;const c=i.loadLevelObj||i.levels[i.currentLevel];(o||c)&&(o=Mt({},o),c.videoCodec&&(o.videoCodec=c.videoCodec),c.videoRange&&(o.allowedVideoRanges=[c.videoRange]));const d=i.audioTracks[i.audioTrack],u=i.subtitleTracks[i.subtitleTrack];let h=0;if(this.primaryLive||e.appendInPlace){const A=this.timelinePos-t.timelineStart;if(A>1){const L=t.duration;L&&A<L&&(h=A)}}const p=t.identifier,g=jt(jt({},s),{},{autoStartLoad:!0,startFragPrefetch:!0,primarySessionId:i.sessionId,assetPlayerId:p,abrEwmaDefaultEstimate:i.bandwidthEstimate,interstitialsController:void 0,startPosition:h,liveDurationInfinity:!1,testBandwidth:!1,videoPreference:o,audioPreference:d||s.audioPreference,subtitlePreference:u||s.subtitlePreference});e.appendInPlace&&(e.appendInPlaceStarted=!0,t.timelineStart&&(g.timelineOffset=t.timelineStart));const v=g.cmcd;v!=null&&v.sessionId&&v.contentId&&(g.cmcd=Mt({},v,{contentId:au(t.uri)})),this.getAssetPlayer(p)&&this.warn(`Duplicate date range identifier ${e} and asset ${p}`);const y=new I9(this.HlsPlayerClass,g,e,t);this.playerQueue.push(y),e.assetList[r]=t;const x=A=>{if(A.live){const M=new Error(`Interstitials MUST be VOD assets ${e}`),P={fatal:!0,type:Ge.OTHER_ERROR,details:re.INTERSTITIAL_ASSET_ITEM_ERROR,error:M};this.handleAssetItemError(P,e,this.schedule.findEventIndex(e.identifier),r,M.message);return}const L=A.edge-A.fragmentStart,I=t.duration;(I===null||L>I)&&(this.log(`Interstitial asset "${p}" duration change ${I} > ${L}`),t.duration=L,this.updateSchedule())};y.on(O.LEVEL_UPDATED,(A,{details:L})=>x(L)),y.on(O.LEVEL_PTS_UPDATED,(A,{details:L})=>x(L));const S=(A,L)=>{const I=this.getAssetPlayer(p);if(I&&L.tracks){I.off(O.BUFFER_CODECS,S),I.tracks=L.tracks;const M=this.primaryMedia;this.bufferingAsset===I.assetItem&&M&&!I.media&&this.bufferAssetPlayer(I,M)}};y.on(O.BUFFER_CODECS,S);const E=()=>{var A;const L=this.getAssetPlayer(p);if(this.log(`buffered to end of asset ${L}`),!L)return;const I=this.schedule.findEventIndex(e.identifier),M=(A=this.schedule.items)==null?void 0:A[I];if(this.isInterstitial(M)){const k=e.findAssetIndex(t),_=y0(e,k);if(!e.isAssetPastPlayoutLimit(_))this.bufferedToItem(M,_);else{var P;const w=(P=this.schedule.items)==null?void 0:P[I+1];w&&this.bufferedToItem(w)}}};y.on(O.BUFFERED_TO_END,E);const R=A=>()=>{if(!this.getAssetPlayer(p))return;this.shouldPlay=!0;const I=this.schedule.findEventIndex(e.identifier);this.advanceAfterAssetEnded(e,I,A)};return y.once(O.MEDIA_ENDED,R(r)),y.once(O.PLAYOUT_LIMIT_REACHED,R(1/0)),y.on(O.ERROR,(A,L)=>{const I=this.getAssetPlayer(p);if(L.details===re.BUFFER_STALLED_ERROR){if(I!=null&&I.media){const M=I.currentTime,P=I.duration-M;M&&e.appendInPlace&&P/I.media.playbackRate<.5?(this.log(`Advancing buffer past end of asset ${p} ${e} at ${I.media.currentTime}`),E()):(this.warn(`Stalled at ${M} of ${M+P} in asset ${p} ${e}`),this.onTimeupdate(),this.checkBuffer(!0))}return}this.handleAssetItemError(L,e,this.schedule.findEventIndex(e.identifier),r,`Asset player error ${L.error} ${e}`)}),y.on(O.DESTROYING,()=>{if(!this.getAssetPlayer(p))return;const L=new Error(`Asset player destroyed unexpectedly ${p}`),I={fatal:!0,type:Ge.OTHER_ERROR,details:re.INTERSTITIAL_ASSET_ITEM_ERROR,error:L};this.handleAssetItemError(I,e,this.schedule.findEventIndex(e.identifier),r,L.message)}),this.log(`INTERSTITIAL_ASSET_PLAYER_CREATED ${Jo(t)}`),this.hls.trigger(O.INTERSTITIAL_ASSET_PLAYER_CREATED,{asset:t,assetListIndex:r,event:e,player:y}),y}clearInterstitial(e,t){e.assetList.forEach(r=>{this.clearAssetPlayer(r.identifier,t)}),e.reset()}resetAssetPlayer(e){const t=this.getAssetPlayerQueueIndex(e);if(t!==-1){this.log(`reset asset player "${e}" after error`);const r=this.playerQueue[t];this.transferMediaFromPlayer(r,null),r.resetDetails()}}clearAssetPlayer(e,t){const r=this.getAssetPlayerQueueIndex(e);if(r!==-1){this.log(`clear asset player "${e}" toSegment: ${t&&Ws(t)}`);const i=this.playerQueue[r];this.transferMediaFromPlayer(i,t),this.playerQueue.splice(r,1),i.destroy()}}emptyPlayerQueue(){let e;for(;e=this.playerQueue.pop();)e.destroy();this.playerQueue=[]}startAssetPlayer(e,t,r,i,s){const{interstitial:o,assetItem:c,assetId:d}=e,u=o.assetList.length,h=this.playingAsset;this.endedAsset=null,this.playingAsset=c,(!h||h.identifier!==d)&&(h&&(this.clearAssetPlayer(h.identifier,r[i]),delete h.error),this.log(`INTERSTITIAL_ASSET_STARTED ${t+1}/${u} ${Jo(c)}`),this.hls.trigger(O.INTERSTITIAL_ASSET_STARTED,{asset:c,assetListIndex:t,event:o,schedule:r.slice(0),scheduleIndex:i,player:e})),this.bufferAssetPlayer(e,s)}bufferAssetPlayer(e,t){var r,i;const{interstitial:s,assetItem:o}=e,c=this.schedule.findEventIndex(s.identifier),d=(r=this.schedule.items)==null?void 0:r[c];if(!d)return;this.setBufferingItem(d),this.bufferingAsset=o;const u=this.getBufferingPlayer();if(u===e)return;const h=s.appendInPlace;if(h&&u?.interstitial.appendInPlace===!1)return;const p=u?.tracks||((i=this.detachedData)==null?void 0:i.tracks)||this.requiredTracks;if(h&&o!==this.playingAsset){if(!e.tracks)return;if(p&&!aL(p,e.tracks)){const g=new Error(`Asset ${Jo(o)} SourceBuffer tracks ('${Object.keys(e.tracks)}') are not compatible with primary content tracks ('${Object.keys(p)}')`),v={fatal:!0,type:Ge.OTHER_ERROR,details:re.INTERSTITIAL_ASSET_ITEM_ERROR,error:g},y=s.findAssetIndex(o);this.handleAssetItemError(v,s,c,y,g.message);return}}this.transferMediaTo(e,t)}handleAssetItemError(e,t,r,i,s){if(e.details===re.BUFFER_STALLED_ERROR)return;const o=t.assetList[i];this.warn(`INTERSTITIAL_ASSET_ERROR ${o&&Jo(o)} ${e.error}`);const c=o?.identifier,d=this.getAssetPlayerQueueIndex(c),u=this.playerQueue[d]||null,h=this.schedule.items,p=Mt({},e,{fatal:!1,errorAction:bu(!0),asset:o,assetListIndex:i,event:t,schedule:h,scheduleIndex:r,player:u});if(this.hls.trigger(O.INTERSTITIAL_ASSET_ERROR,p),!e.fatal)return;const g=this.playingAsset,v=new Error(s);if(o&&(this.clearAssetPlayer(c,null),o.error=v),!t.assetList.some(y=>!y.error))t.error=v;else{for(let y=i;y<t.assetList.length;y++)this.resetAssetPlayer(t.assetList[y].identifier);this.updateSchedule()}t.error?this.primaryFallback(t):g&&g.identifier===c&&this.advanceAfterAssetEnded(t,r,i)}primaryFallback(e){const t=e.timelineStart,r=this.effectivePlayingItem;if(this.updateSchedule(),r){this.log(`Fallback to primary from event "${e.identifier}" start: ${t} pos: ${this.timelinePos} playing: ${r?Ws(r):"<none>"} error: ${e.error}`);let i=this.timelinePos;i===-1&&(i=this.hls.startPosition);const s=this.updateItem(r,i);this.itemsMatch(r,s)&&this.clearInterstitial(e,null),e.appendInPlace&&(this.attachPrimary(t,null),this.flushFrontBuffer(t));const o=this.schedule.findItemIndexAtTime(i);this.setSchedulePosition(o)}else this.checkStart()}onAssetListLoaded(e,t){var r;const i=t.event,s=i.identifier,o=t.assetListResponse.ASSETS;if(!this.schedule.hasEvent(s))return;const c=i.timelineStart,d=i.duration;let u=0;o.forEach((y,x)=>{const S=parseFloat(y.DURATION);this.createAsset(i,x,u,c+u,S,y.URI),u+=S}),i.duration=u,this.log(`Loaded asset-list with duration: ${u} (was: ${d}) ${i}`);const h=this.waitingItem,p=h?.event.identifier===s;this.updateSchedule();const g=(r=this.bufferingItem)==null?void 0:r.event;if(p){var v;const y=this.schedule.findEventIndex(s),x=(v=this.schedule.items)==null?void 0:v[y];if(x){if(!this.playingItem&&this.timelinePos>x.end&&this.schedule.findItemIndexAtTime(this.timelinePos)!==y){i.error=new Error(`Interstitial no longer within playback range ${this.timelinePos} ${i}`),this.primaryFallback(i);return}this.setBufferingItem(x)}this.setSchedulePosition(y)}else if(g?.identifier===s&&g.appendInPlace){const y=i.assetList[0],x=this.getAssetPlayer(y.identifier),S=this.primaryMedia;y&&x&&S&&this.bufferAssetPlayer(x,S)}}onError(e,t){switch(t.details){case re.ASSET_LIST_PARSING_ERROR:case re.ASSET_LIST_LOAD_ERROR:case re.ASSET_LIST_LOAD_TIMEOUT:{const r=t.interstitial;r&&this.primaryFallback(r);break}case re.BUFFER_STALLED_ERROR:{this.onTimeupdate(),this.checkBuffer(!0);break}}}}const dC=500;class O9 extends Gv{constructor(e,t,r){super(e,t,r,"subtitle-stream-controller",Ne.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this.registerListeners()}onHandlerDestroying(){this.unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(O.LEVEL_LOADED,this.onLevelLoaded,this),e.on(O.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(O.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(O.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(O.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(O.BUFFER_FLUSHING,this.onBufferFlushing,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(O.LEVEL_LOADED,this.onLevelLoaded,this),e.off(O.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(O.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(O.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(O.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(O.BUFFER_FLUSHING,this.onBufferFlushing,this)}startLoad(e,t){this.stopLoad(),this.state=ge.IDLE,this.setInterval(dC),this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}onManifestLoading(){super.onManifestLoading(),this.mainDetails=null}onMediaDetaching(e,t){this.tracksBuffered=[],super.onMediaDetaching(e,t)}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:r,success:i}=t;if(this.fragContextChanged(r)||(Cn(r)&&(this.fragPrevious=r),this.state=ge.IDLE),!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const c=r.start;for(let u=0;u<s.length;u++)if(c>=s[u].start&&c<=s[u].end){o=s[u];break}const d=r.start+r.duration;o?o.end=d:(o={start:c,end:d},s.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null),this.media&&this.tick()}onBufferFlushing(e,t){const{startOffset:r,endOffset:i}=t;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;t.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let c=0;c<o.length;){if(o[c].end<=s){o.shift();continue}else if(o[c].start<s)o[c].start=s;else break;c++}}),this.fragmentTracker.removeFragmentsInRange(r,s,Ne.SUBTITLE)}}onError(e,t){const r=t.frag;r?.type===Ne.SUBTITLE&&(t.details===re.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==ge.STOPPED&&(this.state=ge.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&rI(this.levels,t)){this.levels=t.map(r=>new xu(r));return}this.tracksBuffered=[],this.levels=t.map(r=>{const i=new xu(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Ne.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var r;if(this.currentTrackId=t.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.state!==ge.STOPPED&&this.setInterval(dC)}onSubtitleTrackLoaded(e,t){var r;const{currentTrackId:i,levels:s}=this,{details:o,id:c}=t;if(!s){this.warn(`Subtitle tracks were reset while loading level ${c}`);return}const d=s[c];if(c>=s.length||!d)return;this.log(`Subtitle track ${c} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(o.live||(r=d.details)!=null&&r.live){if(o.deltaUpdateFailed)return;const p=this.mainDetails;if(!p){this.startFragRequested=!1;return}const g=p.fragments[0];if(!d.details)o.hasProgramDateTime&&p.hasProgramDateTime?(Th(o,p),u=o.fragmentStart):g&&(u=g.start,Ey(o,u));else{var h;u=this.alignPlaylists(o,d.details,(h=this.levelLastLoaded)==null?void 0:h.details),u===0&&g&&(u=g.start,Ey(o,u))}p&&!this.startFragRequested&&this.setStartPosition(p,u)}d.details=o,this.levelLastLoaded=d,c===i&&(this.hls.trigger(O.SUBTITLE_TRACK_UPDATED,{details:o,id:c,groupId:t.groupId}),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===ge.IDLE&&(Qa(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),d.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:r}=e,i=t.decryptdata,s=this.hls;if(!this.fragContextChanged(t)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&ol(i.method)){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer,zv(i.method)).catch(c=>{throw s.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:t}),c}).then(c=>{const d=performance.now();s.trigger(O.FRAG_DECRYPTED,{frag:t,payload:c,stats:{tstart:o,tdecrypt:d}})}).catch(c=>{this.warn(`${c.name}: ${c.message}`),this.state=ge.IDLE})}}doTick(){if(!this.media){this.state=ge.IDLE;return}if(this.state===ge.IDLE){const{currentTrackId:e,levels:t}=this,r=t?.[e];if(!r||!t.length||!r.details||this.waitForLive(r))return;const{config:i}=this,s=this.getLoadPosition(),o=lt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:c,len:d}=o,u=r.details,h=this.hls.maxBufferLength+u.levelTargetDuration;if(d>h)return;const p=u.fragments,g=p.length,v=u.edge;let y=null;const x=this.fragPrevious;if(c<v){const R=i.maxFragLookUpTolerance,A=c>v-R?0:R;y=Qa(x,p,Math.max(p[0].start,c),A),!y&&x&&x.start<p[0].start&&(y=p[0])}else y=p[g-1];if(y=this.filterReplacedPrimary(y,r.details),!y)return;const S=y.sn-u.startSN,E=p[S-1];if(E&&E.cc===y.cc&&this.fragmentTracker.getState(E)===Ln.NOT_LOADED&&(y=E),this.fragmentTracker.getState(y)===Ln.NOT_LOADED){const R=this.mapToInitFragWhenRequired(y);R&&this.loadFragment(R,r,c)}}}loadFragment(e,t,r){Cn(e)?super.loadFragment(e,t,r):this._loadInitSegment(e,t)}get mediaBufferTimeRanges(){return new k9(this.tracksBuffered[this.currentTrackId]||[])}}class k9{constructor(e){this.buffered=void 0;const t=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return t("end",r,e.length)},start(r){return t("start",r,e.length)}}}}const M9={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},pI=n=>String.fromCharCode(M9[n]||n),ri=15,as=100,N9={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},B9={17:2,18:4,21:6,22:8,23:10,19:13,20:15},$9={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},F9={25:2,26:4,29:6,30:8,31:10,27:13,28:15},U9=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class j9{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const r=typeof t=="function"?t():t;wt.log(`${this.time} [${e}] ${r}`)}}}const Da=function(e){const t=[];for(let r=0;r<e.length;r++)t.push(e[r].toString(16));return t};class mI{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let r=0;r<t.length;r++){const i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class z9{constructor(){this.uchar=" ",this.penState=new mI}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class G9{constructor(e){this.chars=[],this.pos=0,this.currPenState=new mI,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<as;t++)this.chars.push(new z9);this.logger=e}equals(e){for(let t=0;t<as;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<as;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<as;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>as&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=as)}moveCursor(e){const t=this.pos+e;if(e>1)for(let r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=pI(e);if(this.pos>=as){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<as;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let r=0;r<as;r++){const i=this.chars[r].uchar;i!==" "&&(t=!1),e.push(i)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class v0{constructor(e){this.rows=[],this.currRow=ri-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<ri;t++)this.rows.push(new G9(e));this.logger=e}reset(){for(let e=0;e<ri;e++)this.rows[e].clear();this.currRow=ri-1}equals(e){let t=!0;for(let r=0;r<ri;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}copy(e){for(let t=0;t<ri;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<ri;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+Yt(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let c=0;c<ri;c++)this.rows[c].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const c=o.rows[s].cueStartTime,d=this.logger.time;if(c!==null&&d!==null&&c<d)for(let u=0;u<this.nrRollUpRows;u++)this.rows[t-this.nrRollUpRows+u+1].copy(o.rows[s+u])}}this.currRow=t;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+Yt(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let r="",i=-1;for(let s=0;s<ri;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?t.push("Row "+i+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(e?r="["+t.join(" | ")+"]":r=t.join(`
`)),r}getTextAndFormat(){return this.rows}}class fC{constructor(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new v0(r),this.nonDisplayedMemory=new v0(r),this.lastOutputScreen=new v0(r),this.currRollUpRow=this.displayedMemory.rows[ri-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[ri-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[r]}this.logger.log(2,"MIDROW: "+Yt(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class hC{constructor(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=V9(),this.logger=void 0;const i=this.logger=new j9;this.channels=[null,new fC(e,t,i),new fC(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let r=0;r<t.length;r+=2){const i=t[r]&127,s=t[r+1]&127;let o=!1,c=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Da([t[r],t[r+1]])+"] -> ("+Da([i,s])+")");const d=this.cmdHistory;if(i>=16&&i<=31){if(H9(i,s,d)){Af(null,null,d),this.logger.log(3,()=>"Repeated command ("+Da([i,s])+") is dropped");continue}Af(i,s,this.cmdHistory),o=this.parseCmd(i,s),o||(o=this.parseMidrow(i,s)),o||(o=this.parsePAC(i,s)),o||(o=this.parseBackgroundAttributes(i,s))}else Af(null,null,d);if(!o&&(c=this.parseChars(i,s),c)){const h=this.currentChannel;h&&h>0?this.channels[h].insertChars(c):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!c&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Da([i,s])+" orig: "+Da([t[r],t[r+1]]))}}parseCmd(e,t){const r=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=33&&t<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?t===32?o.ccRCL():t===33?o.ccBS():t===34?o.ccAOF():t===35?o.ccAON():t===36?o.ccDER():t===37?o.ccRU(2):t===38?o.ccRU(3):t===39?o.ccRU(4):t===40?o.ccFON():t===41?o.ccRDC():t===42?o.ccTR():t===43?o.ccRTD():t===44?o.ccEDM():t===45?o.ccCR():t===46?o.ccENM():t===47&&o.ccEOC():o.ccTO(t-32),this.currentChannel=s,!0}parseMidrow(e,t){let r=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+Da([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,s=(e===16||e===24)&&t>=64&&t<=95;if(!(i||s))return!1;const o=e<=23?1:2;t>=64&&t<=95?r=o===1?N9[e]:$9[e]:r=o===1?B9[e]:F9[e];const c=this.channels[o];return c?(c.setPAC(this.interpretPAC(r,t)),this.currentChannel=o,!0):!1}interpretPAC(e,t){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?r=t-96:r=t-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,t){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=t+80:s===18?o=t+112:o=t+144,this.logger.log(2,()=>"Special char '"+pI(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=t===0?[e]:[e,t]);return i&&this.logger.log(3,()=>"Char codes =  "+Da(i).join(",")),i}parseBackgroundAttributes(e,t){const r=(e===16||e===24)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=45&&t<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((t-32)/2),o.background=U9[s],t%2===1&&(o.background=o.background+"_semi")):t===45?o.background="transparent":(o.foreground="black",t===47&&(o.underline=!0));const c=e<=23?1:2;return this.channels[c].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}Af(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const r=this.channels[t];r&&r.cueSplitAtTime(e)}}}function Af(n,e,t){t.a=n,t.b=e}function H9(n,e,t){return t.a===n&&t.b===e}function V9(){return{a:null,b:null}}var ex=function(){if(Eh!=null&&Eh.VTTCue)return self.VTTCue;const n=["","lr","rl"],e=["start","middle","end","left","right"];function t(c,d){if(typeof d!="string"||!Array.isArray(c))return!1;const u=d.toLowerCase();return~c.indexOf(u)?u:!1}function r(c){return t(n,c)}function i(c){return t(e,c)}function s(c,...d){let u=1;for(;u<arguments.length;u++){const h=arguments[u];for(const p in h)c[p]=h[p]}return c}function o(c,d,u){const h=this,p={enumerable:!0};h.hasBeenReset=!1;let g="",v=!1,y=c,x=d,S=u,E=null,R="",A=!0,L="auto",I="start",M=50,P="middle",k=50,_="middle";Object.defineProperty(h,"id",s({},p,{get:function(){return g},set:function(w){g=""+w}})),Object.defineProperty(h,"pauseOnExit",s({},p,{get:function(){return v},set:function(w){v=!!w}})),Object.defineProperty(h,"startTime",s({},p,{get:function(){return y},set:function(w){if(typeof w!="number")throw new TypeError("Start time must be set to a number.");y=w,this.hasBeenReset=!0}})),Object.defineProperty(h,"endTime",s({},p,{get:function(){return x},set:function(w){if(typeof w!="number")throw new TypeError("End time must be set to a number.");x=w,this.hasBeenReset=!0}})),Object.defineProperty(h,"text",s({},p,{get:function(){return S},set:function(w){S=""+w,this.hasBeenReset=!0}})),Object.defineProperty(h,"region",s({},p,{get:function(){return E},set:function(w){E=w,this.hasBeenReset=!0}})),Object.defineProperty(h,"vertical",s({},p,{get:function(){return R},set:function(w){const B=r(w);if(B===!1)throw new SyntaxError("An invalid or illegal string was specified.");R=B,this.hasBeenReset=!0}})),Object.defineProperty(h,"snapToLines",s({},p,{get:function(){return A},set:function(w){A=!!w,this.hasBeenReset=!0}})),Object.defineProperty(h,"line",s({},p,{get:function(){return L},set:function(w){if(typeof w!="number"&&w!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");L=w,this.hasBeenReset=!0}})),Object.defineProperty(h,"lineAlign",s({},p,{get:function(){return I},set:function(w){const B=i(w);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");I=B,this.hasBeenReset=!0}})),Object.defineProperty(h,"position",s({},p,{get:function(){return M},set:function(w){if(w<0||w>100)throw new Error("Position must be between 0 and 100.");M=w,this.hasBeenReset=!0}})),Object.defineProperty(h,"positionAlign",s({},p,{get:function(){return P},set:function(w){const B=i(w);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");P=B,this.hasBeenReset=!0}})),Object.defineProperty(h,"size",s({},p,{get:function(){return k},set:function(w){if(w<0||w>100)throw new Error("Size must be between 0 and 100.");k=w,this.hasBeenReset=!0}})),Object.defineProperty(h,"align",s({},p,{get:function(){return _},set:function(w){const B=i(w);if(!B)throw new SyntaxError("An invalid or illegal string was specified.");_=B,this.hasBeenReset=!0}})),h.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class K9{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function gI(n){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const t=n.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class W9{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,r){for(let i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function yI(n,e,t,r){const i=r?n.split(r):[n];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(t);if(o.length!==2)continue;const c=o[0],d=o[1];e(c,d)}}const Iy=new ex(0,0,""),Cf=Iy.align==="middle"?"middle":"center";function q9(n,e,t){const r=n;function i(){const c=gI(n);if(c===null)throw new Error("Malformed timestamp: "+r);return n=n.replace(/^[^\sa-zA-Z-]+/,""),c}function s(c,d){const u=new W9;yI(c,function(g,v){let y;switch(g){case"region":for(let x=t.length-1;x>=0;x--)if(t[x].id===v){u.set(g,t[x].region);break}break;case"vertical":u.alt(g,v,["rl","lr"]);break;case"line":y=v.split(","),u.integer(g,y[0]),u.percent(g,y[0])&&u.set("snapToLines",!1),u.alt(g,y[0],["auto"]),y.length===2&&u.alt("lineAlign",y[1],["start",Cf,"end"]);break;case"position":y=v.split(","),u.percent(g,y[0]),y.length===2&&u.alt("positionAlign",y[1],["start",Cf,"end","line-left","line-right","auto"]);break;case"size":u.percent(g,v);break;case"align":u.alt(g,v,["start",Cf,"end","left","right"]);break}},/:/,/\s/),d.region=u.get("region",null),d.vertical=u.get("vertical","");let h=u.get("line","auto");h==="auto"&&Iy.line===-1&&(h=-1),d.line=h,d.lineAlign=u.get("lineAlign","start"),d.snapToLines=u.get("snapToLines",!0),d.size=u.get("size",100),d.align=u.get("align",Cf);let p=u.get("position","auto");p==="auto"&&Iy.position===50&&(p=d.align==="start"||d.align==="left"?0:d.align==="end"||d.align==="right"?100:50),d.position=p}function o(){n=n.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),n.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);n=n.slice(3),o(),e.endTime=i(),o(),s(n,e)}function vI(n){return n.replace(/<br(?: \/)?>/gi,`
`)}class Y9{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new K9,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function r(){let s=t.buffer,o=0;for(s=vI(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const c=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,t.buffer=s.slice(o),c}function i(s){yI(s,function(o,c){},/:/)}try{let s="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=r();const c=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(c!=null&&c[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let o=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:s=r(),t.state){case"HEADER":/:/.test(s)?i(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;if(t.cue=new ex(0,0,""),t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{q9(s,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const c=s.indexOf("-->")!==-1;if(!s||c&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s}continue;case"BADCUE":s||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const X9=/\r\n|\n\r|\n|\r/g,x0=function(e,t,r=0){return e.slice(r,r+t.length)===t},Q9=function(e){let t=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!_e(t)||!_e(r)||!_e(i)||!_e(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*r,t+=60*1e3*i,t+=60*60*1e3*s,t};function tx(n,e,t){return au(n.toString())+au(e.toString())+au(t)}const Z9=function(e,t,r){let i=e[t],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function J9(n,e,t,r,i,s,o){const c=new Y9,d=wr(new Uint8Array(n)).trim().replace(X9,`
`).split(`
`),u=[],h=e?pH(e.baseTime,e.timescale):0;let p="00:00.000",g=0,v=0,y,x=!0;c.oncue=function(S){const E=t[r];let R=t.ccOffset;const A=(g-h)/9e4;if(E!=null&&E.new&&(v!==void 0?R=t.ccOffset=E.start:Z9(t,r,A)),A){if(!e){y=new Error("Missing initPTS for VTT MPEGTS");return}R=A-t.presentationOffset}const L=S.endTime-S.startTime,I=Fr((S.startTime+R-v)*9e4,i*9e4)/9e4;S.startTime=Math.max(I,0),S.endTime=Math.max(I+L,0);const M=S.text.trim();S.text=decodeURIComponent(encodeURIComponent(M)),S.id||(S.id=tx(S.startTime,S.endTime,M)),S.endTime>0&&u.push(S)},c.onparsingerror=function(S){y=S},c.onflush=function(){if(y){o(y);return}s(u)},d.forEach(S=>{if(x)if(x0(S,"X-TIMESTAMP-MAP=")){x=!1,S.slice(16).split(",").forEach(E=>{x0(E,"LOCAL:")?p=E.slice(6):x0(E,"MPEGTS:")&&(g=parseInt(E.slice(7)))});try{v=Q9(p)/1e3}catch(E){y=E}return}else S===""&&(x=!1);c.parse(S+`
`)}),c.flush()}const b0="stpp.ttml.im1t",xI=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,bI=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,eV={left:"start",center:"center",right:"end",start:"start",end:"end"};function pC(n,e,t,r){const i=yt(new Uint8Array(n),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(c=>wr(c)),o=hH(e.baseTime,1,e.timescale);try{s.forEach(c=>t(tV(c,o)))}catch(c){r(c)}}function tV(n,e){const i=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((p,g)=>(p[g]=i.getAttribute(`ttp:${g}`)||s[g],p),{}),c=i.getAttribute("xml:space")!=="preserve",d=mC(S0(i,"styling","style")),u=mC(S0(i,"layout","region")),h=S0(i,"body","[begin]");return[].map.call(h,p=>{const g=SI(p,c);if(!g||!p.hasAttribute("begin"))return null;const v=T0(p.getAttribute("begin"),o),y=T0(p.getAttribute("dur"),o);let x=T0(p.getAttribute("end"),o);if(v===null)throw gC(p);if(x===null){if(y===null)throw gC(p);x=v+y}const S=new ex(v-e,x-e,g);S.id=tx(S.startTime,S.endTime,S.text);const E=u[p.getAttribute("region")],R=d[p.getAttribute("style")],A=nV(E,R,d),{textAlign:L}=A;if(L){const I=eV[L];I&&(S.lineAlign=I),S.align=L}return Mt(S,A),S}).filter(p=>p!==null)}function S0(n,e,t){const r=n.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(t)):[]}function mC(n){return n.reduce((e,t)=>{const r=t.getAttribute("xml:id");return r&&(e[r]=t),e},{})}function SI(n,e){return[].slice.call(n.childNodes).reduce((t,r,i)=>{var s;return r.nodeName==="br"&&i?t+`
`:(s=r.childNodes)!=null&&s.length?SI(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent},"")}function nV(n,e,t){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=n!=null&&n.hasAttribute("style")?n.getAttribute("style"):null;return o&&t.hasOwnProperty(o)&&(i=t[o]),s.reduce((c,d)=>{const u=E0(e,r,d)||E0(n,r,d)||E0(i,r,d);return u&&(c[d]=u),c},{})}function E0(n,e,t){return n&&n.hasAttributeNS(e,t)?n.getAttributeNS(e,t):null}function gC(n){return new Error(`Could not parse ttml timestamp ${n}`)}function T0(n,e){if(!n)return null;let t=gI(n);return t===null&&(xI.test(n)?t=rV(n,e):bI.test(n)&&(t=iV(n,e))),t}function rV(n,e){const t=xI.exec(n),r=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+r/e.frameRate}function iV(n,e){const t=bI.exec(n),r=Number(t[1]);switch(t[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class Rf{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}class sV{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=vC(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(O.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(O.FRAG_LOADING,this.onFragLoading,this),e.on(O.FRAG_LOADED,this.onFragLoaded,this),e.on(O.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(O.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(O.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(O.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(O.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(O.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(O.FRAG_LOADING,this.onFragLoading,this),e.off(O.FRAG_LOADED,this.onFragLoaded,this),e.off(O.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(O.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(O.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(O.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(O.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.media=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){const e=new Rf(this,"textTrack1"),t=new Rf(this,"textTrack2"),r=new Rf(this,"textTrack3"),i=new Rf(this,"textTrack4");this.cea608Parser1=new hC(1,e,t),this.cea608Parser2=new hC(3,r,i)}addCues(e,t,r,i,s){let o=!1;for(let c=s.length;c--;){const d=s[c],u=aV(d[0],d[1],t,r);if(u>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],r),o=!0,u/(r-t)>.5))return}if(o||s.push([t,r]),this.config.renderTextTracksNatively){const c=this.captionsTracks[e];this.Cues.newCue(c,t,r,i)}else{const c=this.Cues.newCue(null,t,r,i);this.hls.trigger(O.CUES_PARSED,{type:"captions",cues:c,track:e})}}onInitPtsFound(e,{frag:t,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r===Ne.MAIN&&(this.initPTS[t.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(c=>{this.initPTS[c.frag.cc]?this.onFragLoaded(O.FRAG_LOADED,c):this.hls.trigger(O.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:c.frag,error:new Error("Subtitle discontinuity domain does not match main")})}))}getExistingTrack(e,t){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(yC(s,{name:e,lang:t,characteristics:"transcribes-spoken-dialog,describes-music-and-sound"}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=t[e],c=this.getExistingTrack(s,o);if(c)r[e]=c,nl(r[e]),dI(r[e],i);else{const d=this.createTextTrack("captions",s,o);d&&(d[e]=!0,r[e]=d)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const r=t.label,i={_id:e,label:r,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(O.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,t,r){const i=this.media;if(i)return i.addTextTrack(e,t,r)}onMediaAttaching(e,t){this.media=t.media,t.mediaSource||this._cleanTracks()}onMediaDetaching(e,t){const r=!!t.transferMedia;if(this.media=null,r)return;const{captionsTracks:i}=this;Object.keys(i).forEach(s=>{nl(i[s]),delete i[s]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=vC(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let r=0;r<t.length;r++)nl(t[r])}onSubtitleTracksUpdated(e,t){const r=t.subtitleTracks||[],i=r.some(s=>s.textCodec===b0);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(rI(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,c=o?Wf(o.textTracks):null;if(this.tracks.forEach((d,u)=>{let h;if(c){let p=null;for(let g=0;g<c.length;g++)if(c[g]&&yC(c[g],d)){p=c[g],c[g]=null;break}p&&(h=p)}if(h)nl(h);else{const p=EI(d);h=this.createTextTrack(p,d.name,d.lang),h&&(h.mode="disabled")}h&&this.textTracks.push(h)}),c!=null&&c.length){const d=c.filter(u=>u!==null).map(u=>u.label);d.length&&this.hls.logger.warn(`Media element contains unused subtitle tracks: ${d.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(c=>({label:c.name,kind:c.type.toLowerCase(),default:c.default,subtitleTrack:c}));this.hls.trigger(O.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t?.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===Ne.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:o,lastSn:c}=this,{cc:d,sn:u}=t.frag,h=(r=(i=t.part)==null?void 0:i.index)!=null?r:-1;s&&o&&(u!==c+1||u===c&&h!==this.lastPartIndex+1||d!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=d,this.lastSn=u,this.lastPartIndex=h}}onFragLoaded(e,t){const{frag:r,payload:i}=t;if(r.type===Ne.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in t;if(s==null||!s.encrypted||o){const c=this.tracks[r.level],d=this.vttCCs;d[r.cc]||(d[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),c&&c.textCodec===b0?this._parseIMSC1(r,i):this._parseVTTs(t)}}else this.hls.trigger(O.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const r=this.hls;pC(t,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(O.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{r.logger.log(`Failed to parse IMSC1: ${i}`),r.trigger(O.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var t;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,c=s.length-1;if(!s[r.cc]&&c===-1){o.push(e);return}const d=this.hls,u=(t=r.initSegment)!=null&&t.data?Yr(r.initSegment.data,new Uint8Array(i)).buffer:i;J9(u,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,h=>{this._appendCues(h,r.level),d.trigger(O.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},h=>{const p=h.message==="Missing initPTS for VTT MPEGTS";p?o.push(e):this._fallbackToIMSC1(r,i),d.logger.log(`Failed to parse VTT cue: ${h}`),!(p&&c>r.cc)&&d.trigger(O.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:h})})}_fallbackToIMSC1(e,t){const r=this.tracks[e.level];r.textCodec||pC(t,this.initPTS[e.cc],()=>{r.textCodec=b0,this._parseIMSC1(e,t)},()=>{r.textCodec="wvtt"})}_appendCues(e,t){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[t];if(!i||i.mode==="disabled")return;e.forEach(s=>fI(i,s))}else{const i=this.tracks[t];if(!i)return;const s=i.default?"default":"subtitles"+t;r.trigger(O.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,t){const{frag:r}=t;r.type===Ne.SUBTITLE&&this.onFragLoaded(O.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){if(!this.enabled||!this.config.enableCEA708Captions)return;const{frag:r,samples:i}=t;if(!(r.type===Ne.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let s=0;s<i.length;s++){const o=i[s].bytes;if(o){this.cea608Parser1||this.initCea608Parsers();const c=this.extractCea608Data(o);this.cea608Parser1.addData(i[s].pts,c[0]),this.cea608Parser2.addData(i[s].pts,c[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:c}=this;Object.keys(c).forEach(d=>Ly(c[d],t,r))}if(this.config.renderTextTracksNatively&&t===0&&i!==void 0){const{textTracks:c}=this;Object.keys(c).forEach(d=>Ly(c[d],t,i))}}}extractCea608Data(e){const t=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],c=127&e[i++],d=127&e[i++];if(c===0&&d===0)continue;if((4&o)!==0){const h=3&o;(h===0||h===1)&&(t[h].push(c),t[h].push(d))}}return t}}function EI(n){return n.characteristics&&/transcribes-spoken-dialog/gi.test(n.characteristics)&&/describes-music-and-sound/gi.test(n.characteristics)?"captions":"subtitles"}function yC(n,e){return!!n&&n.kind===EI(e)&&Cy(e,n)}function aV(n,e,t,r){return Math.min(e,r)-Math.max(n,t)}function vC(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}const oV=/\s/,lV={newCue(n,e,t,r){const i=[];let s,o,c,d,u;const h=self.VTTCue||self.TextTrackCue;for(let g=0;g<r.rows.length;g++)if(s=r.rows[g],c=!0,d=0,u="",!s.isEmpty()){var p;for(let x=0;x<s.chars.length;x++)oV.test(s.chars[x].uchar)&&c?d++:(u+=s.chars[x].uchar,c=!1);s.cueStartTime=e,e===t&&(t+=1e-4),d>=16?d--:d++;const v=vI(u.trim()),y=tx(e,t,v);n!=null&&(p=n.cues)!=null&&p.getCueById(y)||(o=new h(e,t,v),o.id=y,o.line=g+1,o.align="left",o.position=10+Math.min(80,Math.floor(d*8/32)*10),i.push(o))}return n&&i.length&&(i.sort((g,v)=>g.line==="auto"||v.line==="auto"?0:g.line>8&&v.line>8?v.line-g.line:g.line-v.line),i.forEach(g=>fI(n,g))),i}};function cV(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const uV=/(\d+)-(\d+)\/(\d+)/;class xC{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||pV,this.controller=new self.AbortController,this.stats=new Mv}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=dV(e,this.controller.signal),o=e.responseType==="arraybuffer",c=o?"byteLength":"length",{maxTimeToFirstByteMs:d,maxLoadTimeMs:u}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),t.timeout=d&&_e(d)?d:u,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},t.timeout),(Tu(this.request)?this.request.then(self.fetch):self.fetch(this.request)).then(p=>{var g;this.response=this.loader=p;const v=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.callbacks&&(this.abortInternal(),this.callbacks.onTimeout(i,e,this.response))},u-(v-i.loading.start)),!p.ok){const{status:x,statusText:S}=p;throw new mV(S||"fetch, bad network response",x,p)}i.loading.first=v,i.total=hV(p.headers)||i.total;const y=(g=this.callbacks)==null?void 0:g.onProgress;return y&&_e(t.highWaterMark)?this.loadProgressively(p,i,e,t.highWaterMark,y):o?p.arrayBuffer():e.responseType==="json"?p.json():p.text()}).then(p=>{var g,v;const y=this.response;if(!y)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const x=p[c];x&&(i.loaded=i.total=x);const S={url:y.url,data:p,code:y.status},E=(g=this.callbacks)==null?void 0:g.onProgress;E&&!_e(t.highWaterMark)&&E(i,e,p,y),(v=this.callbacks)==null||v.onSuccess(S,i,e,y)}).catch(p=>{var g;if(self.clearTimeout(this.requestTimeout),i.aborted)return;const v=p&&p.code||0,y=p?p.message:null;(g=this.callbacks)==null||g.onError({code:v,text:y},e,p?p.details:null,i)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,r,i=0,s){const o=new BL,c=e.body.getReader(),d=()=>c.read().then(u=>{if(u.done)return o.dataLength&&s(t,r,o.flush().buffer,e),Promise.resolve(new ArrayBuffer(0));const h=u.value,p=h.length;return t.loaded+=p,p<i||o.dataLength?(o.push(h),o.dataLength>=i&&s(t,r,o.flush().buffer,e)):s(t,r,h.buffer,e),d()}).catch(()=>Promise.reject());return d()}}function dV(n,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Mt({},n.headers))};return n.rangeEnd&&t.headers.set("Range","bytes="+n.rangeStart+"-"+String(n.rangeEnd-1)),t}function fV(n){const e=uV.exec(n);if(e)return parseInt(e[2])-parseInt(e[1])+1}function hV(n){const e=n.get("Content-Range");if(e){const r=fV(e);if(_e(r))return r}const t=n.get("Content-Length");if(t)return parseInt(t)}function pV(n,e){return new self.Request(n.url,e)}class mV extends Error{constructor(e,t,r){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=r}}const gV=/^age:\s*[\d.]+\s*$/im;class TI{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Mv,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,t.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",t.url,!0),s(r,t.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,t,e)}).catch(o=>{var c;(c=this.callbacks)==null||c.onError({code:r.status,text:o.message},t,r,i)}):this.openAndSendXhr(r,t,e)}openAndSendXhr(e,t,r){e.readyState||e.open("GET",t.url,!0);const i=t.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const c in i)e.setRequestHeader(c,i[c]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&_e(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:r}=this;if(!e||!t)return;const i=t.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const u=t.status,h=t.responseType==="text"?t.responseText:null;if(u>=200&&u<300){const y=h??t.response;if(y!=null){var o,c;r.loading.end=Math.max(self.performance.now(),r.loading.first);const x=t.responseType==="arraybuffer"?y.byteLength:y.length;r.loaded=r.total=x,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first);const S=(o=this.callbacks)==null?void 0:o.onProgress;S&&S(r,e,y,t);const E={url:t.responseURL,data:y,code:u};(c=this.callbacks)==null||c.onSuccess(E,r,e,t);return}}const p=s.loadPolicy.errorRetry,g=r.retry,v={url:e.url,data:void 0,code:u};if(Sh(p,g,!1,v))this.retry(p);else{var d;wt.error(`${u} while loading ${e.url}`),(d=this.callbacks)==null||d.onError({code:u,text:t.statusText},e,t,r)}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Sh(e,t,!0))this.retry(e);else{var r;wt.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:r}=this;this.retryDelay=Fv(e,r.retry),r.retry++,wt.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t?.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&gV.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}const yV={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},vV=jt(jt({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,maxDevicePixelRatio:Number.POSITIVE_INFINITY,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,startOnSegmentBoundary:!1,maxBufferSize:60*1e3*1e3,maxFragLookUpTolerance:.25,maxBufferHole:.1,detectStallWithCurrentTimeMs:1250,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,nudgeOnVideoHole:!0,liveSyncMode:"edge",liveSyncDurationCount:3,liveSyncOnStallIncrease:1,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,ignorePlaylistParsingErrors:!1,loader:TI,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:Uz,bufferController:IH,capLevelController:Zv,errorController:Vz,fpsController:S9,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:wL,requireKeySystemAccessOnStart:!1,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableEmsgKLVMetadata:!1,enableID3MetadataCues:!0,enableInterstitialPlayback:!0,interstitialAppendInPlace:!0,interstitialLiveLookAhead:10,useMediaCapabilities:!0,preserveManualLevelOnError:!1,certLoadPolicy:{default:yV},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},interstitialAssetListLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:3e4,timeoutRetry:{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:0,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},xV()),{},{subtitleStreamController:O9,subtitleTrackController:A9,timelineController:sV,audioStreamController:CH,audioTrackController:RH,emeController:ll,cmcdController:v9,contentSteeringController:b9,interstitialsController:_9});function xV(){return{cueHandler:lV,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function bV(n,e,t){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=Dy(n),i=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(o=>{const c=`${o==="level"?"playlist":o}LoadPolicy`,d=e[c]===void 0,u=[];s.forEach(h=>{const p=`${o}Loading${h}`,g=e[p];if(g!==void 0&&d){u.push(p);const v=r[c].default;switch(e[c]={default:v},h){case"TimeOut":v.maxLoadTimeMs=g,v.maxTimeToFirstByteMs=g;break;case"MaxRetry":v.errorRetry.maxNumRetry=g,v.timeoutRetry.maxNumRetry=g;break;case"RetryDelay":v.errorRetry.retryDelayMs=g,v.timeoutRetry.retryDelayMs=g;break;case"MaxRetryTimeout":v.errorRetry.maxRetryDelayMs=g,v.timeoutRetry.maxRetryDelayMs=g;break}}}),u.length&&t.warn(`hls.js config: "${u.join('", "')}" setting(s) are deprecated, use "${c}": ${Yt(e[c])}`)}),jt(jt({},r),e)}function Dy(n){return n&&typeof n=="object"?Array.isArray(n)?n.map(Dy):Object.keys(n).reduce((e,t)=>(e[t]=Dy(n[t]),e),{}):n}function SV(n,e){const t=n.loader;t!==xC&&t!==TI?(e.log("[config]: Custom loader detected, cannot enable progressive streaming"),n.progressive=!1):cV()&&(n.loader=xC,n.progressive=!0,n.enableSoftwareAES=!0,e.log("[config]: Progressive streaming enabled, using FetchLoader"))}const qf=2,EV=.1,TV=.05,AV=100;class CV extends TL{constructor(e,t){super("gap-controller",e.logger),this.hls=null,this.fragmentTracker=null,this.media=null,this.mediaSource=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.buffered={},this.lastCurrentTime=0,this.ended=0,this.waiting=0,this.onMediaPlaying=()=>{this.ended=0,this.waiting=0},this.onMediaWaiting=()=>{var r;(r=this.media)!=null&&r.seeking||(this.waiting=self.performance.now(),this.tick())},this.onMediaEnded=()=>{if(this.hls){var r;this.ended=((r=this.media)==null?void 0:r.currentTime)||1,this.hls.trigger(O.MEDIA_ENDED,{stalled:!1})}},this.hls=e,this.fragmentTracker=t,this.registerListeners()}registerListeners(){const{hls:e}=this;e&&(e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.BUFFER_APPENDED,this.onBufferAppended,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.BUFFER_APPENDED,this.onBufferAppended,this))}destroy(){super.destroy(),this.unregisterListeners(),this.media=this.hls=this.fragmentTracker=null,this.mediaSource=void 0}onMediaAttached(e,t){this.setInterval(AV),this.mediaSource=t.mediaSource;const r=this.media=t.media;Gr(r,"playing",this.onMediaPlaying),Gr(r,"waiting",this.onMediaWaiting),Gr(r,"ended",this.onMediaEnded)}onMediaDetaching(e,t){this.clearInterval();const{media:r}=this;r&&(ai(r,"playing",this.onMediaPlaying),ai(r,"waiting",this.onMediaWaiting),ai(r,"ended",this.onMediaEnded),this.media=null),this.mediaSource=void 0}onBufferAppended(e,t){this.buffered=t.timeRanges}get hasBuffered(){return Object.keys(this.buffered).length>0}tick(){var e;if(!((e=this.media)!=null&&e.readyState)||!this.hasBuffered)return;const t=this.media.currentTime;this.poll(t,this.lastCurrentTime),this.lastCurrentTime=t}poll(e,t){var r,i;const s=(r=this.hls)==null?void 0:r.config;if(!s)return;const o=this.media;if(!o)return;const{seeking:c}=o,d=this.seeking&&!c,u=!this.seeking&&c,h=o.paused&&!c||o.ended||o.playbackRate===0;if(this.seeking=c,e!==t){t&&(this.ended=0),this.moved=!0,c||(this.nudgeRetry=0,s.nudgeOnVideoHole&&!h&&e>t&&this.nudgeOnVideoHole(e,t)),this.waiting===0&&this.stallResolved(e);return}if(u||d){d&&this.stallResolved(e);return}if(h){this.nudgeRetry=0,this.stallResolved(e),!this.ended&&o.ended&&this.hls&&(this.ended=e||1,this.hls.trigger(O.MEDIA_ENDED,{stalled:!1}));return}if(!lt.getBuffered(o).length){this.nudgeRetry=0;return}const p=lt.bufferInfo(o,e,0),g=p.nextStart||0,v=this.fragmentTracker;if(c&&v&&this.hls){const M=bC(this.hls.inFlightFragments,e),P=p.len>qf,k=!g||M||g-e>qf&&!v.getPartialFragment(e);if(P||k)return;this.moved=!1}const y=(i=this.hls)==null?void 0:i.latestLevelDetails;if(!this.moved&&this.stalled!==null&&v){if(!(p.len>0)&&!g)return;const P=Math.max(g,p.start||0)-e,_=!!(y!=null&&y.live)?y.targetduration*2:qf,w=v.getPartialFragment(e);if(P>0&&(P<=_||w)){o.paused||this._trySkipBufferHole(w);return}}const x=s.detectStallWithCurrentTimeMs,S=self.performance.now(),E=this.waiting;let R=this.stalled;if(R===null)if(E>0&&S-E<x)R=this.stalled=E;else{this.stalled=S;return}const A=S-R;if(!c&&(A>=x||E)&&this.hls){var L;if(((L=this.mediaSource)==null?void 0:L.readyState)==="ended"&&!(y!=null&&y.live)&&Math.abs(e-(y?.edge||0))<1){if(this.ended)return;this.ended=e||1,this.hls.trigger(O.MEDIA_ENDED,{stalled:!0});return}if(this._reportStall(p),!this.media||!this.hls)return}const I=lt.bufferInfo(o,e,s.maxBufferHole);this._tryFixBufferStall(I,A,e)}stallResolved(e){const t=this.stalled;if(t&&this.hls&&(this.stalled=null,this.stallReported)){const r=self.performance.now()-t;this.log(`playback not stuck anymore @${e}, after ${Math.round(r)}ms`),this.stallReported=!1,this.waiting=0,this.hls.trigger(O.STALL_RESOLVED,{})}}nudgeOnVideoHole(e,t){var r;const i=this.buffered.video;if(this.hls&&this.media&&this.fragmentTracker&&(r=this.buffered.audio)!=null&&r.length&&i&&i.length>1&&e>i.end(0)){const s=lt.bufferedInfo(lt.timeRangesToArray(this.buffered.audio),e,0);if(s.len>1&&t>=s.start){const o=lt.timeRangesToArray(i),c=lt.bufferedInfo(o,t,0).bufferedIndex;if(c>-1&&c<o.length-1){const d=lt.bufferedInfo(o,e,0).bufferedIndex,u=o[c].end,h=o[c+1].start;if((d===-1||d>c)&&h-u<1&&e-u<2){const p=new Error(`nudging playhead to flush pipeline after video hole. currentTime: ${e} hole: ${u} -> ${h} buffered index: ${d}`);this.warn(p.message),this.media.currentTime+=1e-6;const g=this.fragmentTracker.getPartialFragment(e)||void 0,v=lt.bufferInfo(this.media,e,0);this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:p,reason:p.message,frag:g,buffer:v.len,bufferInfo:v})}}}}}_tryFixBufferStall(e,t,r){var i,s;const{fragmentTracker:o,media:c}=this,d=(i=this.hls)==null?void 0:i.config;if(!c||!o||!d)return;const u=(s=this.hls)==null?void 0:s.latestLevelDetails,h=o.getPartialFragment(r);if((h||u!=null&&u.live&&r<u.fragmentStart)&&(this._trySkipBufferHole(h)||!this.media))return;const p=e.buffered,g=this.adjacentTraversal(e,r);(p&&p.length>1&&e.len>d.maxBufferHole||e.nextStart&&(e.nextStart-r<d.maxBufferHole||g))&&(t>d.highBufferWatchdogPeriod*1e3||this.waiting)&&(this.warn("Trying to nudge playhead over buffer-hole"),this._tryNudgeBuffer(e))}adjacentTraversal(e,t){const r=this.fragmentTracker,i=e.nextStart;if(r&&i){const s=r.getFragAtPos(t,Ne.MAIN),o=r.getFragAtPos(i,Ne.MAIN);if(s&&o)return o.sn-s.sn<2}return!1}_reportStall(e){const{hls:t,media:r,stallReported:i,stalled:s}=this;if(!i&&s!==null&&r&&t){this.stallReported=!0;const o=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${Yt(e)})`);this.warn(o.message),t.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_STALLED_ERROR,fatal:!1,error:o,buffer:e.len,bufferInfo:e,stalled:{start:s}})}}_trySkipBufferHole(e){var t;const{fragmentTracker:r,media:i}=this,s=(t=this.hls)==null?void 0:t.config;if(!i||!r||!s)return 0;const o=i.currentTime,c=lt.bufferInfo(i,o,0),d=o<c.start?c.start:c.nextStart;if(d&&this.hls){const h=c.len<=s.maxBufferHole,p=c.len>0&&c.len<1&&i.readyState<3,g=d-o;if(g>0&&(h||p)){if(g>s.maxBufferHole){let y=!1;if(o===0){const x=r.getAppendedFrag(0,Ne.MAIN);x&&d<x.end&&(y=!0)}if(!y){const x=e||r.getAppendedFrag(o,Ne.MAIN);if(x){var u;if(!((u=this.hls.loadLevelObj)!=null&&u.details)||bC(this.hls.inFlightFragments,d))return 0;let E=!1,R=x.end;for(;R<d;){const A=r.getAppendedFrag(R,Ne.MAIN)||r.getPartialFragment(R);if(A)R+=A.duration;else{E=!0;break}}if(E)return 0}}}const v=Math.max(d+TV,o+EV);if(this.warn(`skipping hole, adjusting currentTime from ${o} to ${v}`),this.moved=!0,i.currentTime=v,!(e!=null&&e.gap)){const y=new Error(`fragment loaded with buffer holes, seeking from ${o} to ${v}`);this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:y,reason:y.message,frag:e||void 0,buffer:c.len,bufferInfo:c})}return v}}return 0}_tryNudgeBuffer(e){const{hls:t,media:r,nudgeRetry:i}=this,s=t?.config;if(!r||!s)return 0;const o=r.currentTime;if(this.nudgeRetry++,i<s.nudgeMaxRetry){const c=o+(i+1)*s.nudgeOffset,d=new Error(`Nudging 'currentTime' from ${o} to ${c}`);this.warn(d.message),r.currentTime=c,t.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_NUDGE_ON_STALL,error:d,fatal:!1,buffer:e.len,bufferInfo:e})}else{const c=new Error(`Playhead still not moving while enough data buffered @${o} after ${s.nudgeMaxRetry} nudges`);this.error(c.message),t.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.BUFFER_STALLED_ERROR,error:c,fatal:!0,buffer:e.len,bufferInfo:e})}}}function bC(n,e){const t=SC(n.main);if(t&&t.start<=e)return t;const r=SC(n.audio);return r&&r.start<=e?r:null}function SC(n){if(!n)return null;switch(n.state){case ge.IDLE:case ge.STOPPED:case ge.ENDED:case ge.ERROR:return null}return n.frag}const RV=.25;function Py(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function EC(n,e,t,r,i){let s=new n(e,t,"");try{s.value=r,i&&(s.type=i)}catch{s=new n(e,t,Yt(i?jt({type:i},r):r))}return s}const wf=(()=>{const n=Py();try{n&&new n(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();class wV{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.removeCues=!0,this.onEventCueEnter=()=>{this.hls&&this.hls.trigger(O.EVENT_CUE_ENTER,{})},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=this.onEventCueEnter=null}_registerListeners(){const{hls:e}=this;e.on(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(O.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(O.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(O.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(O.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(O.LEVEL_PTS_UPDATED,this.onLevelPtsUpdated,this)}onMediaAttaching(e,t){var r;this.media=t.media,((r=t.overrides)==null?void 0:r.cueRemoval)===!1&&(this.removeCues=!1)}onMediaAttached(){const e=this.hls.latestLevelDetails;e&&this.updateDateRangeCues(e)}onMediaDetaching(e,t){this.media=null,!t.transferMedia&&(this.id3Track&&(this.removeCues&&nl(this.id3Track,this.onEventCueEnter),this.id3Track=null),this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const r=e[t];if(r.kind==="metadata"&&r.label==="id3")return dI(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=Py();if(o)for(let c=0;c<s.length;c++){const d=s[c].type;if(d===Tr.emsg&&!r||!i)continue;const u=HL(s[c].data);if(u){const h=s[c].pts;let p=h+s[c].duration;p>wf&&(p=wf),p-h<=0&&(p=h+RV);for(let v=0;v<u.length;v++){const y=u[v];if(!VL(y)){this.updateId3CueEnds(h,d);const x=EC(o,h,p,y,d);x&&this.id3Track.addCue(x)}}}}}updateId3CueEnds(e,t){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===t&&o.startTime<e&&o.endTime===wf&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:c,enableID3MetadataCues:d}}=o;if(s&&(c||d)){let u;i==="audio"?u=h=>h.type===Tr.audioId3&&d:i==="video"?u=h=>h.type===Tr.emsg&&c:u=h=>h.type===Tr.audioId3&&d||h.type===Tr.emsg&&c,Ly(s,t,r,u)}}onLevelUpdated(e,{details:t}){this.updateDateRangeCues(t,!0)}onLevelPtsUpdated(e,t){Math.abs(t.drift)>.01&&this.updateDateRangeCues(t.details)}updateDateRangeCues(e,t){if(!this.media||!e.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{id3Track:r}=this,{dateRanges:i}=e,s=Object.keys(i);let o=this.dateRangeCuesAppended;if(r&&t){var c;if((c=r.cues)!=null&&c.length){const h=Object.keys(o).filter(p=>!s.includes(p));for(let p=h.length;p--;){const g=h[p],v=o[g].cues;delete o[g],Object.keys(v).forEach(y=>{try{const x=v[y];x.removeEventListener("enter",this.onEventCueEnter),r.removeCue(x)}catch{}})}}else o=this.dateRangeCuesAppended={}}const d=e.fragments[e.fragments.length-1];if(s.length===0||!_e(d?.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const u=Py();for(let h=0;h<s.length;h++){const p=s[h],g=i[p],v=g.startTime,y=o[p],x=y?.cues||{};let S=y?.durationKnown||!1,E=wf;const{duration:R,endDate:A}=g;if(A&&R!==null)E=v+R,S=!0;else if(g.endOnNext&&!S){const I=s.reduce((M,P)=>{if(P!==g.id){const k=i[P];if(k.class===g.class&&k.startDate>g.startDate&&(!M||g.startDate<M.startDate))return k}return M},null);I&&(E=I.startTime,S=!0)}const L=Object.keys(g.attr);for(let I=0;I<L.length;I++){const M=L[I];if(!iG(M))continue;const P=x[M];if(P)S&&!y.durationKnown?P.endTime=E:Math.abs(P.startTime-v)>.01&&(P.startTime=v,P.endTime=E);else if(u){let k=g.attr[M];sG(M)&&(k=oL(k));const w=EC(u,v,E,{key:M,data:k},Tr.dateRange);w&&(w.id=p,this.id3Track.addCue(w),x[M]=w,this.hls.config.interstitialsController&&(M==="X-ASSET-LIST"||M==="X-ASSET-URL")&&w.addEventListener("enter",this.onEventCueEnter))}}o[p]={cues:x,dateRange:g,durationKnown:S}}}}class LV{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.currentTime=0,this.stallCount=0,this._latency=null,this._targetLatencyUpdated=!1,this.onTimeupdate=()=>{const{media:t}=this,r=this.levelDetails;if(!t||!r)return;this.currentTime=t.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:o}=this.config;if(!s||o===1||!r.live)return;const c=this.targetLatency;if(c===null)return;const d=i-c,u=Math.min(this.maxLatency,c+r.targetduration);if(d<u&&d>.05&&this.forwardBufferLength>1){const p=Math.min(2,Math.max(1,o)),g=Math.round(2/(1+Math.exp(-.75*d-this.edgeStalled))*20)/20,v=Math.min(p,Math.max(1,g));this.changeMediaPlaybackRate(t,v)}else t.playbackRate!==1&&t.playbackRate!==0&&this.changeMediaPlaybackRate(t,1)},this.hls=e,this.config=e.config,this.registerListeners()}get levelDetails(){var e;return((e=this.hls)==null?void 0:e.latestLevelDetails)||null}get latency(){return this._latency||0}get maxLatency(){const{config:e}=this;if(e.liveMaxLatencyDuration!==void 0)return e.liveMaxLatencyDuration;const t=this.levelDetails;return t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const e=this.levelDetails;if(e===null||this.hls===null)return null;const{holdBack:t,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:c}=this.config,d=this.hls.userConfig;let u=c&&r||t;(this._targetLatencyUpdated||d.liveSyncDuration||d.liveSyncDurationCount||u===0)&&(u=s!==void 0?s:o*i);const h=i;return u+Math.min(this.stallCount*this.config.liveSyncOnStallIncrease,h)}set targetLatency(e){this.stallCount=0,this.config.liveSyncDuration=e,this._targetLatencyUpdated=!0}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency;if(e===null||t===null)return null;const r=this.levelDetails;if(r===null)return null;const i=r.edge,s=e-t-this.edgeStalled,o=i-r.totalduration,c=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),c)}get drift(){const e=this.levelDetails;return e===null?1:e.drift}get edgeStalled(){const e=this.levelDetails;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e}=this,t=this.levelDetails;if(!e||!t)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.hls=null}registerListeners(){const{hls:e}=this;e&&(e.on(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(O.ERROR,this.onError,this))}unregisterListeners(){const{hls:e}=this;e&&(e.off(O.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(O.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(O.ERROR,this.onError,this))}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.onTimeupdate)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.onTimeupdate),this.media=null)}onManifestLoading(){this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){t.advanced&&this.onTimeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.onTimeupdate)}onError(e,t){var r;t.details===re.BUFFER_STALLED_ERROR&&(this.stallCount++,this.hls&&(r=this.levelDetails)!=null&&r.live&&this.hls.logger.warn("[latency-controller]: Stall detected, adjusting target latency"))}changeMediaPlaybackRate(e,t){var r,i;e.playbackRate!==t&&((r=this.hls)==null||r.logger.debug(`[latency-controller]: latency=${this.latency.toFixed(3)}, targetLatency=${(i=this.targetLatency)==null?void 0:i.toFixed(3)}, forwardBufferLength=${this.forwardBufferLength.toFixed(3)}: adjusting playback rate from ${e.playbackRate} to ${t}`),e.playbackRate=t)}estimateLiveEdge(){const e=this.levelDetails;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}class IV extends Qv{constructor(e,t){super(e,"level-controller"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(O.LEVEL_LOADED,this.onLevelLoaded,this),e.on(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(O.FRAG_BUFFERED,this.onFragBuffered,this),e.on(O.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(O.LEVEL_LOADED,this.onLevelLoaded,this),e.off(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(O.FRAG_BUFFERED,this.onFragBuffered,this),e.off(O.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const r=this.hls.config.preferManagedMediaSource,i=[],s={},o={};let c=!1,d=!1,u=!1;t.levels.forEach(h=>{const p=h.attrs;let{audioCodec:g,videoCodec:v}=h;g&&(h.audioCodec=g=yh(g,r)||void 0),v&&(v=h.videoCodec=Tz(v));const{width:y,height:x,unknownCodecs:S}=h;let E=S?S.length:0;if(S)for(let w=E;w--;){const B=S[w];this.isAudioSupported(B)?(h.audioCodec=g=g?`${g},${B}`:B,E--,xl.audio[g.substring(0,4)]=2):this.isVideoSupported(B)&&(h.videoCodec=v=v?`${v},${B}`:B,E--,xl.video[v.substring(0,4)]=2)}if(c||(c=!!(y&&x)),d||(d=!!v),u||(u=!!g),E||g&&!this.isAudioSupported(g)||v&&!this.isVideoSupported(v)){this.log(`Some or all CODECS not supported "${p.CODECS}"`);return}const{CODECS:R,"FRAME-RATE":A,"HDCP-LEVEL":L,"PATHWAY-ID":I,RESOLUTION:M,"VIDEO-RANGE":P}=p,_=`${`${I||"."}-`}${h.bitrate}-${M}-${A}-${R}-${P}-${L}`;if(s[_])if(s[_].uri!==h.url&&!h.attrs["PATHWAY-ID"]){const w=o[_]+=1;h.attrs["PATHWAY-ID"]=new Array(w+1).join(".");const B=this.createLevel(h);s[_]=B,i.push(B)}else s[_].addGroupId("audio",p.AUDIO),s[_].addGroupId("text",p.SUBTITLES);else{const w=this.createLevel(h);s[_]=w,o[_]=1,i.push(w)}}),this.filterAndSortMediaOptions(i,t,c,d,u)}createLevel(e){const t=new xu(e),r=e.supplemental;if(r!=null&&r.videoCodec&&!this.isVideoSupported(r.videoCodec)){const i=new Error(`SUPPLEMENTAL-CODECS not supported "${r.videoCodec}"`);this.log(i.message),t.supportedResult=yL(i,[])}return t}isAudioSupported(e){return my(e,"audio",this.hls.config.preferManagedMediaSource)}isVideoSupported(e){return my(e,"video",this.hls.config.preferManagedMediaSource)}filterAndSortMediaOptions(e,t,r,i,s){let o=[],c=[],d=e;if((r||i)&&s&&(d=d.filter(({videoCodec:S,videoRange:E,width:R,height:A})=>(!!S||!!(R&&A))&&Pz(E))),d.length===0){Promise.resolve().then(()=>{if(this.hls){let S="no level with compatible codecs found in manifest",E=S;t.levels.length&&(E=`one or more CODECS in variant not supported: ${Yt(t.levels.map(A=>A.attrs.CODECS).filter((A,L,I)=>I.indexOf(A)===L))}`,this.warn(E),S+=` (${E})`);const R=new Error(S);this.hls.trigger(O.ERROR,{type:Ge.MEDIA_ERROR,details:re.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:R,reason:E})}});return}t.audioTracks&&(o=t.audioTracks.filter(S=>!S.audioCodec||this.isAudioSupported(S.audioCodec)),TC(o)),t.subtitles&&(c=t.subtitles,TC(c));const u=d.slice(0);d.sort((S,E)=>{if(S.attrs["HDCP-LEVEL"]!==E.attrs["HDCP-LEVEL"])return(S.attrs["HDCP-LEVEL"]||"")>(E.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&S.height!==E.height)return S.height-E.height;if(S.frameRate!==E.frameRate)return S.frameRate-E.frameRate;if(S.videoRange!==E.videoRange)return vh.indexOf(S.videoRange)-vh.indexOf(E.videoRange);if(S.videoCodec!==E.videoCodec){const R=mA(S.videoCodec),A=mA(E.videoCodec);if(R!==A)return A-R}if(S.uri===E.uri&&S.codecSet!==E.codecSet){const R=gh(S.codecSet),A=gh(E.codecSet);if(R!==A)return A-R}return S.averageBitrate!==E.averageBitrate?S.averageBitrate-E.averageBitrate:0});let h=u[0];if(this.steering&&(d=this.steering.filterParsedLevels(d),d.length!==u.length)){for(let S=0;S<u.length;S++)if(u[S].pathwayId===d[0].pathwayId){h=u[S];break}}this._levels=d;for(let S=0;S<d.length;S++)if(d[S]===h){var p;this._firstLevel=S;const E=h.bitrate,R=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${d.length} level(s) found, first bitrate: ${E}`),((p=this.hls.userConfig)==null?void 0:p.abrEwmaDefaultEstimate)===void 0){const A=Math.min(E,this.hls.config.abrEwmaDefaultEstimateMax);A>R&&R===this.hls.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=A)}break}const g=s&&!i,v=this.hls.config,y=!!(v.audioStreamController&&v.audioTrackController),x={levels:d,audioTracks:o,subtitleTracks:c,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:i,altAudio:y&&!g&&o.some(S=>!!S.url)};this.hls.trigger(O.MANIFEST_PARSED,x)}get levels(){return this._levels.length===0?null:this._levels}get loadLevelObj(){return this.currentLevel}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const h=new Error("invalid level idx"),p=e<0;if(this.hls.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.LEVEL_SWITCH_ERROR,level:e,fatal:p,error:h,reason:h.message}),p)return;e=Math.min(e,t.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=t[e],c=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&i&&s===c)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${c?" with Pathway "+c:""} from level ${r}${s?" with Pathway "+s:""}`);const d={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(O.LEVEL_SWITCHING,d);const u=o.details;if(!u||u.live){const h=this.switchParams(o.uri,i?.details,u);this.loadPlaylist(h)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}get pathways(){return this.steering?this.steering.pathways():[]}get pathwayPriority(){return this.steering?this.steering.pathwayPriority:null}set pathwayPriority(e){if(this.steering){const t=this.steering.pathways(),r=e.filter(i=>t.indexOf(i)!==-1);if(e.length<1){this.warn(`pathwayPriority ${e} should contain at least one pathway from list: ${t}`);return}this.steering.pathwayPriority=r}}onError(e,t){t.fatal||!t.context||t.context.type===xt.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===Ne.MAIN){const r=t.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[t.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,t){var r;const{level:i,details:s}=t,o=t.levelInfo;if(!o){var c;this.warn(`Invalid level index ${i}`),(c=t.deliveryDirectives)!=null&&c.skip&&(s.deltaUpdateFailed=!0);return}if(o===this.currentLevel||t.withoutMultiVariant){o.fragmentError===0&&(o.loadError=0);let d=o.details;d===t.details&&d.advanced&&(d=void 0),this.playlistLoaded(i,t,d)}else(r=t.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist(),this.shouldLoadPlaylist(this.currentLevel)&&this.scheduleLoading(this.currentLevel,e)}loadingPlaylist(e,t){super.loadingPlaylist(e,t);const r=this.getUrlWithDirectives(e.uri,t),i=this.currentLevelIndex,s=e.attrs["PATHWAY-ID"],o=e.details,c=o?.age;this.log(`Loading level index ${i}${t?.msn!==void 0?" at sn "+t.msn+" part "+t.part:""}${s?" Pathway "+s:""}${c&&o.live?" age "+c.toFixed(1)+(o.type&&" "+o.type||""):""} ${r}`),this.hls.trigger(O.LEVEL_LOADING,{url:r,level:i,levelInfo:e,pathwayId:e.attrs["PATHWAY-ID"],id:0,deliveryDirectives:t||null})}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;if(this._levels.length===1)return;const r=this._levels.filter((s,o)=>o!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(c=>c.level=-1)),!1));kL(r),this._levels=r,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.manualLevelIndex>-1&&(this.manualLevelIndex=this.currentLevelIndex);const i=r.length-1;this._firstLevel=Math.min(this._firstLevel,i),this._startLevel&&(this._startLevel=Math.min(this._startLevel,i)),this.hls.trigger(O.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(O.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function TC(n){const e={};n.forEach(t=>{const r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++})}function AI(){return self.SourceBuffer||self.WebKitSourceBuffer}function CI(){if(!na())return!1;const e=AI();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function DV(){if(!CI())return!1;const n=na();return typeof n?.isTypeSupported=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>n.isTypeSupported(vu(e,"video")))||["mp4a.40.2","fLaC"].some(e=>n.isTypeSupported(vu(e,"audio"))))}function PV(){var n;const e=AI();return typeof(e==null||(n=e.prototype)==null?void 0:n.changeType)=="function"}const _V=100;class OV extends Gv{constructor(e,t,r){super(e,t,r,"stream-controller",Ne.MAIN),this.audioCodecSwap=!1,this.level=-1,this._forceStartLoad=!1,this._hasEnoughToStart=!1,this.altAudio=0,this.audioOnly=!1,this.fragPlaying=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this.onMediaPlaying=()=>{this.tick()},this.onMediaSeeked=()=>{const i=this.media,s=i?i.currentTime:null;if(s===null||!_e(s)||(this.log(`Media seeked to ${s.toFixed(3)}`),!this.getBufferedFrag(s)))return;const o=this.getFwdBufferInfoAtPos(i,s,Ne.MAIN,0);if(o===null||o.len===0){this.warn(`Main forward buffer length at ${s} on "seeked" event ${o?o.len:"empty"})`);return}this.tick()},this.registerListeners()}registerListeners(){super.registerListeners();const{hls:e}=this;e.on(O.MANIFEST_PARSED,this.onManifestParsed,this),e.on(O.LEVEL_LOADING,this.onLevelLoading,this),e.on(O.LEVEL_LOADED,this.onLevelLoaded,this),e.on(O.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(O.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(O.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(O.BUFFER_CREATED,this.onBufferCreated,this),e.on(O.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(O.FRAG_BUFFERED,this.onFragBuffered,this)}unregisterListeners(){super.unregisterListeners();const{hls:e}=this;e.off(O.MANIFEST_PARSED,this.onManifestParsed,this),e.off(O.LEVEL_LOADED,this.onLevelLoaded,this),e.off(O.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(O.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(O.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(O.BUFFER_CREATED,this.onBufferCreated,this),e.off(O.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(O.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(O.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this.onMediaPlaying=this.onMediaSeeked=null,this.unregisterListeners(),super.onHandlerDestroying()}startLoad(e,t){if(this.levels){const{lastCurrentTime:r,hls:i}=this;if(this.stopLoad(),this.setInterval(_V),this.level=-1,!this.startFragRequested){let s=i.startLevel;s===-1&&(i.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=i.firstAutoLevel),i.nextLoadLevel=s,this.level=i.loadLevel,this._hasEnoughToStart=!!t}r>0&&e===-1&&!t&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=ge.IDLE,this.nextLoadPosition=this.lastCurrentTime=e+this.timelineOffset,this.startPosition=t?-1:e,this.tick()}else this._forceStartLoad=!0,this.state=ge.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case ge.WAITING_LEVEL:{const{levels:t,level:r}=this,i=t?.[r],s=i?.details;if(s&&(!s.live||this.levelLastLoaded===i&&!this.waitForLive(i))){if(this.waitForCdnTuneIn(s))break;this.state=ge.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=ge.IDLE;break}break}case ge.FRAG_LOADING_WAITING_RETRY:{var e;const t=self.performance.now(),r=this.retryDate;if(!r||t>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,o=i?.[s];this.resetStartWhenNotLoaded(o||null),this.state=ge.IDLE}}break}this.state===ge.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){var e;super.onTickEnd(),(e=this.media)!=null&&e.readyState&&this.media.seeking===!1&&(this.lastCurrentTime=this.media.currentTime),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:r,media:i}=this;if(t===null||!i&&!this.primaryPrefetch&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(r!=null&&r[s]))return;const o=r[s],c=this.getMainFwdBufferInfo();if(c===null)return;const d=this.getLevelDetails();if(d&&this._streamEnded(c,d)){const x={};this.altAudio===2&&(x.type="video"),this.hls.trigger(O.BUFFER_EOS,x),this.state=ge.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const u=o.details;if(!u||this.state===ge.WAITING_LEVEL||this.waitForLive(o)){this.level=s,this.state=ge.WAITING_LEVEL,this.startFragRequested=!1;return}const h=c.len,p=this.getMaxBufferLength(o.maxBitrate);if(h>=p)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const g=this.backtrackFragment?this.backtrackFragment.start:c.end;let v=this.getNextFragment(g,u);if(this.couldBacktrack&&!this.fragPrevious&&v&&Cn(v)&&this.fragmentTracker.getState(v)!==Ln.OK){var y;const S=((y=this.backtrackFragment)!=null?y:v).sn-u.startSN,E=u.fragments[S-1];E&&v.cc===E.cc&&(v=E,this.fragmentTracker.removeFragment(E))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(v&&this.isLoopLoading(v,g)){if(!v.gap){const S=this.audioOnly&&!this.altAudio?Wt.AUDIO:Wt.VIDEO,E=(S===Wt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;E&&this.afterBufferFlushed(E,S,Ne.MAIN)}v=this.getNextFragmentLoopLoading(v,u,c,Ne.MAIN,p)}v&&(v.initSegment&&!v.initSegment.data&&!this.bitrateTest&&(v=v.initSegment),this.loadFragment(v,o,g))}loadFragment(e,t,r){const i=this.fragmentTracker.getState(e);i===Ln.NOT_LOADED||i===Ln.PARTIAL?Cn(e)?this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):super.loadFragment(e,t,r):this._loadInitSegment(e,t):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Ne.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let r;const i=this.getAppendedFrag(t.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const c=this.getMainFwdBufferInfo();if(!c||c.len<s.targetduration*2)return}if(!t.paused&&e){const c=this.hls.nextLoadLevel,d=e[c],u=this.fragLastKbps;u&&this.fragCurrent?r=this.fragCurrent.duration*d.maxBitrate/(1e3*u)+1:r=0}else r=0;const o=this.getBufferedFrag(t.currentTime+r);if(o){const c=this.followingBufferedFrag(o);if(c){this.abortCurrentFrag();const d=c.maxStartPTS?c.maxStartPTS:c.start,u=c.duration,h=Math.max(o.end,d+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*(this.couldBacktrack?.5:.125)),u*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(h,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case ge.KEY_LOADING:case ge.FRAG_LOADING:case ge.FRAG_LOADING_WAITING_RETRY:case ge.PARSING:case ge.PARSED:this.state=ge.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio===2?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const r=t.media;Gr(r,"playing",this.onMediaPlaying),Gr(r,"seeked",this.onMediaSeeked)}onMediaDetaching(e,t){const{media:r}=this;r&&(ai(r,"playing",this.onMediaPlaying),ai(r,"seeked",this.onMediaSeeked)),this.videoBuffer=null,this.fragPlaying=null,super.onMediaDetaching(e,t),!t.transferMedia&&(this._hasEnoughToStart=!1)}onManifestLoading(){super.onManifestLoading(),this.log("Trigger BUFFER_RESET"),this.hls.trigger(O.BUFFER_RESET,void 0),this.couldBacktrack=!1,this.fragLastKbps=0,this.fragPlaying=this.backtrackFragment=null,this.altAudio=0,this.audioOnly=!1}onManifestParsed(e,t){let r=!1,i=!1;t.levels.forEach(s=>{const o=s.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!PV(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:r}=this;if(!r||this.state!==ge.IDLE)return;const i=t.levelInfo;(!i.details||i.details.live&&(this.levelLastLoaded!==i||i.details.expired)||this.waitForCdnTuneIn(i.details))&&(this.state=ge.WAITING_LEVEL)}onLevelLoaded(e,t){var r;const{levels:i,startFragRequested:s}=this,o=t.level,c=t.details,d=c.totalduration;if(!i){this.warn(`Levels were reset while loading level ${o}`);return}this.log(`Level ${o} loaded [${c.startSN},${c.endSN}]${c.lastPartSn?`[part-${c.lastPartSn}-${c.lastPartIndex}]`:""}, cc [${c.startCC}, ${c.endCC}] duration:${d}`);const u=t.levelInfo,h=this.fragCurrent;h&&(this.state===ge.FRAG_LOADING||this.state===ge.FRAG_LOADING_WAITING_RETRY)&&h.level!==t.level&&h.loader&&this.abortCurrentFrag();let p=0;if(c.live||(r=u.details)!=null&&r.live){var g;if(this.checkLiveUpdate(c),c.deltaUpdateFailed)return;p=this.alignPlaylists(c,u.details,(g=this.levelLastLoaded)==null?void 0:g.details)}if(u.details=c,this.levelLastLoaded=u,s||this.setStartPosition(c,p),this.hls.trigger(O.LEVEL_UPDATED,{details:c,level:o}),this.state===ge.WAITING_LEVEL){if(this.waitForCdnTuneIn(c))return;this.state=ge.IDLE}s&&c.live&&this.synchronizeToLiveEdge(c),this.tick()}synchronizeToLiveEdge(e){const{config:t,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=this.getLoadPosition(),o=e.fragmentStart,c=e.edge,d=s>=o-t.maxFragLookUpTolerance&&s<=c;if(i!==null&&r.duration>i&&(s<i||!d)){const h=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;if((!d&&r.readyState<4||s<c-h)&&(this._hasEnoughToStart||(this.nextLoadPosition=i),r.readyState))if(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${c}, reset currentTime to : ${i.toFixed(3)}`),this.config.liveSyncMode==="buffered"){var u;const p=lt.bufferInfo(r,i,0);if(!(p!=null&&(u=p.buffered)!=null&&u.length)){r.currentTime=i;return}if(p.start<=s){r.currentTime=i;return}const{nextStart:v}=lt.bufferedInfo(p.buffered,s,0);v&&(r.currentTime=v)}else r.currentTime=i}}_handleFragmentLoadProgress(e){var t;const r=e.frag,{part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const c=o[r.level];if(!c){this.warn(`Level ${r.level} not found on progress`);return}const d=c.details;if(!d){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const u=c.videoCodec,h=d.PTSKnown||!d.live,p=(t=r.initSegment)==null?void 0:t.data,g=this._getAudioCodec(c),v=this.transmuxer=this.transmuxer||new nI(this.hls,Ne.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),y=i?i.index:-1,x=y!==-1,S=new jv(r.level,r.sn,r.stats.chunkCount,s.byteLength,y,x),E=this.initPTS[r.cc];v.push(s,p,g,u,r,i,d.totalduration,h,S,E)}onAudioTrackSwitching(e,t){const r=this.hls,i=this.altAudio===2;if(xh(t.url,r))this.altAudio=1;else{if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();if(i){this.fragmentTracker.removeAllFragments(),r.once(O.BUFFER_FLUSHED,()=>{var o;(o=this.hls)==null||o.trigger(O.AUDIO_TRACK_SWITCHED,t)}),r.trigger(O.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null});return}r.trigger(O.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const r=xh(t.url,this.hls);if(r){const i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r?2:0,this.tick()}onBufferCreated(e,t){const r=t.tracks;let i,s,o=!1;for(const c in r){const d=r[c];if(d.id==="main"){if(s=c,i=d,c==="video"){const u=r[c];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:r,part:i}=t,s=r.type===Ne.MAIN;if(s){if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===ge.PARSED&&(this.state=ge.IDLE);return}const c=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*c.total/(c.buffering.end-c.loading.first)),Cn(r)&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}const o=this.media;o&&(!this._hasEnoughToStart&&lt.getBuffered(o).length&&(this._hasEnoughToStart=!0,this.seekToStartPos()),s&&this.tick())}get hasEnoughToStart(){return this._hasEnoughToStart}onError(e,t){var r;if(t.fatal){this.state=ge.ERROR;return}switch(t.details){case re.FRAG_GAP:case re.FRAG_PARSING_ERROR:case re.FRAG_DECRYPT_ERROR:case re.FRAG_LOAD_ERROR:case re.FRAG_LOAD_TIMEOUT:case re.KEY_LOAD_ERROR:case re.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Ne.MAIN,t);break;case re.LEVEL_LOAD_ERROR:case re.LEVEL_LOAD_TIMEOUT:case re.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===ge.WAITING_LEVEL&&((r=t.context)==null?void 0:r.type)===xt.LEVEL&&(this.state=ge.IDLE);break;case re.BUFFER_ADD_CODEC_ERROR:case re.BUFFER_APPEND_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.resetLoadingState();break;case re.BUFFER_FULL_ERROR:if(t.parent!=="main")return;this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case re.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onFragLoadEmergencyAborted(){this.state=ge.IDLE,this._hasEnoughToStart||(this.startFragRequested=!1,this.nextLoadPosition=this.lastCurrentTime),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Wt.AUDIO||!this.altAudio){const r=(t===Wt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;r&&(this.afterBufferFlushed(r,t,Ne.MAIN),this.tick())}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level,this.level===-1&&this.resetWhenMissingContext(this.fragCurrent)),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let r=this.startPosition;if(r>=0&&t<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${t}`);return}const i=this.timelineOffset;i&&r&&(r+=i);const s=this.getLevelDetails(),o=lt.getBuffered(e),c=o.length?o.start(0):0,d=c-r,u=Math.max(this.config.maxBufferHole,this.config.maxFragLookUpTolerance);(this.config.startOnSegmentBoundary||d>0&&(d<u||this.loadingParts&&d<2*(s?.partTarget||0)))&&(this.log(`adjusting start position by ${d} to match buffer start`),r+=d,this.startPosition=r),t<r&&(this.log(`seek to target start position ${r} from current time ${t} buffer start ${c}`),e.currentTime=r)}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(r=>{const{hls:i}=this,s=r?.frag;if(!s||this.fragContextChanged(s))return;t.fragmentError=0,this.state=ge.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const o=s.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),i.trigger(O.FRAG_LOADED,r),s.bitrateTest=!1})}_handleTransmuxComplete(e){var t;const r=this.playlistType,{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,c=this.getCurrentContext(o);if(!c){this.resetWhenMissingContext(o);return}const{frag:d,part:u,level:h}=c,{video:p,text:g,id3:v,initSegment:y}=s,{details:x}=h,S=this.altAudio?void 0:s.audio;if(this.fragContextChanged(d)){this.fragmentTracker.removeFragment(d);return}if(this.state=ge.PARSING,y){if(y!=null&&y.tracks){const L=d.initSegment||d;this._bufferInitSegment(h,y.tracks,L,o),i.trigger(O.FRAG_PARSING_INIT_SEGMENT,{frag:L,id:r,tracks:y.tracks})}const E=y.initPTS,R=y.timescale,A=this.initPTS[d.cc];_e(E)&&(!A||A.baseTime!==E||A.timescale!==R)&&(this.initPTS[d.cc]={baseTime:E,timescale:R},i.trigger(O.INIT_PTS_FOUND,{frag:d,id:r,initPTS:E,timescale:R}))}if(p&&x){S&&p.type==="audiovideo"&&this.logMuxedErr(d);const E=x.fragments[d.sn-1-x.startSN],R=d.sn===x.startSN,A=!E||d.cc>E.cc;if(s.independent!==!1){const{startPTS:L,endPTS:I,startDTS:M,endDTS:P}=p;if(u)u.elementaryStreams[p.type]={startPTS:L,endPTS:I,startDTS:M,endDTS:P};else if(p.firstKeyFrame&&p.independent&&o.id===1&&!A&&(this.couldBacktrack=!0),p.dropped&&p.independent){const k=this.getMainFwdBufferInfo(),_=(k?k.end:this.getLoadPosition())+this.config.maxBufferHole,w=p.firstKeyFramePTS?p.firstKeyFramePTS:L;if(!R&&_<w-this.config.maxBufferHole&&!A){this.backtrack(d);return}else A&&(d.gap=!0);d.setElementaryStreamInfo(p.type,d.start,I,d.start,P,!0)}else R&&L-(x.appliedTimelineOffset||0)>qf&&(d.gap=!0);d.setElementaryStreamInfo(p.type,L,I,M,P),this.backtrackFragment&&(this.backtrackFragment=d),this.bufferFragmentData(p,d,u,o,R||A)}else if(R||A)d.gap=!0;else{this.backtrack(d);return}}if(S){const{startPTS:E,endPTS:R,startDTS:A,endDTS:L}=S;u&&(u.elementaryStreams[Wt.AUDIO]={startPTS:E,endPTS:R,startDTS:A,endDTS:L}),d.setElementaryStreamInfo(Wt.AUDIO,E,R,A,L),this.bufferFragmentData(S,d,u,o)}if(x&&v!=null&&(t=v.samples)!=null&&t.length){const E={id:r,frag:d,details:x,samples:v.samples};i.trigger(O.FRAG_PARSING_METADATA,E)}if(x&&g){const E={id:r,frag:d,details:x,samples:g.samples};i.trigger(O.FRAG_PARSING_USERDATA,E)}}logMuxedErr(e){this.warn(`${Cn(e)?"Media":"Init"} segment with muxed audiovideo where only video expected: ${e.url}`)}_bufferInitSegment(e,t,r,i){if(this.state!==ge.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&(delete t.audio,t.audiovideo&&this.logMuxedErr(r));const{audio:s,video:o,audiovideo:c}=t;if(s){const u=e.audioCodec;let h=jf(s.codec,u);h==="mp4a"&&(h="mp4a.40.5");const p=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){h&&(h.indexOf("mp4a.40.5")!==-1?h="mp4a.40.2":h="mp4a.40.5");const g=s.metadata;g&&"channelCount"in g&&(g.channelCount||1)!==1&&p.indexOf("firefox")===-1&&(h="mp4a.40.5")}h&&h.indexOf("mp4a.40.5")!==-1&&p.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(h="mp4a.40.2",this.log(`Android: force audio codec to ${h}`)),u&&u!==h&&this.log(`Swapping manifest audio codec "${u}" for "${h}"`),s.levelCodec=h,s.id=Ne.MAIN,this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${h||""}/${u||""}/${s.codec}]`),delete t.audiovideo}if(o){o.levelCodec=e.videoCodec,o.id=Ne.MAIN;const u=o.codec;if(u?.length===4)switch(u){case"hvc1":case"hev1":o.codec="hvc1.1.6.L120.90";break;case"av01":o.codec="av01.0.04M.08";break;case"avc1":o.codec="avc1.42e01e";break}this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${u}]${o.codec!==u?" parsed-corrected="+o.codec:""}${o.supplemental?" supplemental="+o.supplemental:""}`),delete t.audiovideo}c&&(this.log(`Init audiovideo buffer, container:${c.container}, codecs[level/parsed]=[${e.codecs}/${c.codec}]`),delete t.video,delete t.audio);const d=Object.keys(t);if(d.length){if(this.hls.trigger(O.BUFFER_CODECS,t),!this.hls)return;d.forEach(u=>{const p=t[u].initSegment;p!=null&&p.byteLength&&this.hls.trigger(O.BUFFER_APPENDING,{type:u,data:p,frag:r,part:null,chunkMeta:i,parent:r.type})})}this.tickImmediate()}getMainFwdBufferInfo(){const e=this.mediaBuffer&&this.altAudio===2?this.mediaBuffer:this.media;return this.getFwdBufferInfo(e,Ne.MAIN)}get maxBufferLength(){const{levels:e,level:t}=this,r=e?.[t];return r?this.getMaxBufferLength(r.maxBitrate):this.config.maxBufferLength}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=ge.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(lt.isBuffered(e,r)?t=this.getAppendedFrag(r):lt.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){this.backtrackFragment=null;const i=this.fragPlaying,s=t.level;(!i||t.sn!==i.sn||i.level!==s)&&(this.fragPlaying=t,this.hls.trigger(O.FRAG_CHANGED,{frag:t}),(!i||i.level!==s)&&this.hls.trigger(O.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){var e;if(this.fragPlaying)return this.fragPlaying;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;return _e(t)?this.getAppendedFrag(t):null}get currentProgramDateTime(){var e;const t=((e=this.media)==null?void 0:e.currentTime)||this.lastCurrentTime;if(_e(t)){const r=this.getLevelDetails(),i=this.currentFrag||(r?Qa(null,r.fragments,t):null);if(i){const s=i.programDateTime;if(s!==null){const o=s+(t-i.start)*1e3;return new Date(o)}}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class kV{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var t;if(e&&e!==((t=i.context)==null?void 0:t.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=re.KEY_LOAD_ERROR,r,i,s){return new ls({type:Ge.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,t,r){if(this.emeController&&this.config.emeEnabled&&!this.emeController.getSelectedKeySystemFormats().length){if(t.length)for(let i=0,s=t.length;i<s;i++){const o=t[i];if(e.cc<=o.cc&&(!Cn(e)||!Cn(o)||e.sn<o.sn)||!r&&i==s-1)return this.emeController.selectKeySystemFormat(o).then(c=>{if(!this.emeController)return;o.setKeyFormat(c);const d=by(c);if(d)return this.emeController.getKeySystemAccess([d])})}if(this.config.requireKeySystemAccessOnStart){const i=Gf(this.config);if(i.length)return this.emeController.getKeySystemAccess(i)}}return null}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var r,i;t&&e.setKeyFormat(t);const s=e.decryptdata;if(!s){const u=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,re.KEY_LOAD_ERROR,u))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,re.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let c=this.keyUriToKeyInfo[o];if((r=c)!=null&&r.decryptdata.key)return s.key=c.decryptdata.key,Promise.resolve({frag:e,keyInfo:c});if((i=c)!=null&&i.keyLoadPromise){var d;switch((d=c.mediaKeySessionContext)==null?void 0:d.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return c.keyLoadPromise.then(u=>(s.key=u.keyInfo.decryptdata.key,{frag:e,keyInfo:c}))}}switch(c=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(c,e):this.loadKeyEME(c,e);case"AES-128":case"AES-256":case"AES-256-CTR":return this.loadKeyHTTP(c,e);default:return Promise.reject(this.createKeyLoadError(e,re.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,t){const r={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,t){const r=this.config,i=r.loader,s=new i(r);return t.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,c)=>{const d={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},u=r.keyLoadPolicy.default,h={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},p={onSuccess:(g,v,y,x)=>{const{frag:S,keyInfo:E,url:R}=y;if(!S.decryptdata||E!==this.keyUriToKeyInfo[R])return c(this.createKeyLoadError(S,re.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),x));E.decryptdata.key=S.decryptdata.key=new Uint8Array(g.data),S.keyLoader=null,E.loader=null,o({frag:S,keyInfo:E})},onError:(g,v,y,x)=>{this.resetLoader(v),c(this.createKeyLoadError(t,re.KEY_LOAD_ERROR,new Error(`HTTP Error ${g.code} loading key ${g.text}`),y,jt({url:d.url,data:void 0},g)))},onTimeout:(g,v,y)=>{this.resetLoader(v),c(this.createKeyLoadError(t,re.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),y))},onAbort:(g,v,y)=>{this.resetLoader(v),c(this.createKeyLoadError(t,re.INTERNAL_ABORTED,new Error("key loading aborted"),y))}};s.load(d,h,p)})}resetLoader(e){const{frag:t,keyInfo:r,url:i}=e,s=r.loader;t.keyLoader===s&&(t.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function AC(n){const{type:e}=n;switch(e){case xt.AUDIO_TRACK:return Ne.AUDIO;case xt.SUBTITLE_TRACK:return Ne.SUBTITLE;default:return Ne.MAIN}}function A0(n,e){let t=n.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class MV{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.onManifestLoaded=this.checkAutostartLoad,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(O.MANIFEST_LOADING,this.onManifestLoading,this),e.on(O.LEVEL_LOADING,this.onLevelLoading,this),e.on(O.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(O.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.on(O.LEVELS_UPDATED,this.onLevelsUpdated,this)}unregisterListeners(){const{hls:e}=this;e.off(O.MANIFEST_LOADING,this.onManifestLoading,this),e.off(O.LEVEL_LOADING,this.onLevelLoading,this),e.off(O.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(O.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this),e.off(O.LEVELS_UPDATED,this.onLevelsUpdated,this)}createInternalLoader(e){const t=this.hls.config,r=t.pLoader,i=t.loader,s=r||i,o=new s(t);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:r}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:xt.MANIFEST,url:r,deliveryDirectives:null,levelOrTrack:null})}onLevelLoading(e,t){const{id:r,level:i,pathwayId:s,url:o,deliveryDirectives:c,levelInfo:d}=t;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:xt.LEVEL,url:o,deliveryDirectives:c,levelOrTrack:d})}onAudioTrackLoading(e,t){const{id:r,groupId:i,url:s,deliveryDirectives:o,track:c}=t;this.load({id:r,groupId:i,level:null,responseType:"text",type:xt.AUDIO_TRACK,url:s,deliveryDirectives:o,levelOrTrack:c})}onSubtitleTrackLoading(e,t){const{id:r,groupId:i,url:s,deliveryDirectives:o,track:c}=t;this.load({id:r,groupId:i,level:null,responseType:"text",type:xt.SUBTITLE_TRACK,url:s,deliveryDirectives:o,levelOrTrack:c})}onLevelsUpdated(e,t){const r=this.loaders[xt.LEVEL];if(r){const i=r.context;i&&!t.levels.some(s=>s===i.levelOrTrack)&&(r.abort(),delete this.loaders[xt.LEVEL])}}load(e){var t;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const u=this.hls.logger,h=i.context;if(h&&h.levelOrTrack===e.levelOrTrack&&(h.url===e.url||h.deliveryDirectives&&!e.deliveryDirectives)){h.url===e.url?u.log(`[playlist-loader]: ignore ${e.url} ongoing request`):u.log(`[playlist-loader]: ignore ${e.url} in favor of ${h.url}`);return}u.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===xt.MANIFEST?s=r.manifestLoadPolicy.default:s=Mt({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),_e((t=e.deliveryDirectives)==null?void 0:t.part)){let u;if(e.type===xt.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===xt.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===xt.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const h=u.partTarget,p=u.targetduration;if(h&&p){const g=Math.max(h*3,p*.8)*1e3;s=Mt({},s,{maxTimeToFirstByteMs:Math.min(g,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(g,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},c={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},d={onSuccess:(u,h,p,g)=>{const v=this.getInternalLoader(p);this.resetInternalLoader(p.type);const y=u.data;if(y.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,p,new Error("no EXTM3U delimiter"),g||null,h);return}h.parsing.start=performance.now(),Oi.isMediaPlaylist(y)||p.type!==xt.MANIFEST?this.handleTrackOrLevelPlaylist(u,h,p,g||null,v):this.handleMasterPlaylist(u,h,p,g)},onError:(u,h,p,g)=>{this.handleNetworkError(h,p,!1,u,g)},onTimeout:(u,h,p)=>{this.handleNetworkError(h,p,!0,void 0,u)}};i.load(e,c,d)}checkAutostartLoad(){if(!this.hls)return;const{config:{autoStartLoad:e,startPosition:t},forceStartLoad:r}=this.hls;(e||r)&&(this.hls.logger.log(`${e?"auto":"force"} startLoad with configured startPosition ${t}`),this.hls.startLoad(t))}handleMasterPlaylist(e,t,r,i){const s=this.hls,o=e.data,c=A0(e,r),d=Oi.parseMasterPlaylist(o,c);if(d.playlistParsingError){this.handleManifestParsingError(e,r,d.playlistParsingError,i,t);return}const{contentSteering:u,levels:h,sessionData:p,sessionKeys:g,startTimeOffset:v,variableList:y}=d;this.variableList=y;const{AUDIO:x=[],SUBTITLES:S,"CLOSED-CAPTIONS":E}=Oi.parseMasterPlaylistMedia(o,c,d);x.length&&!x.some(A=>!A.url)&&h[0].audioCodec&&!h[0].attrs.AUDIO&&(this.hls.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),x.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new sn({}),bitrate:0,url:""})),s.trigger(O.MANIFEST_LOADED,{levels:h,audioTracks:x,subtitles:S,captions:E,contentSteering:u,url:c,stats:t,networkDetails:i,sessionData:p,sessionKeys:g,startTimeOffset:v,variableList:y})}handleTrackOrLevelPlaylist(e,t,r,i,s){const o=this.hls,{id:c,level:d,type:u}=r,h=A0(e,r),p=_e(d)?d:_e(c)?c:0,g=AC(r),v=Oi.parseLevelPlaylist(e.data,h,p,g,0,this.variableList);if(u===xt.MANIFEST){const y={attrs:new sn({}),bitrate:0,details:v,name:"",url:h};v.requestScheduled=t.loading.start+PL(v,0),o.trigger(O.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:h,stats:t,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),r.levelDetails=v,this.handlePlaylistLoaded(v,e,t,r,i,s)}handleManifestParsingError(e,t,r,i,s){this.hls.trigger(O.ERROR,{type:Ge.NETWORK_ERROR,details:re.MANIFEST_PARSING_ERROR,fatal:t.type===xt.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:t,networkDetails:i,stats:s})}handleNetworkError(e,t,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===xt.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===xt.AUDIO_TRACK||e.type===xt.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const c=new Error(o);this.hls.logger.warn(`[playlist-loader]: ${o}`);let d=re.UNKNOWN,u=!1;const h=this.getInternalLoader(e);switch(e.type){case xt.MANIFEST:d=r?re.MANIFEST_LOAD_TIMEOUT:re.MANIFEST_LOAD_ERROR,u=!0;break;case xt.LEVEL:d=r?re.LEVEL_LOAD_TIMEOUT:re.LEVEL_LOAD_ERROR,u=!1;break;case xt.AUDIO_TRACK:d=r?re.AUDIO_TRACK_LOAD_TIMEOUT:re.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case xt.SUBTITLE_TRACK:d=r?re.SUBTITLE_TRACK_LOAD_TIMEOUT:re.SUBTITLE_LOAD_ERROR,u=!1;break}h&&this.resetInternalLoader(e.type);const p={type:Ge.NETWORK_ERROR,details:d,fatal:u,url:e.url,loader:h,context:e,error:c,networkDetails:t,stats:s};if(i){const g=t?.url||e.url;p.response=jt({url:g,data:void 0},i)}this.hls.trigger(O.ERROR,p)}handlePlaylistLoaded(e,t,r,i,s,o){const c=this.hls,{type:d,level:u,id:h,groupId:p,deliveryDirectives:g}=i,v=A0(t,i),y=AC(i),x=typeof i.level=="number"&&y===Ne.MAIN?u:void 0;if(!e.fragments.length){const E=e.playlistParsingError=new Error("No Segments found in Playlist");c.trigger(O.ERROR,{type:Ge.NETWORK_ERROR,details:re.LEVEL_EMPTY_ERROR,fatal:!1,url:v,error:E,reason:E.message,response:t,context:i,level:x,parent:y,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const S=e.playlistParsingError;if(S){if(this.hls.logger.warn(S),!c.config.ignorePlaylistParsingErrors){c.trigger(O.ERROR,{type:Ge.NETWORK_ERROR,details:re.LEVEL_PARSING_ERROR,fatal:!1,url:v,error:S,reason:S.message,response:t,context:i,level:x,parent:y,networkDetails:s,stats:r});return}e.playlistParsingError=null}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),d){case xt.MANIFEST:case xt.LEVEL:c.trigger(O.LEVEL_LOADED,{details:e,levelInfo:i.levelOrTrack||c.levels[0],level:x||0,id:h||0,stats:r,networkDetails:s,deliveryDirectives:g,withoutMultiVariant:d===xt.MANIFEST});break;case xt.AUDIO_TRACK:c.trigger(O.AUDIO_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:h||0,groupId:p||"",stats:r,networkDetails:s,deliveryDirectives:g});break;case xt.SUBTITLE_TRACK:c.trigger(O.SUBTITLE_TRACK_LOADED,{details:e,track:i.levelOrTrack,id:h||0,groupId:p||"",stats:r,networkDetails:s,deliveryDirectives:g});break}}}class si{static get version(){return Su}static isMSESupported(){return CI()}static isSupported(){return DV()}static getMediaSource(){return na()}static get Events(){return O}static get MetadataSchema(){return Tr}static get ErrorTypes(){return Ge}static get ErrorDetails(){return re}static get DefaultConfig(){return si.defaultConfig?si.defaultConfig:vV}static set DefaultConfig(e){si.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.logger=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new Hv,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioStreamController=void 0,this.subtititleStreamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.interstitialsController=void 0,this.gapController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this._url=null,this._sessionId=void 0,this.triggeringException=void 0,this.started=!1;const t=this.logger=tz(e.debug||!1,"Hls instance",e.assetPlayerId),r=this.config=bV(si.DefaultConfig,e,t);this.userConfig=e,r.progressive&&SV(r,t);const{abrController:i,bufferController:s,capLevelController:o,errorController:c,fpsController:d}=r,u=new c(this),h=this.abrController=new i(this),p=new Kz(this),g=r.interstitialsController,v=g?this.interstitialsController=new g(this,si):null,y=this.bufferController=new s(this,p),x=this.capLevelController=new o(this),S=new d(this),E=new MV(this),R=r.contentSteeringController,A=R?new R(this):null,L=this.levelController=new IV(this,A),I=new wV(this),M=new kV(this.config),P=this.streamController=new OV(this,p,M),k=this.gapController=new CV(this,p);x.setStreamController(P),S.setStreamController(P);const _=[E,L,P];v&&_.splice(1,0,v),A&&_.splice(1,0,A),this.networkControllers=_;const w=[h,y,k,x,S,I,p];this.audioTrackController=this.createController(r.audioTrackController,_);const B=r.audioStreamController;B&&_.push(this.audioStreamController=new B(this,p,M)),this.subtitleTrackController=this.createController(r.subtitleTrackController,_);const j=r.subtitleStreamController;j&&_.push(this.subtititleStreamController=new j(this,p,M)),this.createController(r.timelineController,w),M.emeController=this.emeController=this.createController(r.emeController,w),this.cmcdController=this.createController(r.cmcdController,w),this.latencyController=this.createController(LV,w),this.coreComponents=w,_.push(u);const z=u.onErrorOut;typeof z=="function"&&this.on(O.ERROR,z,u),this.on(O.MANIFEST_LOADED,E.onManifestLoaded,E)}createController(e,t){if(e){const r=new e(this);return t&&t.push(r),r}return null}on(e,t,r=this){this._emitter.on(e,t,r)}once(e,t,r=this){this._emitter.once(e,t,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,r=this,i){this._emitter.off(e,t,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,t,r){return this._emitter.emit(e,t,r)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(r){if(this.logger.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===O.ERROR;this.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){this.logger.log("destroy"),this.trigger(O.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this._url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){if(!e||"media"in e&&!e.media){const s=new Error(`attachMedia failed: invalid argument (${e})`);this.trigger(O.ERROR,{type:Ge.OTHER_ERROR,details:re.ATTACH_MEDIA_ERROR,fatal:!0,error:s});return}this.logger.log("attachMedia"),this._media&&(this.logger.warn("media must be detached before attaching"),this.detachMedia());const t="media"in e,r=t?e.media:e,i=t?e:{media:r};this._media=r,this.trigger(O.MEDIA_ATTACHING,i)}detachMedia(){this.logger.log("detachMedia"),this.trigger(O.MEDIA_DETACHING,{}),this._media=null}transferMedia(){this._media=null;const e=this.bufferController.transferMedia();return this.trigger(O.MEDIA_DETACHING,{transferMedia:e}),e}loadSource(e){this.stopLoad();const t=this.media,r=this._url,i=this._url=kv.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.logger.log(`loadSource:${i}`),t&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(O.MANIFEST_LOADING,{url:e})}get url(){return this._url}get hasEnoughToStart(){return this.streamController.hasEnoughToStart}get startPosition(){return this.streamController.startPositionValue}startLoad(e=-1,t){this.logger.log(`startLoad(${e+(t?", <skip seek to start>":"")})`),this.started=!0,this.resumeBuffering();for(let r=0;r<this.networkControllers.length&&(this.networkControllers[r].startLoad(e,t),!(!this.started||!this.networkControllers));r++);}stopLoad(){this.logger.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}get loadingEnabled(){return this.started}get bufferingEnabled(){return this.streamController.bufferingEnabled}resumeBuffering(){this.bufferingEnabled||(this.logger.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()}))}pauseBuffering(){this.bufferingEnabled&&(this.logger.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()}))}get inFlightFragments(){const e={[Ne.MAIN]:this.streamController.inFlightFrag};return this.audioStreamController&&(e[Ne.AUDIO]=this.audioStreamController.inFlightFrag),this.subtititleStreamController&&(e[Ne.SUBTITLE]=this.subtititleStreamController.inFlightFrag),e}swapAudioCodec(){this.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){this.logger.log("recoverMediaError");const e=this._media,t=e?.currentTime;this.detachMedia(),e&&(this.attachMedia(e),t&&this.startLoad(t))}removeLevel(e){this.levelController.removeLevel(e)}get sessionId(){let e=this._sessionId;return e||(e=this._sessionId=C9()),e}get levels(){const e=this.levelController.levels;return e||[]}get latestLevelDetails(){return this.streamController.getLevelDetails()||null}get loadLevelObj(){return this.levelController.loadLevelObj}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){this.logger.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){this.logger.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){this.logger.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){this.logger.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){this.logger.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get abrEwmaDefaultEstimate(){const{bwEstimator:e}=this.abrController;return e?e.defaultEstimate:NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(this.logger.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){Dz(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=t)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:r}=this;let i;if(t===-1&&e!=null&&e.length?i=e.length-1:i=t,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get maxBufferLength(){return this.streamController.maxBufferLength}setAudioOption(e){var t;return((t=this.audioTrackController)==null?void 0:t.setAudioOption(e))||null}setSubtitleOption(e){var t;return((t=this.subtitleTrackController)==null?void 0:t.setSubtitleOption(e))||null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}set targetLatency(e){this.latencyController.targetLatency=e}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}get pathways(){return this.levelController.pathways}get pathwayPriority(){return this.levelController.pathwayPriority}set pathwayPriority(e){this.levelController.pathwayPriority=e}get bufferedToEnd(){var e;return!!((e=this.bufferController)!=null&&e.bufferedToEnd)}get interstitialsManager(){var e;return((e=this.interstitialsController)==null?void 0:e.interstitialsManager)||null}getMediaDecodingInfo(e,t=this.allAudioTracks){const r=bL(t);return vL(e,r,navigator.mediaCapabilities)}}si.defaultConfig=void 0;const RI=({streamUrl:n,title:e,onProgress:t,onEnded:r,autoPlay:i=!1,showControls:s=!0})=>{const[o,c]=D.useState(i),[d,u]=D.useState(.8),[h,p]=D.useState(!1),[g,v]=D.useState(0),[y,x]=D.useState(0),[S,E]=D.useState(!0),[R,A]=D.useState(null),[L,I]=D.useState(null),[M,P]=D.useState("auto"),[k,_]=D.useState(["auto","720p","480p","360p"]),[w,B]=D.useState(!1),j=D.useRef(null),z=D.useRef(null),q=D.useRef(null);D.useEffect(()=>{if(n&&(E(!0),A(null),n.includes(".m3u8")&&si.isSupported())){const se=new si({enableWorker:!0,lowLatencyMode:!0,backBufferLength:90});return z.current=se,se.loadSource(n),q.current&&se.attachMedia(q.current),se.on(si.Events.MANIFEST_PARSED,()=>{E(!1);const V=se.levels.map(oe=>`${oe.height}p`);_(["auto",...V])}),se.on(si.Events.ERROR,(V,oe)=>{console.error("HLS Error:",oe),A("Erro ao carregar o stream"),E(!1)}),()=>{se.destroy()}}},[n]);const K=()=>{c(!o)},$=(se,V)=>{u(V/100)},W=()=>{p(!h)},G=(se,V)=>{const oe=V/100;v(oe),j.current&&j.current.seekTo(oe)},Y=se=>{v(se.played),t&&t(se)},F=se=>{x(se)},H=()=>{c(!1),r&&r()},Q=se=>{if(P(se),I(null),z.current)if(se==="auto")z.current.currentLevel=-1;else{const V=z.current.levels.findIndex(oe=>`${oe.height}p`===se);V!==-1&&(z.current.currentLevel=V)}},ee=()=>{if(j.current){const se=j.current.wrapper;se.requestFullscreen?se.requestFullscreen():se.webkitRequestFullscreen?se.webkitRequestFullscreen():se.mozRequestFullScreen&&se.mozRequestFullScreen()}},ce=se=>{const V=new Date(se*1e3),oe=V.getUTCHours(),me=V.getUTCMinutes(),we=V.getUTCSeconds().toString().padStart(2,"0");return oe?`${oe}:${me.toString().padStart(2,"0")}:${we}`:`${me}:${we}`};return R?T.jsx(Jn,{children:T.jsx(Cr,{children:T.jsx(sa,{severity:"error",children:R})})}):T.jsxs(Jn,{sx:{position:"relative",backgroundColor:"#000"},children:[T.jsxs(Ce,{sx:{position:"relative",paddingTop:"56.25%"},children:[S&&T.jsx(Ce,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:2},children:T.jsx(Kr,{})}),T.jsx(K8,{ref:j,url:n,playing:o,volume:d,muted:h,width:"100%",height:"100%",style:{position:"absolute",top:0,left:0},onProgress:Y,onDuration:F,onEnded:H,onReady:()=>E(!1),onError:se=>{console.error("Player Error:",se),A("Erro ao reproduzir o vdeo"),E(!1)},config:{file:{attributes:{crossOrigin:"anonymous"}}}}),s&&T.jsxs(Ce,{sx:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.8))",padding:2,zIndex:1},children:[T.jsx(N1,{value:g*100,onChange:G,sx:{color:"#ff6b35",height:4,marginBottom:1,"& .MuiSlider-thumb":{width:12,height:12}}}),T.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[T.jsx(an,{onClick:K,sx:{color:"white"},children:o?T.jsx(c8,{}):T.jsx(Ov,{})}),T.jsx(an,{onClick:W,sx:{color:"white"},children:h?T.jsx(p8,{}):T.jsx(m8,{})}),T.jsx(N1,{value:d*100,onChange:$,sx:{width:100,color:"white","& .MuiSlider-thumb":{width:12,height:12}}}),T.jsxs(ve,{variant:"body2",sx:{color:"white",minWidth:80},children:[ce(g*y)," / ",ce(y)]}),T.jsx(Ce,{sx:{flexGrow:1}}),T.jsx(Jt,{label:M,size:"small",onClick:se=>I(se.currentTarget),sx:{color:"white",borderColor:"white","&:hover":{backgroundColor:"rgba(255,255,255,0.1)"}},variant:"outlined"}),T.jsx(an,{onClick:()=>B(!w),sx:{color:w?"#ff6b35":"white"},children:T.jsx(J6,{})}),T.jsx(an,{onClick:ee,sx:{color:"white"},children:T.jsx(n8,{})})]})]})]}),e&&T.jsx(Cr,{children:T.jsx(ve,{variant:"h6",component:"h2",children:e})}),T.jsx(gu,{anchorEl:L,open:!!L,onClose:()=>I(null),children:k.map(se=>T.jsx(en,{selected:se===M,onClick:()=>Q(se),children:se},se))})]})},NV=()=>{const{channelId:n}=FC(),e=fi(),[t,r]=D.useState(null),[i,s]=D.useState(null),[o,c]=D.useState([]),[d,u]=D.useState(!0),[h,p]=D.useState(null),[g,v]=D.useState(!1),[y,x]=D.useState(0);D.useEffect(()=>{S(),E(),R()},[n]);const S=async()=>{try{const w=await it.get(`/channels/${n}`);w.data.success&&r(w.data.data)}catch(w){console.error("Erro ao carregar canal:",w),p("Erro ao carregar informaes do canal")}},E=async()=>{try{const w=await it.get(`/channels/${n}/stream`);w.success?s(w.data):p("Stream no encontrado")}catch(w){console.error("Erro ao carregar stream:",w),p("Erro ao carregar stream do canal")}finally{u(!1)}},R=async()=>{try{const w=await it.get(`/streaming/epg/${n}`);w.data.success&&c(w.data.data.programs||[])}catch(w){console.error("Erro ao carregar EPG:",w)}},A=w=>{x(B=>B+1),y%30===0&&it.post("/streaming/analytics/view",{user_id:1,content_id:n,content_type:"channel",watch_time:y,device:"web"}).catch(console.error)},L=async()=>{try{g?await it.delete(`/channels/${n}/favorite`):await it.post(`/channels/${n}/favorite`),v(!g)}catch(w){console.error("Erro ao alterar favorito:",w)}},I=()=>{navigator.share?navigator.share({title:t?.nome,text:t?.descricao,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},M=()=>{const w=new Date;return o.find(B=>{const j=new Date(B.start_time),z=new Date(B.end_time);return w>=j&&w<=z})},P=()=>{const w=new Date;return o.filter(B=>new Date(B.start_time)>w).slice(0,5)};if(d)return T.jsx(on,{maxWidth:"lg",sx:{py:4},children:T.jsx(Ce,{display:"flex",justifyContent:"center",children:T.jsx(Kr,{})})});if(h)return T.jsx(on,{maxWidth:"lg",sx:{py:4},children:T.jsx(sa,{severity:"error",children:h})});const k=M(),_=P();return T.jsxs(on,{maxWidth:"lg",sx:{py:4},children:[T.jsxs(Ce,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[T.jsx(an,{onClick:()=>e(-1),children:T.jsx(nL,{})}),T.jsx(ve,{variant:"h4",component:"h1",sx:{flexGrow:1},children:t?.nome}),T.jsx(dh,{title:g?"Remover dos favoritos":"Adicionar aos favoritos",children:T.jsx(an,{onClick:L,children:g?T.jsx(Pv,{color:"error"}):T.jsx(_v,{})})}),T.jsx(dh,{title:"Compartilhar",children:T.jsx(an,{onClick:I,children:T.jsx(rL,{})})})]}),T.jsxs(Kt,{container:!0,spacing:3,children:[T.jsxs(Kt,{item:!0,xs:12,md:8,children:[T.jsx(RI,{streamUrl:i?.stream_url,title:k?.title||t?.nome,onProgress:A,autoPlay:!0}),i?.server_info&&T.jsx(Jn,{sx:{mt:2},children:T.jsxs(Cr,{children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Informaes do Servidor"}),T.jsxs(Ce,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[T.jsx(Jt,{label:`Servidor: ${i.server_info.name}`,variant:"outlined"}),T.jsx(Jt,{label:`Localizao: ${i.server_info.location}`,variant:"outlined"}),T.jsx(Jt,{label:`Carga: ${i.server_info.load}%`,variant:"outlined",color:i.server_info.load>70?"error":"success"}),T.jsx(Jt,{label:`Formato: ${i.format}`,variant:"outlined"})]})]})})]}),T.jsxs(Kt,{item:!0,xs:12,md:4,children:[k&&T.jsx(Jn,{sx:{mb:2},children:T.jsxs(Cr,{children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Agora no Ar"}),T.jsx(ve,{variant:"subtitle1",fontWeight:"bold",children:k.title}),T.jsx(ve,{variant:"body2",color:"text.secondary",paragraph:!0,children:k.description}),T.jsxs(Ce,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[T.jsx(Jt,{size:"small",label:k.category}),T.jsx(Jt,{size:"small",label:k.rating})]})]})}),T.jsx(Jn,{sx:{mb:2},children:T.jsxs(Cr,{children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Sobre o Canal"}),T.jsx(ve,{variant:"body2",paragraph:!0,children:t?.descricao}),T.jsxs(Ce,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[T.jsx(Jt,{size:"small",label:t?.categoria_nome}),T.jsx(Jt,{size:"small",label:t?.qualidade})]})]})}),_.length>0&&T.jsx(Jn,{children:T.jsxs(Cr,{children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Prximos Programas"}),T.jsx(Ev,{dense:!0,children:_.map(w=>T.jsx(hw,{divider:!0,children:T.jsx(pw,{primary:w.title,secondary:`${new Date(w.start_time).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})} - ${w.category}`})},w.id))})]})})]})]})]})},BV=()=>{const{contentId:n}=FC(),e=fi(),[t,r]=D.useState(null),[i,s]=D.useState(null),[o,c]=D.useState(!0),[d,u]=D.useState(null),[h,p]=D.useState(!1),[g,v]=D.useState(0),[y,x]=D.useState(!1);D.useEffect(()=>{S(),E()},[n]);const S=async()=>{try{const P=await it.get(`/vod/movies/${n}`);console.log("Resposta loadContentData:",P),P.success?r(P.data):u("Contedo no encontrado")}catch(P){console.error("Erro ao carregar contedo:",P),u("Erro ao carregar informaes do contedo")}},E=async()=>{try{const P=await it.get(`/vod/movies/${n}/stream`);console.log("Resposta loadStreamData:",P),P.success?s(P.data):u("Stream no encontrado")}catch(P){console.error("Erro ao carregar stream:",P),u("Erro ao carregar stream do contedo")}finally{c(!1)}},R=P=>{v(k=>k+1),g%30===0&&it.post("/streaming/analytics/view",{user_id:1,content_id:n,content_type:"vod",watch_time:g,device:"web"}).catch(console.error)},A=async()=>{try{p(!h)}catch(P){console.error("Erro ao alterar favorito:",P)}},L=()=>{navigator.share?navigator.share({title:t?.titulo,text:t?.descricao,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},I=()=>{x(!0)},M=P=>{const k=Math.floor(P/60),_=P%60;return k>0?`${k}h ${_}min`:`${_}min`};return o?T.jsx(on,{maxWidth:"lg",sx:{py:4},children:T.jsx(Ce,{display:"flex",justifyContent:"center",children:T.jsx(Kr,{})})}):d?T.jsx(on,{maxWidth:"lg",sx:{py:4},children:T.jsx(sa,{severity:"error",children:d})}):T.jsxs(on,{maxWidth:"lg",sx:{py:4},children:[T.jsxs(Ce,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[T.jsx(an,{onClick:()=>e(-1),children:T.jsx(nL,{})}),T.jsx(ve,{variant:"h4",component:"h1",sx:{flexGrow:1},children:t?.titulo}),T.jsx(dh,{title:h?"Remover dos favoritos":"Adicionar aos favoritos",children:T.jsx(an,{onClick:A,children:h?T.jsx(Pv,{color:"error"}):T.jsx(_v,{})})}),T.jsx(dh,{title:"Compartilhar",children:T.jsx(an,{onClick:L,children:T.jsx(rL,{})})})]}),T.jsxs(Kt,{container:!0,spacing:3,children:[T.jsxs(Kt,{item:!0,xs:12,md:8,children:[y?T.jsx(RI,{streamUrl:i?.stream_url,title:t?.titulo,onProgress:R,autoPlay:!0}):T.jsx(Jn,{sx:{position:"relative",backgroundColor:"#000"},children:T.jsx(Ce,{sx:{position:"relative",paddingTop:"56.25%"},children:T.jsxs(Ce,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`url(${t?.capa_url})`,backgroundSize:"cover",backgroundPosition:"center",display:"flex",alignItems:"center",justifyContent:"center"},children:[T.jsx(Ce,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)"}}),T.jsx(an,{onClick:I,sx:{backgroundColor:"rgba(255,107,53,0.9)",color:"white",width:80,height:80,zIndex:1,"&:hover":{backgroundColor:"rgba(255,107,53,1)"}},children:T.jsx(Ov,{sx:{fontSize:40}})})]})})}),i?.server_info&&T.jsx(Jn,{sx:{mt:2},children:T.jsxs(Cr,{children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Informaes do Stream"}),T.jsxs(Ce,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[T.jsx(Jt,{label:`Servidor: ${i.server_info.name}`,variant:"outlined"}),T.jsx(Jt,{label:`Localizao: ${i.server_info.location}`,variant:"outlined"}),T.jsx(Jt,{label:`Carga: ${i.server_info.load}%`,variant:"outlined",color:i.server_info.load>70?"error":"success"}),T.jsx(Jt,{label:`Formato: ${i.format}`,variant:"outlined"}),i.quality_levels&&T.jsx(Jt,{label:`Qualidades: ${i.quality_levels.join(", ")}`,variant:"outlined"})]}),i.subtitles&&i.subtitles.length>0&&T.jsxs(Ce,{sx:{mt:2},children:[T.jsx(ve,{variant:"subtitle2",gutterBottom:!0,children:"Legendas Disponveis:"}),T.jsx(Ce,{sx:{display:"flex",gap:1},children:i.subtitles.map((P,k)=>T.jsx(Jt,{size:"small",label:P.language==="pt-BR"?"Portugus":"Ingls",variant:"outlined"},k))})]})]})})]}),T.jsx(Kt,{item:!0,xs:12,md:4,children:T.jsx(Jn,{children:T.jsxs(Cr,{children:[T.jsx(ve,{variant:"h6",gutterBottom:!0,children:"Informaes"}),T.jsxs(Ce,{sx:{mb:2},children:[T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Ano"}),T.jsx(ve,{variant:"body1",children:t?.ano})]}),T.jsxs(Ce,{sx:{mb:2},children:[T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Durao"}),T.jsx(ve,{variant:"body1",children:M(t?.duracao)})]}),T.jsxs(Ce,{sx:{mb:2},children:[T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Gnero"}),T.jsx(Jt,{size:"small",label:t?.genero})]}),T.jsxs(Ce,{sx:{mb:2},children:[T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Avaliao"}),T.jsxs(Ce,{sx:{display:"flex",alignItems:"center",gap:1},children:[T.jsx(QU,{value:t?.rating/2,precision:.1,readOnly:!0}),T.jsxs(ve,{variant:"body2",children:[t?.rating,"/10"]})]})]}),T.jsx(lh,{sx:{my:2}}),T.jsx(ve,{variant:"body2",paragraph:!0,children:t?.descricao}),t?.diretor&&T.jsxs(Ce,{sx:{mb:2},children:[T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Diretor"}),T.jsx(ve,{variant:"body1",children:t.diretor})]}),t?.elenco&&T.jsxs(Ce,{sx:{mb:2},children:[T.jsx(ve,{variant:"body2",color:"text.secondary",children:"Elenco Principal"}),T.jsx(ve,{variant:"body1",children:t.elenco.join(", ")})]})]})})})]})]})},$V="https://images.unsplash.com/photo-1534796636912-3b95b3ab5986?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8fA%3D%3D&w=1000&q=80",FV="https://images.unsplash.com/photo-1536440136628-849c177e76a1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxleHBsb3JlLWZlZWR8Nnx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=60",UV="https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxleHBsb3JlLWZlZWR8MTB8fHxlbnwwfHx8fHw%3D&auto=format&fit=crop&w=500&q=60",jV="https://images.unsplash.com/photo-1518676590629-3dcbd9c5a5c9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxleHBsb3JlLWZlZWR8MTl8fHxlbnwwfHx8fHw%3D&auto=format&fit=crop&w=500&q=60",zV=de(on)(({theme:n})=>({position:"relative",minHeight:"100vh",paddingTop:n.spacing(10),paddingBottom:n.spacing(10),"&::before":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.85), rgba(0, 0, 0, 0.85)), url(${$V})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",zIndex:-1,filter:"blur(2px)"}})),GV=de(ve)(({theme:n})=>({textShadow:`0 0 10px ${n.palette.primary.main}, 0 0 20px ${n.palette.primary.main}`,animation:"pulse 2s infinite alternate","@keyframes pulse":{from:{textShadow:`0 0 10px ${n.palette.primary.main}`},to:{textShadow:`0 0 20px ${n.palette.primary.main}, 0 0 30px ${n.palette.primary.light}`}}})),HV=de(Jn)(({theme:n})=>({position:"relative",height:300,borderRadius:16,overflow:"hidden",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.3)",transition:"all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)","&:hover":{transform:"translateY(-10px) scale(1.03)",boxShadow:"0 12px 40px rgba(30, 144, 255, 0.4)","&::after":{opacity:1}},"&::after":{content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,background:`linear-gradient(45deg, transparent, ${ot(n.palette.primary.main,.2)}, transparent)`,opacity:0,transition:"opacity 0.5s ease"}})),C0=()=>{try{const n=fi(),e=hi(),t=fh(e.breakpoints.down("sm")),r=[{title:"Filmes",description:"Explore o universo cinematogrfico",image:FV,path:"/movies",icon:""},{title:"Sries",description:"Viaje por temporadas infinitas",image:UV,path:"/series",icon:""},{title:"Categorias",description:"Navegue pelas galxias de contedo",image:jV,path:"/categories",icon:""}],i=s=>{n(s)};return T.jsxs(zV,{maxWidth:"lg",children:[T.jsxs(Ce,{textAlign:"center",mb:8,children:[T.jsx(GV,{variant:t?"h3":"h2",component:"h1",gutterBottom:!0,fontWeight:"bold",color:"primary",children:"Bem-vindo ao CosmosTV"}),T.jsx(ve,{variant:"subtitle1",color:"text.secondary",sx:{maxWidth:700,mx:"auto",textShadow:"0 0 8px rgba(255,255,255,0.3)"},children:"Explore um universo de entretenimento com nossa coleo premium de filmes e sries"})]}),T.jsx(Kt,{container:!0,spacing:4,justifyContent:"center",children:r.map(s=>T.jsx(Kt,{item:!0,xs:12,sm:6,md:4,children:T.jsx(HV,{children:T.jsx(aw,{onClick:()=>i(s.path),sx:{height:"100%"},children:T.jsxs(Ce,{sx:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.7)), url(${s.image})`,backgroundSize:"cover",backgroundPosition:"center",height:"100%",width:"100%",position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-end",p:3,color:"#fff"},children:[T.jsx(Ce,{sx:{position:"absolute",top:20,right:20,fontSize:"2rem",opacity:.8},children:s.icon}),T.jsxs(Ce,{sx:{position:"relative",zIndex:2},children:[T.jsx(ve,{variant:"h5",fontWeight:"bold",gutterBottom:!0,sx:{textShadow:"0 2px 4px rgba(0,0,0,0.5)"},children:s.title}),T.jsx(ve,{variant:"body1",sx:{mb:2,textShadow:"0 1px 3px rgba(0,0,0,0.5)"},children:s.description}),T.jsx(vn,{variant:"outlined",color:"primary",size:"small",sx:{borderWidth:2,fontWeight:"bold","&:hover":{borderWidth:2,backgroundColor:ot(e.palette.primary.main,.1)}},children:"Explorar"})]})]})})})},s.title))}),T.jsx(Ce,{textAlign:"center",mt:8,children:T.jsx(ve,{variant:"body1",color:"text.secondary",sx:{maxWidth:600,mx:"auto",textShadow:"0 0 8px rgba(255,255,255,0.2)"},children:'"No estamos destinados a salvar o mundo. Estamos destinados a deix-lo." - Interstellar'})})]})}catch(n){return console.error("Error in DashboardPage:",n),T.jsxs(on,{maxWidth:"lg",sx:{mt:10,textAlign:"center"},children:[T.jsx(ve,{variant:"h5",color:"error",children:"Ocorreu um erro ao carregar a pgina"}),T.jsx(ve,{variant:"body1",sx:{mt:2},children:"Por favor, tente recarregar a pgina ou volte mais tarde"}),T.jsx(vn,{variant:"contained",color:"primary",sx:{mt:3},onClick:()=>window.location.reload(),children:"Recarregar Pgina"})]})}};function CC(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function nx(n,e){n===void 0&&(n={}),e===void 0&&(e={});const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:CC(e[r])&&CC(n[r])&&Object.keys(e[r]).length>0&&nx(n[r],e[r])})}const wI={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Bi(){const n=typeof document<"u"?document:{};return nx(n,wI),n}const VV={document:wI,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function er(){const n=typeof window<"u"?window:{};return nx(n,VV),n}function KV(n){return n===void 0&&(n=""),n.trim().split(" ").filter(e=>!!e.trim())}function WV(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function LI(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Rh(){return Date.now()}function qV(n){const e=er();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function YV(n,e){e===void 0&&(e="x");const t=er();let r,i,s;const o=qV(n);return t.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(c=>c.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(t.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function Lf(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function XV(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Er(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const r=t<0||arguments.length<=t?void 0:arguments[t];if(r!=null&&!XV(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const c=i[s],d=Object.getOwnPropertyDescriptor(r,c);d!==void 0&&d.enumerable&&(Lf(n[c])&&Lf(r[c])?r[c].__swiper__?n[c]=r[c]:Er(n[c],r[c]):!Lf(n[c])&&Lf(r[c])?(n[c]={},r[c].__swiper__?n[c]=r[c]:Er(n[c],r[c])):n[c]=r[c])}}}return n}function If(n,e,t){n.style.setProperty(e,t)}function II(n){let{swiper:e,targetPosition:t,side:r}=n;const i=er(),s=-e.translate;let o=null,c;const d=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=t>s?"next":"prev",h=(g,v)=>u==="next"&&g>=v||u==="prev"&&g<=v,p=()=>{c=new Date().getTime(),o===null&&(o=c);const g=Math.max(Math.min((c-o)/d,1),0),v=.5-Math.cos(g*Math.PI)/2;let y=s+v*(t-s);if(h(y,t)&&(y=t),e.wrapperEl.scrollTo({[r]:y}),h(y,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:y})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(p)};p()}function ki(n,e){e===void 0&&(e="");const t=er(),r=[...n.children];return t.HTMLSlotElement&&n instanceof HTMLSlotElement&&r.push(...n.assignedElements()),e?r.filter(i=>i.matches(e)):r}function QV(n,e){const t=[e];for(;t.length>0;){const r=t.shift();if(n===r)return!0;t.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function ZV(n,e){const t=er();let r=e.contains(n);return!r&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(n),r||(r=QV(n,e))),r}function wh(n){try{console.warn(n);return}catch{}}function Lh(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:KV(e)),t}function JV(n,e){const t=[];for(;n.previousElementSibling;){const r=n.previousElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function e7(n,e){const t=[];for(;n.nextElementSibling;){const r=n.nextElementSibling;e?r.matches(e)&&t.push(r):t.push(r),n=r}return t}function Zs(n,e){return er().getComputedStyle(n,null).getPropertyValue(e)}function Ih(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function DI(n,e){const t=[];let r=n.parentElement;for(;r;)e?r.matches(e)&&t.push(r):t.push(r),r=r.parentElement;return t}function _y(n,e,t){const r=er();return n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Mn(n){return(Array.isArray(n)?n:[n]).filter(e=>!!e)}function Dh(n,e){e===void 0&&(e=""),typeof trustedTypes<"u"?n.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):n.innerHTML=e}let R0;function t7(){const n=er(),e=Bi();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function PI(){return R0||(R0=t7()),R0}let w0;function n7(n){let{userAgent:e}=n===void 0?{}:n;const t=PI(),r=er(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},c=r.screen.width,d=r.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let h=s.match(/(iPad).*OS\s([\d_]+)/);const p=s.match(/(iPod)(.*OS\s([\d_]+))?/),g=!h&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),v=i==="Win32";let y=i==="MacIntel";const x=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!h&&y&&t.touch&&x.indexOf(`${c}x${d}`)>=0&&(h=s.match(/(Version)\/([\d.]+)/),h||(h=[0,1,"13_0_0"]),y=!1),u&&!v&&(o.os="android",o.android=!0),(h||g||p)&&(o.os="ios",o.ios=!0),o}function _I(n){return n===void 0&&(n={}),w0||(w0=n7(n)),w0}let L0;function r7(){const n=er(),e=_I();let t=!1;function r(){const c=n.navigator.userAgent.toLowerCase();return c.indexOf("safari")>=0&&c.indexOf("chrome")<0&&c.indexOf("android")<0}if(r()){const c=String(n.navigator.userAgent);if(c.includes("Version/")){const[d,u]=c.split("Version/")[1].split(" ")[0].split(".").map(h=>Number(h));t=d<16||d===16&&u<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:o,isWebView:i}}function OI(){return L0||(L0=r7()),L0}function i7(n){let{swiper:e,on:t,emit:r}=n;const i=er();let s=null,o=null;const c=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},d=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(p=>{o=i.requestAnimationFrame(()=>{const{width:g,height:v}=e;let y=g,x=v;p.forEach(S=>{let{contentBoxSize:E,contentRect:R,target:A}=S;A&&A!==e.el||(y=R?R.width:(E[0]||E).inlineSize,x=R?R.height:(E[0]||E).blockSize)}),(y!==g||x!==v)&&c()})}),s.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},h=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){d();return}i.addEventListener("resize",c),i.addEventListener("orientationchange",h)}),t("destroy",()=>{u(),i.removeEventListener("resize",c),i.removeEventListener("orientationchange",h)})}function s7(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const s=[],o=er(),c=function(h,p){p===void 0&&(p={});const g=o.MutationObserver||o.WebkitMutationObserver,v=new g(y=>{if(e.__preventObserver__)return;if(y.length===1){i("observerUpdate",y[0]);return}const x=function(){i("observerUpdate",y[0])};o.requestAnimationFrame?o.requestAnimationFrame(x):o.setTimeout(x,0)});v.observe(h,{attributes:typeof p.attributes>"u"?!0:p.attributes,childList:e.isElement||(typeof p.childList>"u"?!0:p).childList,characterData:typeof p.characterData>"u"?!0:p.characterData}),s.push(v)},d=()=>{if(e.params.observer){if(e.params.observeParents){const h=DI(e.hostEl);for(let p=0;p<h.length;p+=1)c(h[p])}c(e.hostEl,{childList:e.params.observeSlideChildren}),c(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(h=>{h.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",d),r("destroy",u)}var a7={on(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=t?"unshift":"push";return n.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(n,e,t){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(n,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];e.apply(r,o)}return i.__emitterProxy=e,r.on(n,i,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const r=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[r](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(r=>{typeof e>"u"?t.eventsListeners[r]=[]:t.eventsListeners[r]&&t.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&t.eventsListeners[r].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),r=n):(e=s[0].events,t=s[0].data,r=s[0].context||n),t.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(d=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(u=>{u.apply(r,[d,...t])}),n.eventsListeners&&n.eventsListeners[d]&&n.eventsListeners[d].forEach(u=>{u.apply(r,t)})}),n}};function o7(){const n=this;let e,t;const r=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=r.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=r.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Zs(r,"padding-left")||0,10)-parseInt(Zs(r,"padding-right")||0,10),t=t-parseInt(Zs(r,"padding-top")||0,10)-parseInt(Zs(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function l7(){const n=this;function e(w,B){return parseFloat(w.getPropertyValue(n.getDirectionLabel(B))||0)}const t=n.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:c}=n,d=n.virtual&&t.virtual.enabled,u=d?n.virtual.slides.length:n.slides.length,h=ki(i,`.${n.params.slideClass}, swiper-slide`),p=d?n.virtual.slides.length:h.length;let g=[];const v=[],y=[];let x=t.slidesOffsetBefore;typeof x=="function"&&(x=t.slidesOffsetBefore.call(n));let S=t.slidesOffsetAfter;typeof S=="function"&&(S=t.slidesOffsetAfter.call(n));const E=n.snapGrid.length,R=n.slidesGrid.length;let A=t.spaceBetween,L=-x,I=0,M=0;if(typeof s>"u")return;typeof A=="string"&&A.indexOf("%")>=0?A=parseFloat(A.replace("%",""))/100*s:typeof A=="string"&&(A=parseFloat(A)),n.virtualSize=-A,h.forEach(w=>{o?w.style.marginLeft="":w.style.marginRight="",w.style.marginBottom="",w.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(If(r,"--swiper-centered-offset-before",""),If(r,"--swiper-centered-offset-after",""));const P=t.grid&&t.grid.rows>1&&n.grid;P?n.grid.initSlides(h):n.grid&&n.grid.unsetSlides();let k;const _=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(w=>typeof t.breakpoints[w].slidesPerView<"u").length>0;for(let w=0;w<p;w+=1){k=0;let B;if(h[w]&&(B=h[w]),P&&n.grid.updateSlide(w,B,h),!(h[w]&&Zs(B,"display")==="none")){if(t.slidesPerView==="auto"){_&&(h[w].style[n.getDirectionLabel("width")]="");const j=getComputedStyle(B),z=B.style.transform,q=B.style.webkitTransform;if(z&&(B.style.transform="none"),q&&(B.style.webkitTransform="none"),t.roundLengths)k=n.isHorizontal()?_y(B,"width"):_y(B,"height");else{const K=e(j,"width"),$=e(j,"padding-left"),W=e(j,"padding-right"),G=e(j,"margin-left"),Y=e(j,"margin-right"),F=j.getPropertyValue("box-sizing");if(F&&F==="border-box")k=K+G+Y;else{const{clientWidth:H,offsetWidth:Q}=B;k=K+$+W+G+Y+(Q-H)}}z&&(B.style.transform=z),q&&(B.style.webkitTransform=q),t.roundLengths&&(k=Math.floor(k))}else k=(s-(t.slidesPerView-1)*A)/t.slidesPerView,t.roundLengths&&(k=Math.floor(k)),h[w]&&(h[w].style[n.getDirectionLabel("width")]=`${k}px`);h[w]&&(h[w].swiperSlideSize=k),y.push(k),t.centeredSlides?(L=L+k/2+I/2+A,I===0&&w!==0&&(L=L-s/2-A),w===0&&(L=L-s/2-A),Math.abs(L)<1/1e3&&(L=0),t.roundLengths&&(L=Math.floor(L)),M%t.slidesPerGroup===0&&g.push(L),v.push(L)):(t.roundLengths&&(L=Math.floor(L)),(M-Math.min(n.params.slidesPerGroupSkip,M))%n.params.slidesPerGroup===0&&g.push(L),v.push(L),L=L+k+A),n.virtualSize+=k+A,I=k,M+=1}}if(n.virtualSize=Math.max(n.virtualSize,s)+S,o&&c&&(t.effect==="slide"||t.effect==="coverflow")&&(r.style.width=`${n.virtualSize+A}px`),t.setWrapperSize&&(r.style[n.getDirectionLabel("width")]=`${n.virtualSize+A}px`),P&&n.grid.updateWrapperSize(k,g),!t.centeredSlides){const w=[];for(let B=0;B<g.length;B+=1){let j=g[B];t.roundLengths&&(j=Math.floor(j)),g[B]<=n.virtualSize-s&&w.push(j)}g=w,Math.floor(n.virtualSize-s)-Math.floor(g[g.length-1])>1&&g.push(n.virtualSize-s)}if(d&&t.loop){const w=y[0]+A;if(t.slidesPerGroup>1){const B=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/t.slidesPerGroup),j=w*t.slidesPerGroup;for(let z=0;z<B;z+=1)g.push(g[g.length-1]+j)}for(let B=0;B<n.virtual.slidesBefore+n.virtual.slidesAfter;B+=1)t.slidesPerGroup===1&&g.push(g[g.length-1]+w),v.push(v[v.length-1]+w),n.virtualSize+=w}if(g.length===0&&(g=[0]),A!==0){const w=n.isHorizontal()&&o?"marginLeft":n.getDirectionLabel("marginRight");h.filter((B,j)=>!t.cssMode||t.loop?!0:j!==h.length-1).forEach(B=>{B.style[w]=`${A}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let w=0;y.forEach(j=>{w+=j+(A||0)}),w-=A;const B=w>s?w-s:0;g=g.map(j=>j<=0?-x:j>B?B+S:j)}if(t.centerInsufficientSlides){let w=0;y.forEach(j=>{w+=j+(A||0)}),w-=A;const B=(t.slidesOffsetBefore||0)+(t.slidesOffsetAfter||0);if(w+B<s){const j=(s-w-B)/2;g.forEach((z,q)=>{g[q]=z-j}),v.forEach((z,q)=>{v[q]=z+j})}}if(Object.assign(n,{slides:h,snapGrid:g,slidesGrid:v,slidesSizesGrid:y}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){If(r,"--swiper-centered-offset-before",`${-g[0]}px`),If(r,"--swiper-centered-offset-after",`${n.size/2-y[y.length-1]/2}px`);const w=-n.snapGrid[0],B=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(j=>j+w),n.slidesGrid=n.slidesGrid.map(j=>j+B)}if(p!==u&&n.emit("slidesLengthChange"),g.length!==E&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),v.length!==R&&n.emit("slidesGridLengthChange"),t.watchSlidesProgress&&n.updateSlidesOffset(),n.emit("slidesUpdated"),!d&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const w=`${t.containerModifierClass}backface-hidden`,B=n.el.classList.contains(w);p<=t.maxBackfaceHiddenSlides?B||n.el.classList.add(w):B&&n.el.classList.remove(w)}}function c7(n){const e=this,t=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=c=>r?e.slides[e.getSlideIndexByData(c)]:e.slides[c];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(c=>{t.push(c)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const c=e.activeIndex+s;if(c>e.slides.length&&!r)break;t.push(o(c))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const c=t[s].offsetHeight;i=c>i?c:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function u7(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(n.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-t-n.cssOverflowAdjustment()}const RC=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function d7(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;i&&(o=n),e.visibleSlidesIndexes=[],e.visibleSlides=[];let c=t.spaceBetween;typeof c=="string"&&c.indexOf("%")>=0?c=parseFloat(c.replace("%",""))/100*e.size:typeof c=="string"&&(c=parseFloat(c));for(let d=0;d<r.length;d+=1){const u=r[d];let h=u.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(h-=r[0].swiperSlideOffset);const p=(o+(t.centeredSlides?e.minTranslate():0)-h)/(u.swiperSlideSize+c),g=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-h)/(u.swiperSlideSize+c),v=-(o-h),y=v+e.slidesSizesGrid[d],x=v>=0&&v<=e.size-e.slidesSizesGrid[d],S=v>=0&&v<e.size-1||y>1&&y<=e.size||v<=0&&y>=e.size;S&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(d)),RC(u,S,t.slideVisibleClass),RC(u,x,t.slideFullyVisibleClass),u.progress=i?-p:p,u.originalProgress=i?-g:g}}function f7(n){const e=this;if(typeof n>"u"){const h=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*h||0}const t=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:c}=e;const d=s,u=o;if(r===0)i=0,s=!0,o=!0;else{i=(n-e.minTranslate())/r;const h=Math.abs(n-e.minTranslate())<1,p=Math.abs(n-e.maxTranslate())<1;s=h||i<=0,o=p||i>=1,h&&(i=0),p&&(i=1)}if(t.loop){const h=e.getSlideIndexByData(0),p=e.getSlideIndexByData(e.slides.length-1),g=e.slidesGrid[h],v=e.slidesGrid[p],y=e.slidesGrid[e.slidesGrid.length-1],x=Math.abs(n);x>=g?c=(x-g)/y:c=(x+y-v)/y,c>1&&(c-=1)}Object.assign(e,{progress:i,progressLoop:c,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!d&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(d&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const I0=(n,e,t)=>{e&&!n.classList.contains(t)?n.classList.add(t):!e&&n.classList.contains(t)&&n.classList.remove(t)};function h7(){const n=this,{slides:e,params:t,slidesEl:r,activeIndex:i}=n,s=n.virtual&&t.virtual.enabled,o=n.grid&&t.grid&&t.grid.rows>1,c=p=>ki(r,`.${t.slideClass}${p}, swiper-slide${p}`)[0];let d,u,h;if(s)if(t.loop){let p=i-n.virtual.slidesBefore;p<0&&(p=n.virtual.slides.length+p),p>=n.virtual.slides.length&&(p-=n.virtual.slides.length),d=c(`[data-swiper-slide-index="${p}"]`)}else d=c(`[data-swiper-slide-index="${i}"]`);else o?(d=e.find(p=>p.column===i),h=e.find(p=>p.column===i+1),u=e.find(p=>p.column===i-1)):d=e[i];d&&(o||(h=e7(d,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!h&&(h=e[0]),u=JV(d,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(p=>{I0(p,p===d,t.slideActiveClass),I0(p,p===h,t.slideNextClass),I0(p,p===u,t.slidePrevClass)}),n.emitSlidesClasses()}const Yf=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":`.${n.params.slideClass}`,r=e.closest(t());if(r){let i=r.querySelector(`.${n.params.lazyPreloaderClass}`);!i&&n.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${n.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},D0=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Oy=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const r=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),i=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=i,c=[o-e];c.push(...Array.from({length:e}).map((d,u)=>o+r+u)),n.slides.forEach((d,u)=>{c.includes(d.column)&&D0(n,u)});return}const s=i+r-1;if(n.params.rewind||n.params.loop)for(let o=i-e;o<=s+e;o+=1){const c=(o%t+t)%t;(c<i||c>s)&&D0(n,c)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,t-1);o+=1)o!==i&&(o>s||o<i)&&D0(n,o)};function p7(n){const{slidesGrid:e,params:t}=n,r=n.rtlTranslate?n.translate:-n.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return t.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function m7(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:c}=e;let d=n,u;const h=v=>{let y=v-e.virtual.slidesBefore;return y<0&&(y=e.virtual.slides.length+y),y>=e.virtual.slides.length&&(y-=e.virtual.slides.length),y};if(typeof d>"u"&&(d=p7(e)),r.indexOf(t)>=0)u=r.indexOf(t);else{const v=Math.min(i.slidesPerGroupSkip,d);u=v+Math.floor((d-v)/i.slidesPerGroup)}if(u>=r.length&&(u=r.length-1),d===s&&!e.params.loop){u!==c&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(d===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=h(d);return}const p=e.grid&&i.grid&&i.grid.rows>1;let g;if(e.virtual&&i.virtual.enabled&&i.loop)g=h(d);else if(p){const v=e.slides.find(x=>x.column===d);let y=parseInt(v.getAttribute("data-swiper-slide-index"),10);Number.isNaN(y)&&(y=Math.max(e.slides.indexOf(v),0)),g=Math.floor(y/i.grid.rows)}else if(e.slides[d]){const v=e.slides[d].getAttribute("data-swiper-slide-index");v?g=parseInt(v,10):g=d}else g=d;Object.assign(e,{previousSnapIndex:c,snapIndex:u,previousRealIndex:o,realIndex:g,previousIndex:s,activeIndex:d}),e.initialized&&Oy(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==g&&e.emit("realIndexChange"),e.emit("slideChange"))}function g7(n,e){const t=this,r=t.params;let i=n.closest(`.${r.slideClass}, swiper-slide`);!i&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(c=>{!i&&c.matches&&c.matches(`.${r.slideClass}, swiper-slide`)&&(i=c)});let s=!1,o;if(i){for(let c=0;c<t.slides.length;c+=1)if(t.slides[c]===i){s=!0,o=c;break}}if(i&&s)t.clickedSlide=i,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}r.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var y7={updateSize:o7,updateSlides:l7,updateAutoHeight:c7,updateSlidesOffset:u7,updateSlidesProgress:d7,updateProgress:f7,updateSlidesClasses:h7,updateActiveIndex:m7,updateClickedSlide:g7};function v7(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(t.virtualTranslate)return r?-i:i;if(t.cssMode)return i;let o=YV(s,n);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function x7(n,e){const t=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=t;let c=0,d=0;const u=0;t.isHorizontal()?c=r?-n:n:d=n,i.roundLengths&&(c=Math.floor(c),d=Math.floor(d)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?c:d,i.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-c:-d:i.virtualTranslate||(t.isHorizontal()?c-=t.cssOverflowAdjustment():d-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${c}px, ${d}px, ${u}px)`);let h;const p=t.maxTranslate()-t.minTranslate();p===0?h=0:h=(n-t.minTranslate())/p,h!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function b7(){return-this.snapGrid[0]}function S7(){return-this.snapGrid[this.snapGrid.length-1]}function E7(n,e,t,r,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:c}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const d=s.minTranslate(),u=s.maxTranslate();let h;if(r&&n>d?h=d:r&&n<u?h=u:h=n,s.updateProgress(h),o.cssMode){const p=s.isHorizontal();if(e===0)c[p?"scrollLeft":"scrollTop"]=-h;else{if(!s.support.smoothScroll)return II({swiper:s,targetPosition:-h,side:p?"left":"top"}),!0;c.scrollTo({[p?"left":"top"]:-h,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(h),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(h),t&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(g){!s||s.destroyed||g.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var T7={getTranslate:v7,setTranslate:x7,minTranslate:b7,maxTranslate:S7,translateTo:E7};function A7(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${n}ms`,t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function kI(n){let{swiper:e,runCallbacks:t,direction:r,step:i}=n;const{activeIndex:s,previousIndex:o}=e;let c=r;c||(s>o?c="next":s<o?c="prev":c="reset"),e.emit(`transition${i}`),t&&c==="reset"?e.emit(`slideResetTransition${i}`):t&&s!==o&&(e.emit(`slideChangeTransition${i}`),c==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`))}function C7(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;r.cssMode||(r.autoHeight&&t.updateAutoHeight(),kI({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function R7(n,e){n===void 0&&(n=!0);const t=this,{params:r}=t;t.animating=!1,!r.cssMode&&(t.setTransition(0),kI({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var w7={setTransition:A7,transitionStart:C7,transitionEnd:R7};function L7(n,e,t,r,i){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:c,snapGrid:d,slidesGrid:u,previousIndex:h,activeIndex:p,rtlTranslate:g,wrapperEl:v,enabled:y}=s;if(!y&&!r&&!i||s.destroyed||s.animating&&c.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const x=Math.min(s.params.slidesPerGroupSkip,o);let S=x+Math.floor((o-x)/s.params.slidesPerGroup);S>=d.length&&(S=d.length-1);const E=-d[S];if(c.normalizeSlideIndex)for(let P=0;P<u.length;P+=1){const k=-Math.floor(E*100),_=Math.floor(u[P]*100),w=Math.floor(u[P+1]*100);typeof u[P+1]<"u"?k>=_&&k<w-(w-_)/2?o=P:k>=_&&k<w&&(o=P+1):k>=_&&(o=P)}if(s.initialized&&o!==p&&(!s.allowSlideNext&&(g?E>s.translate&&E>s.minTranslate():E<s.translate&&E<s.minTranslate())||!s.allowSlidePrev&&E>s.translate&&E>s.maxTranslate()&&(p||0)!==o))return!1;o!==(h||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(E);let R;o>p?R="next":o<p?R="prev":R="reset";const A=s.virtual&&s.params.virtual.enabled;if(!(A&&i)&&(g&&-E===s.translate||!g&&E===s.translate))return s.updateActiveIndex(o),c.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),c.effect!=="slide"&&s.setTranslate(E),R!=="reset"&&(s.transitionStart(t,R),s.transitionEnd(t,R)),!1;if(c.cssMode){const P=s.isHorizontal(),k=g?E:-E;if(e===0)A&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),A&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{v[P?"scrollLeft":"scrollTop"]=k})):v[P?"scrollLeft":"scrollTop"]=k,A&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return II({swiper:s,targetPosition:k,side:P?"left":"top"}),!0;v.scrollTo({[P?"left":"top"]:k,behavior:"smooth"})}return!0}const M=OI().isSafari;return A&&!i&&M&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(E),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(t,R),e===0?s.transitionEnd(t,R):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(k){!s||s.destroyed||k.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,R))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function I7(n,e,t,r){n===void 0&&(n=0),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=n;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let c;if(s){const g=o*i.params.grid.rows;c=i.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===g).column}else c=i.getSlideIndexByData(o);const d=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:u}=i.params;let h=i.params.slidesPerView;h==="auto"?h=i.slidesPerViewDynamic():(h=Math.ceil(parseFloat(i.params.slidesPerView,10)),u&&h%2===0&&(h=h+1));let p=d-c<h;if(u&&(p=p||c<Math.ceil(h/2)),r&&u&&i.params.slidesPerView!=="auto"&&!s&&(p=!1),p){const g=u?c<i.activeIndex?"prev":"next":c-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:g,slideTo:!0,activeSlideIndex:g==="next"?c+1:c-d+1,slideRealIndex:g==="next"?i.realIndex:void 0})}if(s){const g=o*i.params.grid.rows;o=i.slides.find(v=>v.getAttribute("data-swiper-slide-index")*1===g).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,t,r)}),i}function D7(n,e,t){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);let c=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(c=Math.max(r.slidesPerViewDynamic("current",!0),1));const d=r.activeIndex<s.slidesPerGroupSkip?1:c,u=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+d,n,e,t)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,n,e,t):r.slideTo(r.activeIndex+d,n,e,t)}function P7(n,e,t){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:c,enabled:d,animating:u}=r;if(!d||r.destroyed)return r;typeof n>"u"&&(n=r.params.speed);const h=r.virtual&&i.virtual.enabled;if(i.loop){if(u&&!h&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const p=c?r.translate:-r.translate;function g(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const v=g(p),y=s.map(R=>g(R)),x=i.freeMode&&i.freeMode.enabled;let S=s[y.indexOf(v)-1];if(typeof S>"u"&&(i.cssMode||x)){let R;s.forEach((A,L)=>{v>=A&&(R=L)}),typeof R<"u"&&(S=x?s[R]:s[R>0?R-1:R])}let E=0;if(typeof S<"u"&&(E=o.indexOf(S),E<0&&(E=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(E=E-r.slidesPerViewDynamic("previous",!0)+1,E=Math.max(E,0))),i.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,n,e,t)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(E,n,e,t)}),!0;return r.slideTo(E,n,e,t)}function _7(n,e,t){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof n>"u"&&(n=r.params.speed),r.slideTo(r.activeIndex,n,e,t)}function O7(n,e,t,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof n>"u"&&(n=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),c=o+Math.floor((s-o)/i.params.slidesPerGroup),d=i.rtlTranslate?i.translate:-i.translate;if(d>=i.snapGrid[c]){const u=i.snapGrid[c],h=i.snapGrid[c+1];d-u>(h-u)*r&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[c-1],h=i.snapGrid[c];d-u<=(h-u)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,n,e,t)}function k7(){const n=this;if(n.destroyed)return;const{params:e,slidesEl:t}=n,r=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let i=n.getSlideIndexWhenGrid(n.clickedIndex),s;const o=n.isElement?"swiper-slide":`.${e.slideClass}`,c=n.grid&&n.params.grid&&n.params.grid.rows>1;if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?n.slideToLoop(s):i>(c?(n.slides.length-r)/2-(n.params.grid.rows-1):n.slides.length-r)?(n.loopFix(),i=n.getSlideIndex(ki(t,`${o}[data-swiper-slide-index="${s}"]`)[0]),LI(()=>{n.slideTo(i)})):n.slideTo(i)}else n.slideTo(i)}var M7={slideTo:L7,slideToLoop:I7,slideNext:D7,slidePrev:P7,slideReset:_7,slideToClosest:O7,slideToClickedSlide:k7};function N7(n,e){const t=this,{params:r,slidesEl:i}=t;if(!r.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{ki(i,`.${r.slideClass}, swiper-slide`).forEach((v,y)=>{v.setAttribute("data-swiper-slide-index",y)})},o=()=>{const g=ki(i,`.${r.slideBlankClass}`);g.forEach(v=>{v.remove()}),g.length>0&&(t.recalcSlides(),t.updateSlides())},c=t.grid&&r.grid&&r.grid.rows>1;r.loopAddBlankSlides&&(r.slidesPerGroup>1||c)&&o();const d=r.slidesPerGroup*(c?r.grid.rows:1),u=t.slides.length%d!==0,h=c&&t.slides.length%r.grid.rows!==0,p=g=>{for(let v=0;v<g;v+=1){const y=t.isElement?Lh("swiper-slide",[r.slideBlankClass]):Lh("div",[r.slideClass,r.slideBlankClass]);t.slidesEl.append(y)}};if(u){if(r.loopAddBlankSlides){const g=d-t.slides.length%d;p(g),t.recalcSlides(),t.updateSlides()}else wh("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(h){if(r.loopAddBlankSlides){const g=r.grid.rows-t.slides.length%r.grid.rows;p(g),t.recalcSlides(),t.updateSlides()}else wh("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();t.loopFix({slideRealIndex:n,direction:r.centeredSlides?void 0:"next",initial:e})}function B7(n){let{slideRealIndex:e,slideTo:t=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:c,byMousewheel:d}=n===void 0?{}:n;const u=this;if(!u.params.loop)return;u.emit("beforeLoopFix");const{slides:h,allowSlidePrev:p,allowSlideNext:g,slidesEl:v,params:y}=u,{centeredSlides:x,initialSlide:S}=y;if(u.allowSlidePrev=!0,u.allowSlideNext=!0,u.virtual&&y.virtual.enabled){t&&(!y.centeredSlides&&u.snapIndex===0?u.slideTo(u.virtual.slides.length,0,!1,!0):y.centeredSlides&&u.snapIndex<y.slidesPerView?u.slideTo(u.virtual.slides.length+u.snapIndex,0,!1,!0):u.snapIndex===u.snapGrid.length-1&&u.slideTo(u.virtual.slidesBefore,0,!1,!0)),u.allowSlidePrev=p,u.allowSlideNext=g,u.emit("loopFix");return}let E=y.slidesPerView;E==="auto"?E=u.slidesPerViewDynamic():(E=Math.ceil(parseFloat(y.slidesPerView,10)),x&&E%2===0&&(E=E+1));const R=y.slidesPerGroupAuto?E:y.slidesPerGroup;let A=x?Math.max(R,Math.ceil(E/2)):R;A%R!==0&&(A+=R-A%R),A+=y.loopAdditionalSlides,u.loopedSlides=A;const L=u.grid&&y.grid&&y.grid.rows>1;h.length<E+A||u.params.effect==="cards"&&h.length<E+A*2?wh("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):L&&y.grid.fill==="row"&&wh("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const I=[],M=[],P=L?Math.ceil(h.length/y.grid.rows):h.length,k=o&&P-S<E&&!x;let _=k?S:u.activeIndex;typeof s>"u"?s=u.getSlideIndex(h.find($=>$.classList.contains(y.slideActiveClass))):_=s;const w=r==="next"||!r,B=r==="prev"||!r;let j=0,z=0;const K=(L?h[s].column:s)+(x&&typeof i>"u"?-E/2+.5:0);if(K<A){j=Math.max(A-K,R);for(let $=0;$<A-K;$+=1){const W=$-Math.floor($/P)*P;if(L){const G=P-W-1;for(let Y=h.length-1;Y>=0;Y-=1)h[Y].column===G&&I.push(Y)}else I.push(P-W-1)}}else if(K+E>P-A){z=Math.max(K-(P-A*2),R),k&&(z=Math.max(z,E-P+S+1));for(let $=0;$<z;$+=1){const W=$-Math.floor($/P)*P;L?h.forEach((G,Y)=>{G.column===W&&M.push(Y)}):M.push(W)}}if(u.__preventObserver__=!0,requestAnimationFrame(()=>{u.__preventObserver__=!1}),u.params.effect==="cards"&&h.length<E+A*2&&(M.includes(s)&&M.splice(M.indexOf(s),1),I.includes(s)&&I.splice(I.indexOf(s),1)),B&&I.forEach($=>{h[$].swiperLoopMoveDOM=!0,v.prepend(h[$]),h[$].swiperLoopMoveDOM=!1}),w&&M.forEach($=>{h[$].swiperLoopMoveDOM=!0,v.append(h[$]),h[$].swiperLoopMoveDOM=!1}),u.recalcSlides(),y.slidesPerView==="auto"?u.updateSlides():L&&(I.length>0&&B||M.length>0&&w)&&u.slides.forEach(($,W)=>{u.grid.updateSlide(W,$,u.slides)}),y.watchSlidesProgress&&u.updateSlidesOffset(),t){if(I.length>0&&B){if(typeof e>"u"){const $=u.slidesGrid[_],G=u.slidesGrid[_+j]-$;d?u.setTranslate(u.translate-G):(u.slideTo(_+Math.ceil(j),0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-G,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-G))}else if(i){const $=L?I.length/y.grid.rows:I.length;u.slideTo(u.activeIndex+$,0,!1,!0),u.touchEventsData.currentTranslate=u.translate}}else if(M.length>0&&w)if(typeof e>"u"){const $=u.slidesGrid[_],G=u.slidesGrid[_-z]-$;d?u.setTranslate(u.translate-G):(u.slideTo(_-z,0,!1,!0),i&&(u.touchEventsData.startTranslate=u.touchEventsData.startTranslate-G,u.touchEventsData.currentTranslate=u.touchEventsData.currentTranslate-G))}else{const $=L?M.length/y.grid.rows:M.length;u.slideTo(u.activeIndex-$,0,!1,!0)}}if(u.allowSlidePrev=p,u.allowSlideNext=g,u.controller&&u.controller.control&&!c){const $={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(u.controller.control)?u.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...$,slideTo:W.params.slidesPerView===y.slidesPerView?t:!1})}):u.controller.control instanceof u.constructor&&u.controller.control.params.loop&&u.controller.control.loopFix({...$,slideTo:u.controller.control.params.slidesPerView===y.slidesPerView?t:!1})}u.emit("loopFix")}function $7(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||!t||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const r=[];n.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),n.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{t.append(i)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var F7={loopCreate:N7,loopFix:B7,loopDestroy:$7};function U7(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function j7(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var z7={setGrabCursor:U7,unsetGrabCursor:j7};function G7(n,e){e===void 0&&(e=this);function t(r){if(!r||r===Bi()||r===er())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(n);return!i&&!r.getRootNode?null:i||t(r.getRootNode().host)}return t(e)}function wC(n,e,t){const r=er(),{params:i}=n,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(t<=o||t>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function H7(n){const e=this,t=Bi();let r=n;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){wC(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:c}=e;if(!c||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let d=r.target;if(s.touchEventsTarget==="wrapper"&&!ZV(d,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",h=r.composedPath?r.composedPath():r.path;u&&r.target&&r.target.shadowRoot&&h&&(d=h[0]);const p=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,g=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(g?G7(p,d):d.closest(p))){e.allowClick=!0;return}if(s.swipeHandler&&!d.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const v=o.currentX,y=o.currentY;if(!wC(e,r,v))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=v,o.startY=y,i.touchStartTime=Rh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let x=!0;d.matches(i.focusableElements)&&(x=!1,d.nodeName==="SELECT"&&(i.isTouched=!1)),t.activeElement&&t.activeElement.matches(i.focusableElements)&&t.activeElement!==d&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!d.matches(i.focusableElements))&&t.activeElement.blur();const S=x&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||S)&&!d.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function V7(n){const e=Bi(),t=this,r=t.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:c}=t;if(!c||!i.simulateTouch&&n.pointerType==="mouse")return;let d=n;if(d.originalEvent&&(d=d.originalEvent),d.type==="pointermove"&&(r.touchId!==null||d.pointerId!==r.pointerId))return;let u;if(d.type==="touchmove"){if(u=[...d.changedTouches].find(I=>I.identifier===r.touchId),!u||u.identifier!==r.touchId)return}else u=d;if(!r.isTouched){r.startMoving&&r.isScrolling&&t.emit("touchMoveOpposite",d);return}const h=u.pageX,p=u.pageY;if(d.preventedByNestedSwiper){s.startX=h,s.startY=p;return}if(!t.allowTouchMove){d.target.matches(r.focusableElements)||(t.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:h,startY:p,currentX:h,currentY:p}),r.touchStartTime=Rh());return}if(i.touchReleaseOnEdges&&!i.loop)if(t.isVertical()){if(p<s.startY&&t.translate<=t.maxTranslate()||p>s.startY&&t.translate>=t.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(h>s.startX&&-t.translate<=t.maxTranslate()||h<s.startX&&-t.translate>=t.minTranslate()))return;if(!o&&(h<s.startX&&t.translate<=t.maxTranslate()||h>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==d.target&&d.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&d.target===e.activeElement&&d.target.matches(r.focusableElements)){r.isMoved=!0,t.allowClick=!1;return}r.allowTouchCallbacks&&t.emit("touchMove",d),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=h,s.currentY=p;const g=s.currentX-s.startX,v=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(g**2+v**2)<t.params.threshold)return;if(typeof r.isScrolling>"u"){let I;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:g*g+v*v>=25&&(I=Math.atan2(Math.abs(v),Math.abs(g))*180/Math.PI,r.isScrolling=t.isHorizontal()?I>i.touchAngle:90-I>i.touchAngle)}if(r.isScrolling&&t.emit("touchMoveOpposite",d),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||d.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;t.allowClick=!1,!i.cssMode&&d.cancelable&&d.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&d.stopPropagation();let y=t.isHorizontal()?g:v,x=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(y=Math.abs(y)*(o?1:-1),x=Math.abs(x)*(o?1:-1)),s.diff=y,y*=i.touchRatio,o&&(y=-y,x=-x);const S=t.touchesDirection;t.swipeDirection=y>0?"prev":"next",t.touchesDirection=x>0?"prev":"next";const E=t.params.loop&&!i.cssMode,R=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!r.isMoved){if(E&&R&&t.loopFix({direction:t.swipeDirection}),r.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(I)}r.allowMomentumBounce=!1,i.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",d)}if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&S!==t.touchesDirection&&E&&R&&Math.abs(y)>=1){Object.assign(s,{startX:h,startY:p,currentX:h,currentY:p,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}t.emit("sliderMove",d),r.isMoved=!0,r.currentTranslate=y+r.startTranslate;let A=!0,L=i.resistanceRatio;if(i.touchReleaseOnEdges&&(L=0),y>0?(E&&R&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>t.minTranslate()&&(A=!1,i.resistance&&(r.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+r.startTranslate+y)**L))):y<0&&(E&&R&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(i.slidesPerView!=="auto"&&t.slides.length-i.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(i.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<t.maxTranslate()&&(A=!1,i.resistance&&(r.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-r.startTranslate-y)**L))),A&&(d.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(y)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&t.freeMode||i.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(r.currentTranslate),t.setTranslate(r.currentTranslate))}function K7(n){const e=this,t=e.touchEventsData;let r=n;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(I=>I.identifier===t.touchId),!i||i.identifier!==t.touchId)return}else{if(t.touchId!==null||r.pointerId!==t.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:o,touches:c,rtlTranslate:d,slidesGrid:u,enabled:h}=e;if(!h||!o.simulateTouch&&r.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",r),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&o.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}o.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const p=Rh(),g=p-t.touchStartTime;if(e.allowClick){const I=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(I&&I[0]||r.target,I),e.emit("tap click",r),g<300&&p-t.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(t.lastClickTime=Rh(),LI(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||c.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let v;if(o.followFinger?v=d?e.translate:-e.translate:v=-t.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:v});return}const y=v>=-e.maxTranslate()&&!e.params.loop;let x=0,S=e.slidesSizesGrid[0];for(let I=0;I<u.length;I+=I<o.slidesPerGroupSkip?1:o.slidesPerGroup){const M=I<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof u[I+M]<"u"?(y||v>=u[I]&&v<u[I+M])&&(x=I,S=u[I+M]-u[I]):(y||v>=u[I])&&(x=I,S=u[u.length-1]-u[u.length-2])}let E=null,R=null;o.rewind&&(e.isBeginning?R=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(E=0));const A=(v-u[x])/S,L=x<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(g>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(A>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?E:x+L):e.slideTo(x)),e.swipeDirection==="prev"&&(A>1-o.longSwipesRatio?e.slideTo(x+L):R!==null&&A<0&&Math.abs(A)>o.longSwipesRatio?e.slideTo(R):e.slideTo(x))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(x+L):e.slideTo(x):(e.swipeDirection==="next"&&e.slideTo(E!==null?E:x+L),e.swipeDirection==="prev"&&e.slideTo(R!==null?R:x))}}function LC(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const c=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!c?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=i,n.allowSlideNext=r,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function W7(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function q7(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:r}=n;if(!r)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let i;const s=n.maxTranslate()-n.minTranslate();s===0?i=0:i=(n.translate-n.minTranslate())/s,i!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function Y7(n){const e=this;Yf(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function X7(){const n=this;n.documentTouchHandlerProceeded||(n.documentTouchHandlerProceeded=!0,n.params.touchReleaseOnEdges&&(n.el.style.touchAction="auto"))}const MI=(n,e)=>{const t=Bi(),{params:r,el:i,wrapperEl:s,device:o}=n,c=!!r.nested,d=e==="on"?"addEventListener":"removeEventListener",u=e;!i||typeof i=="string"||(t[d]("touchstart",n.onDocumentTouchStart,{passive:!1,capture:c}),i[d]("touchstart",n.onTouchStart,{passive:!1}),i[d]("pointerdown",n.onTouchStart,{passive:!1}),t[d]("touchmove",n.onTouchMove,{passive:!1,capture:c}),t[d]("pointermove",n.onTouchMove,{passive:!1,capture:c}),t[d]("touchend",n.onTouchEnd,{passive:!0}),t[d]("pointerup",n.onTouchEnd,{passive:!0}),t[d]("pointercancel",n.onTouchEnd,{passive:!0}),t[d]("touchcancel",n.onTouchEnd,{passive:!0}),t[d]("pointerout",n.onTouchEnd,{passive:!0}),t[d]("pointerleave",n.onTouchEnd,{passive:!0}),t[d]("contextmenu",n.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[d]("click",n.onClick,!0),r.cssMode&&s[d]("scroll",n.onScroll),r.updateOnWindowResize?n[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",LC,!0):n[u]("observerUpdate",LC,!0),i[d]("load",n.onLoad,{capture:!0}))};function Q7(){const n=this,{params:e}=n;n.onTouchStart=H7.bind(n),n.onTouchMove=V7.bind(n),n.onTouchEnd=K7.bind(n),n.onDocumentTouchStart=X7.bind(n),e.cssMode&&(n.onScroll=q7.bind(n)),n.onClick=W7.bind(n),n.onLoad=Y7.bind(n),MI(n,"on")}function Z7(){MI(this,"off")}var J7={attachEvents:Q7,detachEvents:Z7};const IC=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function eK(){const n=this,{realIndex:e,initialized:t,params:r,el:i}=n,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=Bi(),c=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",d=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?n.el:o.querySelector(r.breakpointsBase),u=n.getBreakpoint(s,c,d);if(!u||n.currentBreakpoint===u)return;const p=(u in s?s[u]:void 0)||n.originalParams,g=IC(n,r),v=IC(n,p),y=n.params.grabCursor,x=p.grabCursor,S=r.enabled;g&&!v?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),n.emitContainerClasses()):!g&&v&&(i.classList.add(`${r.containerModifierClass}grid`),(p.grid.fill&&p.grid.fill==="column"||!p.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),n.emitContainerClasses()),y&&!x?n.unsetGrabCursor():!y&&x&&n.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(M=>{if(typeof p[M]>"u")return;const P=r[M]&&r[M].enabled,k=p[M]&&p[M].enabled;P&&!k&&n[M].disable(),!P&&k&&n[M].enable()});const E=p.direction&&p.direction!==r.direction,R=r.loop&&(p.slidesPerView!==r.slidesPerView||E),A=r.loop;E&&t&&n.changeDirection(),Er(n.params,p);const L=n.params.enabled,I=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),S&&!L?n.disable():!S&&L&&n.enable(),n.currentBreakpoint=u,n.emit("_beforeBreakpoint",p),t&&(R?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!A&&I?(n.loopCreate(e),n.updateSlides()):A&&!I&&n.loopDestroy()),n.emit("breakpoint",p)}function tK(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let r=!1;const i=er(),s=e==="window"?i.innerHeight:t.clientHeight,o=Object.keys(n).map(c=>{if(typeof c=="string"&&c.indexOf("@")===0){const d=parseFloat(c.substr(1));return{value:s*d,point:c}}return{value:c,point:c}});o.sort((c,d)=>parseInt(c.value,10)-parseInt(d.value,10));for(let c=0;c<o.length;c+=1){const{point:d,value:u}=o[c];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(r=d):u<=t.clientWidth&&(r=d)}return r||"max"}var nK={setBreakpoint:eK,getBreakpoint:tK};function rK(n,e){const t=[];return n.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&t.push(e+i)}):typeof r=="string"&&t.push(e+r)}),t}function iK(){const n=this,{classNames:e,params:t,rtl:r,el:i,device:s}=n,o=rK(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:r},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),i.classList.add(...e),n.emitContainerClasses()}function sK(){const n=this,{el:e,classNames:t}=n;!e||typeof e=="string"||(e.classList.remove(...t),n.emitContainerClasses())}var aK={addClasses:iK,removeClasses:sK};function oK(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:r}=t;if(r){const i=n.slides.length-1,s=n.slidesGrid[i]+n.slidesSizesGrid[i]+r*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var lK={checkOverflow:oK},ky={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function cK(n,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Er(e,r);return}if(n[i]===!0&&(n[i]={enabled:!0}),i==="navigation"&&n[i]&&n[i].enabled&&!n[i].prevEl&&!n[i].nextEl&&(n[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&n[i]&&n[i].enabled&&!n[i].el&&(n[i].auto=!0),!(i in n&&"enabled"in s)){Er(e,r);return}typeof n[i]=="object"&&!("enabled"in n[i])&&(n[i].enabled=!0),n[i]||(n[i]={enabled:!1}),Er(e,r)}}const P0={eventsEmitter:a7,update:y7,translate:T7,transition:w7,slide:M7,loop:F7,grabCursor:z7,events:J7,breakpoints:nK,checkOverflow:lK,classes:aK},_0={};let rx=class os{constructor(){let e,t;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?t=i[0]:[e,t]=i,t||(t={}),t=Er({},t),e&&!t.el&&(t.el=e);const o=Bi();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const h=[];return o.querySelectorAll(t.el).forEach(p=>{const g=Er({},t,{el:p});h.push(new os(g))}),h}const c=this;c.__swiper__=!0,c.support=PI(),c.device=_I({userAgent:t.userAgent}),c.browser=OI(),c.eventsListeners={},c.eventsAnyListeners=[],c.modules=[...c.__modules__],t.modules&&Array.isArray(t.modules)&&c.modules.push(...t.modules);const d={};c.modules.forEach(h=>{h({params:t,swiper:c,extendParams:cK(t,d),on:c.on.bind(c),once:c.once.bind(c),off:c.off.bind(c),emit:c.emit.bind(c)})});const u=Er({},ky,d);return c.params=Er({},u,_0,t),c.originalParams=Er({},c.params),c.passedParams=Er({},t),c.params&&c.params.on&&Object.keys(c.params.on).forEach(h=>{c.on(h,c.params.on[h])}),c.params&&c.params.onAny&&c.onAny(c.params.onAny),Object.assign(c,{enabled:c.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return c.params.direction==="horizontal"},isVertical(){return c.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:c.params.allowSlideNext,allowSlidePrev:c.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:c.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:c.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),c.emit("_swiper"),c.params.init&&c.init(),c}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:r}=this,i=ki(t,`.${r.slideClass}, swiper-slide`),s=Ih(i[0]);return Ih(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:r}=e;e.slides=ki(t,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof t>"u"?0:t),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);t.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:c,size:d,activeIndex:u}=r;let h=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let p=s[u]?Math.ceil(s[u].swiperSlideSize):0,g;for(let v=u+1;v<s.length;v+=1)s[v]&&!g&&(p+=Math.ceil(s[v].swiperSlideSize),h+=1,p>d&&(g=!0));for(let v=u-1;v>=0;v-=1)s[v]&&!g&&(p+=s[v].swiperSlideSize,h+=1,p>d&&(g=!0))}else if(e==="current")for(let p=u+1;p<s.length;p+=1)(t?o[p]+c[p]-o[u]<d:o[p]-o[u]<d)&&(h+=1);else for(let p=u-1;p>=0;p-=1)o[u]-o[p]<d&&(h+=1);return h}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Yf(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,c=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(c),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),t&&r.update()),r}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let r=e||t.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=t,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const i=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):ki(r,i())[0];return!o&&t.params.createElements&&(o=Lh("div",t.params.wrapperClass),r.append(o),ki(r,`.${t.params.slideClass}`).forEach(c=>{o.append(c)})),Object.assign(t,{el:r,wrapperEl:o,slidesEl:t.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:t.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Zs(r,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Zs(r,"direction")==="rtl"),wrongRTL:Zs(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Yf(t,s):s.addEventListener("load",o=>{Yf(t,o.target)})}),Oy(t),t.initialized=!0,Oy(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:c}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),t&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),c&&c.length&&c.forEach(d=>{d.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),d.removeAttribute("style"),d.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(d=>{r.off(d)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),WV(r)),r.destroyed=!0),null}static extendDefaults(e){Er(_0,e)}static get extendedDefaults(){return _0}static get defaults(){return ky}static installModule(e){os.prototype.__modules__||(os.prototype.__modules__=[]);const t=os.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>os.installModule(t)),os):(os.installModule(e),os)}};Object.keys(P0).forEach(n=>{Object.keys(P0[n]).forEach(e=>{rx.prototype[e]=P0[n][e]})});rx.use([i7,s7]);const NI=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Za(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function ul(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>t.indexOf(r)<0).forEach(r=>{typeof n[r]>"u"?n[r]=e[r]:Za(e[r])&&Za(n[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?n[r]=e[r]:ul(n[r],e[r]):n[r]=e[r]})}function BI(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function $I(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function FI(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function UI(n){n===void 0&&(n="");const e=n.split(" ").map(r=>r.trim()).filter(r=>!!r),t=[];return e.forEach(r=>{t.indexOf(r)<0&&t.push(r)}),t.join(" ")}function uK(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:`swiper-wrapper ${n}`:"swiper-wrapper"}function dK(n){let{swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:c,paginationEl:d}=n;const u=i.filter(_=>_!=="children"&&_!=="direction"&&_!=="wrapperClass"),{params:h,pagination:p,navigation:g,scrollbar:v,virtual:y,thumbs:x}=e;let S,E,R,A,L,I,M,P;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&h.thumbs&&(!h.thumbs.swiper||h.thumbs.swiper.destroyed)&&(S=!0),i.includes("controller")&&r.controller&&r.controller.control&&h.controller&&!h.controller.control&&(E=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||d)&&(h.pagination||h.pagination===!1)&&p&&!p.el&&(R=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||c)&&(h.scrollbar||h.scrollbar===!1)&&v&&!v.el&&(A=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(h.navigation||h.navigation===!1)&&g&&!g.prevEl&&!g.nextEl&&(L=!0);const k=_=>{e[_]&&(e[_].destroy(),_==="navigation"?(e.isElement&&(e[_].prevEl.remove(),e[_].nextEl.remove()),h[_].prevEl=void 0,h[_].nextEl=void 0,e[_].prevEl=void 0,e[_].nextEl=void 0):(e.isElement&&e[_].el.remove(),h[_].el=void 0,e[_].el=void 0))};i.includes("loop")&&e.isElement&&(h.loop&&!r.loop?I=!0:!h.loop&&r.loop?M=!0:P=!0),u.forEach(_=>{if(Za(h[_])&&Za(r[_]))Object.assign(h[_],r[_]),(_==="navigation"||_==="pagination"||_==="scrollbar")&&"enabled"in r[_]&&!r[_].enabled&&k(_);else{const w=r[_];(w===!0||w===!1)&&(_==="navigation"||_==="pagination"||_==="scrollbar")?w===!1&&k(_):h[_]=r[_]}}),u.includes("controller")&&!E&&e.controller&&e.controller.control&&h.controller&&h.controller.control&&(e.controller.control=h.controller.control),i.includes("children")&&t&&y&&h.virtual.enabled?(y.slides=t,y.update(!0)):i.includes("virtual")&&y&&h.virtual.enabled&&(t&&(y.slides=t),y.update(!0)),i.includes("children")&&t&&h.loop&&(P=!0),S&&x.init()&&x.update(!0),E&&(e.controller.control=h.controller.control),R&&(e.isElement&&(!d||typeof d=="string")&&(d=document.createElement("div"),d.classList.add("swiper-pagination"),d.part.add("pagination"),e.el.appendChild(d)),d&&(h.pagination.el=d),p.init(),p.render(),p.update()),A&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-scrollbar"),c.part.add("scrollbar"),e.el.appendChild(c)),c&&(h.scrollbar.el=c),v.init(),v.updateSize(),v.setTranslate()),L&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),Dh(s,e.hostEl.constructor.nextButtonSvg),s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),Dh(o,e.hostEl.constructor.prevButtonSvg),o.part.add("button-prev"),e.el.appendChild(o))),s&&(h.navigation.nextEl=s),o&&(h.navigation.prevEl=o),g.init(),g.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(I||P)&&e.loopDestroy(),(M||P)&&e.loopCreate(),e.update()}function fK(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},r={},i={};ul(t,ky),t._emitClasses=!0,t.init=!1;const s={},o=NI.map(d=>d.replace(/_/,"")),c=Object.assign({},n);return Object.keys(c).forEach(d=>{typeof n[d]>"u"||(o.indexOf(d)>=0?Za(n[d])?(t[d]={},i[d]={},ul(t[d],n[d]),ul(i[d],n[d])):(t[d]=n[d],i[d]=n[d]):d.search(/on[A-Z]/)===0&&typeof n[d]=="function"?e?r[`${d[2].toLowerCase()}${d.substr(3)}`]=n[d]:t.on[`${d[2].toLowerCase()}${d.substr(3)}`]=n[d]:s[d]=n[d])}),["navigation","pagination","scrollbar"].forEach(d=>{t[d]===!0&&(t[d]={}),t[d]===!1&&delete t[d]}),{params:t,passedParams:i,rest:s,events:r}}function hK(n,e){let{el:t,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:c}=n;BI(e)&&r&&i&&(c.params.navigation.nextEl=r,c.originalParams.navigation.nextEl=r,c.params.navigation.prevEl=i,c.originalParams.navigation.prevEl=i),$I(e)&&s&&(c.params.pagination.el=s,c.originalParams.pagination.el=s),FI(e)&&o&&(c.params.scrollbar.el=o,c.originalParams.scrollbar.el=o),c.init(t)}function pK(n,e,t,r,i){const s=[];if(!e)return s;const o=d=>{s.indexOf(d)<0&&s.push(d)};if(t&&r){const d=r.map(i),u=t.map(i);d.join("")!==u.join("")&&o("children"),r.length!==t.length&&o("children")}return NI.filter(d=>d[0]==="_").map(d=>d.replace(/_/,"")).forEach(d=>{if(d in n&&d in e)if(Za(n[d])&&Za(e[d])){const u=Object.keys(n[d]),h=Object.keys(e[d]);u.length!==h.length?o(d):(u.forEach(p=>{n[d][p]!==e[d][p]&&o(d)}),h.forEach(p=>{n[d][p]!==e[d][p]&&o(d)}))}else n[d]!==e[d]&&o(d)}),s}const mK=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.emit("_virtualUpdated"),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function Ph(){return Ph=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Ph.apply(this,arguments)}function jI(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function zI(n){const e=[];return gt.Children.toArray(n).forEach(t=>{jI(t)?e.push(t):t.props&&t.props.children&&zI(t.props.children).forEach(r=>e.push(r))}),e}function gK(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return gt.Children.toArray(n).forEach(r=>{if(jI(r))e.push(r);else if(r.props&&r.props.slot&&t[r.props.slot])t[r.props.slot].push(r);else if(r.props&&r.props.children){const i=zI(r.props.children);i.length>0?i.forEach(s=>e.push(s)):t["container-end"].push(r)}else t["container-end"].push(r)}),{slides:e,slots:t}}function yK(n,e,t){if(!t)return null;const r=h=>{let p=h;return h<0?p=e.length+h:p>=e.length&&(p=p-e.length),p},i=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:`${t.offset}px`}:{top:`${t.offset}px`},{from:s,to:o}=t,c=n.params.loop?-e.length:0,d=n.params.loop?e.length*2:e.length,u=[];for(let h=c;h<d;h+=1)h>=s&&h<=o&&u.push(e[r(h)]);return u.map((h,p)=>gt.cloneElement(h,{swiper:n,style:i,key:h.props.virtualIndex||h.key||`slide-${p}`}))}function ou(n,e){return typeof window>"u"?D.useEffect(n,e):D.useLayoutEffect(n,e)}const DC=D.createContext(null),vK=D.createContext(null),GI=D.forwardRef(function(n,e){let{className:t,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...c}=n===void 0?{}:n,d=!1;const[u,h]=D.useState("swiper"),[p,g]=D.useState(null),[v,y]=D.useState(!1),x=D.useRef(!1),S=D.useRef(null),E=D.useRef(null),R=D.useRef(null),A=D.useRef(null),L=D.useRef(null),I=D.useRef(null),M=D.useRef(null),P=D.useRef(null),{params:k,passedParams:_,rest:w,events:B}=fK(c),{slides:j,slots:z}=gK(s),q=()=>{y(!v)};Object.assign(k.on,{_containerClasses(Y,F){h(F)}});const K=()=>{Object.assign(k.on,B),d=!0;const Y={...k};if(delete Y.wrapperClass,E.current=new rx(Y),E.current.virtual&&E.current.params.virtual.enabled){E.current.virtual.slides=j;const F={cache:!1,slides:j,renderExternal:g,renderExternalUpdate:!1};ul(E.current.params.virtual,F),ul(E.current.originalParams.virtual,F)}};S.current||K(),E.current&&E.current.on("_beforeBreakpoint",q);const $=()=>{d||!B||!E.current||Object.keys(B).forEach(Y=>{E.current.on(Y,B[Y])})},W=()=>{!B||!E.current||Object.keys(B).forEach(Y=>{E.current.off(Y,B[Y])})};D.useEffect(()=>()=>{E.current&&E.current.off("_beforeBreakpoint",q)}),D.useEffect(()=>{!x.current&&E.current&&(E.current.emitSlidesClasses(),x.current=!0)}),ou(()=>{if(e&&(e.current=S.current),!!S.current)return E.current.destroyed&&K(),hK({el:S.current,nextEl:L.current,prevEl:I.current,paginationEl:M.current,scrollbarEl:P.current,swiper:E.current},k),o&&!E.current.destroyed&&o(E.current),()=>{E.current&&!E.current.destroyed&&E.current.destroy(!0,!1)}},[]),ou(()=>{$();const Y=pK(_,R.current,j,A.current,F=>F.key);return R.current=_,A.current=j,Y.length&&E.current&&!E.current.destroyed&&dK({swiper:E.current,slides:j,passedParams:_,changedParams:Y,nextEl:L.current,prevEl:I.current,scrollbarEl:P.current,paginationEl:M.current}),()=>{W()}}),ou(()=>{mK(E.current)},[p]);function G(){return k.virtual?yK(E.current,j,p):j.map((Y,F)=>gt.cloneElement(Y,{swiper:E.current,swiperSlideIndex:F}))}return gt.createElement(r,Ph({ref:S,className:UI(`${u}${t?` ${t}`:""}`)},w),gt.createElement(vK.Provider,{value:E.current},z["container-start"],gt.createElement(i,{className:uK(k.wrapperClass)},z["wrapper-start"],G(),z["wrapper-end"]),BI(k)&&gt.createElement(gt.Fragment,null,gt.createElement("div",{ref:I,className:"swiper-button-prev"}),gt.createElement("div",{ref:L,className:"swiper-button-next"})),FI(k)&&gt.createElement("div",{ref:P,className:"swiper-scrollbar"}),$I(k)&&gt.createElement("div",{ref:M,className:"swiper-pagination"}),z["container-end"]))});GI.displayName="Swiper";const HI=D.forwardRef(function(n,e){let{tag:t="div",children:r,className:i="",swiper:s,zoom:o,lazy:c,virtualIndex:d,swiperSlideIndex:u,...h}=n===void 0?{}:n;const p=D.useRef(null),[g,v]=D.useState("swiper-slide"),[y,x]=D.useState(!1);function S(L,I,M){I===p.current&&v(M)}ou(()=>{if(typeof u<"u"&&(p.current.swiperSlideIndex=u),e&&(e.current=p.current),!(!p.current||!s)){if(s.destroyed){g!=="swiper-slide"&&v("swiper-slide");return}return s.on("_slideClass",S),()=>{s&&s.off("_slideClass",S)}}}),ou(()=>{s&&p.current&&!s.destroyed&&v(s.getSlideClasses(p.current))},[s]);const E={isActive:g.indexOf("swiper-slide-active")>=0,isVisible:g.indexOf("swiper-slide-visible")>=0,isPrev:g.indexOf("swiper-slide-prev")>=0,isNext:g.indexOf("swiper-slide-next")>=0},R=()=>typeof r=="function"?r(E):r,A=()=>{x(!0)};return gt.createElement(t,Ph({ref:p,className:UI(`${g}${i?` ${i}`:""}`),"data-swiper-slide-index":d,onLoad:A},h),o&&gt.createElement(DC.Provider,{value:E},gt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},R(),c&&!y&&gt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&gt.createElement(DC.Provider,{value:E},R(),c&&!y&&gt.createElement("div",{className:"swiper-lazy-preloader"})))});HI.displayName="SwiperSlide";function VI(n,e,t,r){return n.params.createElements&&Object.keys(r).forEach(i=>{if(!t[i]&&t.auto===!0){let s=ki(n.el,`.${r[i]}`)[0];s||(s=Lh("div",r[i]),s.className=r[i],n.el.append(s)),t[i]=s,e[i]=s}}),t}function xK(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function s(y){let x;return y&&typeof y=="string"&&e.isElement&&(x=e.el.querySelector(y)||e.hostEl.querySelector(y),x)?x:(y&&(typeof y=="string"&&(x=[...document.querySelectorAll(y)]),e.params.uniqueNavElements&&typeof y=="string"&&x&&x.length>1&&e.el.querySelectorAll(y).length===1?x=e.el.querySelector(y):x&&x.length===1&&(x=x[0])),y&&!x?y:x)}function o(y,x){const S=e.params.navigation;y=Mn(y),y.forEach(E=>{E&&(E.classList[x?"add":"remove"](...S.disabledClass.split(" ")),E.tagName==="BUTTON"&&(E.disabled=x),e.params.watchOverflow&&e.enabled&&E.classList[e.isLocked?"add":"remove"](S.lockClass))})}function c(){const{nextEl:y,prevEl:x}=e.navigation;if(e.params.loop){o(x,!1),o(y,!1);return}o(x,e.isBeginning&&!e.params.rewind),o(y,e.isEnd&&!e.params.rewind)}function d(y){y.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function u(y){y.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function h(){const y=e.params.navigation;if(e.params.navigation=VI(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(y.nextEl||y.prevEl))return;let x=s(y.nextEl),S=s(y.prevEl);Object.assign(e.navigation,{nextEl:x,prevEl:S}),x=Mn(x),S=Mn(S);const E=(R,A)=>{R&&R.addEventListener("click",A==="next"?u:d),!e.enabled&&R&&R.classList.add(...y.lockClass.split(" "))};x.forEach(R=>E(R,"next")),S.forEach(R=>E(R,"prev"))}function p(){let{nextEl:y,prevEl:x}=e.navigation;y=Mn(y),x=Mn(x);const S=(E,R)=>{E.removeEventListener("click",R==="next"?u:d),E.classList.remove(...e.params.navigation.disabledClass.split(" "))};y.forEach(E=>S(E,"next")),x.forEach(E=>S(E,"prev"))}r("init",()=>{e.params.navigation.enabled===!1?v():(h(),c())}),r("toEdge fromEdge lock unlock",()=>{c()}),r("destroy",()=>{p()}),r("enable disable",()=>{let{nextEl:y,prevEl:x}=e.navigation;if(y=Mn(y),x=Mn(x),e.enabled){c();return}[...y,...x].filter(S=>!!S).forEach(S=>S.classList.add(e.params.navigation.lockClass))}),r("click",(y,x)=>{let{nextEl:S,prevEl:E}=e.navigation;S=Mn(S),E=Mn(E);const R=x.target;let A=E.includes(R)||S.includes(R);if(e.isElement&&!A){const L=x.path||x.composedPath&&x.composedPath();L&&(A=L.find(I=>S.includes(I)||E.includes(I)))}if(e.params.navigation.hideOnClick&&!A){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===R||e.pagination.el.contains(R)))return;let L;S.length?L=S[0].classList.contains(e.params.navigation.hiddenClass):E.length&&(L=E[0].classList.contains(e.params.navigation.hiddenClass)),i(L===!0?"navigationShow":"navigationHide"),[...S,...E].filter(I=>!!I).forEach(I=>I.classList.toggle(e.params.navigation.hiddenClass))}});const g=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),h(),c()},v=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),p()};Object.assign(e.navigation,{enable:g,disable:v,update:c,init:h,destroy:p})}function Gc(n){return n===void 0&&(n=""),`.${n.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function bK(n){let{swiper:e,extendParams:t,on:r,emit:i}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:R=>R,formatFractionTotal:R=>R,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,c=0;function d(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(R,A){const{bulletActiveClass:L}=e.params.pagination;R&&(R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&(R.classList.add(`${L}-${A}`),R=R[`${A==="prev"?"previous":"next"}ElementSibling`],R&&R.classList.add(`${L}-${A}-${A}`)))}function h(R,A,L){if(R=R%L,A=A%L,A===R+1)return"next";if(A===R-1)return"previous"}function p(R){const A=R.target.closest(Gc(e.params.pagination.bulletClass));if(!A)return;R.preventDefault();const L=Ih(A)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===L)return;const I=h(e.realIndex,L,e.slides.length);I==="next"?e.slideNext():I==="previous"?e.slidePrev():e.slideToLoop(L)}else e.slideTo(L)}function g(){const R=e.rtl,A=e.params.pagination;if(d())return;let L=e.pagination.el;L=Mn(L);let I,M;const P=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,k=e.params.loop?Math.ceil(P/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(M=e.previousRealIndex||0,I=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(I=e.snapIndex,M=e.previousSnapIndex):(M=e.previousIndex||0,I=e.activeIndex||0),A.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const _=e.pagination.bullets;let w,B,j;if(A.dynamicBullets&&(o=_y(_[0],e.isHorizontal()?"width":"height"),L.forEach(z=>{z.style[e.isHorizontal()?"width":"height"]=`${o*(A.dynamicMainBullets+4)}px`}),A.dynamicMainBullets>1&&M!==void 0&&(c+=I-(M||0),c>A.dynamicMainBullets-1?c=A.dynamicMainBullets-1:c<0&&(c=0)),w=Math.max(I-c,0),B=w+(Math.min(_.length,A.dynamicMainBullets)-1),j=(B+w)/2),_.forEach(z=>{const q=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${A.bulletActiveClass}${K}`)].map(K=>typeof K=="string"&&K.includes(" ")?K.split(" "):K).flat();z.classList.remove(...q)}),L.length>1)_.forEach(z=>{const q=Ih(z);q===I?z.classList.add(...A.bulletActiveClass.split(" ")):e.isElement&&z.setAttribute("part","bullet"),A.dynamicBullets&&(q>=w&&q<=B&&z.classList.add(...`${A.bulletActiveClass}-main`.split(" ")),q===w&&u(z,"prev"),q===B&&u(z,"next"))});else{const z=_[I];if(z&&z.classList.add(...A.bulletActiveClass.split(" ")),e.isElement&&_.forEach((q,K)=>{q.setAttribute("part",K===I?"bullet-active":"bullet")}),A.dynamicBullets){const q=_[w],K=_[B];for(let $=w;$<=B;$+=1)_[$]&&_[$].classList.add(...`${A.bulletActiveClass}-main`.split(" "));u(q,"prev"),u(K,"next")}}if(A.dynamicBullets){const z=Math.min(_.length,A.dynamicMainBullets+4),q=(o*z-o)/2-j*o,K=R?"right":"left";_.forEach($=>{$.style[e.isHorizontal()?K:"top"]=`${q}px`})}}L.forEach((_,w)=>{if(A.type==="fraction"&&(_.querySelectorAll(Gc(A.currentClass)).forEach(B=>{B.textContent=A.formatFractionCurrent(I+1)}),_.querySelectorAll(Gc(A.totalClass)).forEach(B=>{B.textContent=A.formatFractionTotal(k)})),A.type==="progressbar"){let B;A.progressbarOpposite?B=e.isHorizontal()?"vertical":"horizontal":B=e.isHorizontal()?"horizontal":"vertical";const j=(I+1)/k;let z=1,q=1;B==="horizontal"?z=j:q=j,_.querySelectorAll(Gc(A.progressbarFillClass)).forEach(K=>{K.style.transform=`translate3d(0,0,0) scaleX(${z}) scaleY(${q})`,K.style.transitionDuration=`${e.params.speed}ms`})}A.type==="custom"&&A.renderCustom?(Dh(_,A.renderCustom(e,I+1,k)),w===0&&i("paginationRender",_)):(w===0&&i("paginationRender",_),i("paginationUpdate",_)),e.params.watchOverflow&&e.enabled&&_.classList[e.isLocked?"add":"remove"](A.lockClass)})}function v(){const R=e.params.pagination;if(d())return;const A=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let L=e.pagination.el;L=Mn(L);let I="";if(R.type==="bullets"){let M=e.params.loop?Math.ceil(A/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&M>A&&(M=A);for(let P=0;P<M;P+=1)R.renderBullet?I+=R.renderBullet.call(e,P,R.bulletClass):I+=`<${R.bulletElement} ${e.isElement?'part="bullet"':""} class="${R.bulletClass}"></${R.bulletElement}>`}R.type==="fraction"&&(R.renderFraction?I=R.renderFraction.call(e,R.currentClass,R.totalClass):I=`<span class="${R.currentClass}"></span> / <span class="${R.totalClass}"></span>`),R.type==="progressbar"&&(R.renderProgressbar?I=R.renderProgressbar.call(e,R.progressbarFillClass):I=`<span class="${R.progressbarFillClass}"></span>`),e.pagination.bullets=[],L.forEach(M=>{R.type!=="custom"&&Dh(M,I||""),R.type==="bullets"&&e.pagination.bullets.push(...M.querySelectorAll(Gc(R.bulletClass)))}),R.type!=="custom"&&i("paginationRender",L[0])}function y(){e.params.pagination=VI(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const R=e.params.pagination;if(!R.el)return;let A;typeof R.el=="string"&&e.isElement&&(A=e.el.querySelector(R.el)),!A&&typeof R.el=="string"&&(A=[...document.querySelectorAll(R.el)]),A||(A=R.el),!(!A||A.length===0)&&(e.params.uniqueNavElements&&typeof R.el=="string"&&Array.isArray(A)&&A.length>1&&(A=[...e.el.querySelectorAll(R.el)],A.length>1&&(A=A.find(L=>DI(L,".swiper")[0]===e.el))),Array.isArray(A)&&A.length===1&&(A=A[0]),Object.assign(e.pagination,{el:A}),A=Mn(A),A.forEach(L=>{R.type==="bullets"&&R.clickable&&L.classList.add(...(R.clickableClass||"").split(" ")),L.classList.add(R.modifierClass+R.type),L.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.type==="bullets"&&R.dynamicBullets&&(L.classList.add(`${R.modifierClass}${R.type}-dynamic`),c=0,R.dynamicMainBullets<1&&(R.dynamicMainBullets=1)),R.type==="progressbar"&&R.progressbarOpposite&&L.classList.add(R.progressbarOppositeClass),R.clickable&&L.addEventListener("click",p),e.enabled||L.classList.add(R.lockClass)}))}function x(){const R=e.params.pagination;if(d())return;let A=e.pagination.el;A&&(A=Mn(A),A.forEach(L=>{L.classList.remove(R.hiddenClass),L.classList.remove(R.modifierClass+R.type),L.classList.remove(e.isHorizontal()?R.horizontalClass:R.verticalClass),R.clickable&&(L.classList.remove(...(R.clickableClass||"").split(" ")),L.removeEventListener("click",p))})),e.pagination.bullets&&e.pagination.bullets.forEach(L=>L.classList.remove(...R.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const R=e.params.pagination;let{el:A}=e.pagination;A=Mn(A),A.forEach(L=>{L.classList.remove(R.horizontalClass,R.verticalClass),L.classList.add(e.isHorizontal()?R.horizontalClass:R.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?E():(y(),v(),g())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&g()}),r("snapIndexChange",()=>{g()}),r("snapGridLengthChange",()=>{v(),g()}),r("destroy",()=>{x()}),r("enable disable",()=>{let{el:R}=e.pagination;R&&(R=Mn(R),R.forEach(A=>A.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{g()}),r("click",(R,A)=>{const L=A.target,I=Mn(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&I&&I.length>0&&!L.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&L===e.navigation.nextEl||e.navigation.prevEl&&L===e.navigation.prevEl))return;const M=I[0].classList.contains(e.params.pagination.hiddenClass);i(M===!0?"paginationShow":"paginationHide"),I.forEach(P=>P.classList.toggle(e.params.pagination.hiddenClass))}});const S=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=Mn(R),R.forEach(A=>A.classList.remove(e.params.pagination.paginationDisabledClass))),y(),v(),g()},E=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:R}=e.pagination;R&&(R=Mn(R),R.forEach(A=>A.classList.add(e.params.pagination.paginationDisabledClass))),x()};Object.assign(e.pagination,{enable:S,disable:E,render:v,update:g,init:y,destroy:x})}function SK(n){let{swiper:e,extendParams:t,on:r,emit:i,params:s}=n;e.autoplay={running:!1,paused:!1,timeLeft:0},t({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,c,d=s&&s.autoplay?s.autoplay.delay:3e3,u=s&&s.autoplay?s.autoplay.delay:3e3,h,p=new Date().getTime(),g,v,y,x,S,E,R;function A(G){!e||e.destroyed||!e.wrapperEl||G.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",A),!(R||G.detail&&G.detail.bySwiperTouchMove)&&w())}const L=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?g=!0:g&&(u=h,g=!1);const G=e.autoplay.paused?h:p+u-new Date().getTime();e.autoplay.timeLeft=G,i("autoplayTimeLeft",G,G/d),c=requestAnimationFrame(()=>{L()})},I=()=>{let G;return e.virtual&&e.params.virtual.enabled?G=e.slides.find(F=>F.classList.contains("swiper-slide-active")):G=e.slides[e.activeIndex],G?parseInt(G.getAttribute("data-swiper-autoplay"),10):void 0},M=G=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(c),L();let Y=typeof G>"u"?e.params.autoplay.delay:G;d=e.params.autoplay.delay,u=e.params.autoplay.delay;const F=I();!Number.isNaN(F)&&F>0&&typeof G>"u"&&(Y=F,d=F,u=F),h=Y;const H=e.params.speed,Q=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(H,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,H,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(H,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,H,!0,!0),i("autoplay")),e.params.cssMode&&(p=new Date().getTime(),requestAnimationFrame(()=>{M()})))};return Y>0?(clearTimeout(o),o=setTimeout(()=>{Q()},Y)):requestAnimationFrame(()=>{Q()}),Y},P=()=>{p=new Date().getTime(),e.autoplay.running=!0,M(),i("autoplayStart")},k=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(c),i("autoplayStop")},_=(G,Y)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),G||(E=!0);const F=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",A):w()};if(e.autoplay.paused=!0,Y){S&&(h=e.params.autoplay.delay),S=!1,F();return}h=(h||e.params.autoplay.delay)-(new Date().getTime()-p),!(e.isEnd&&h<0&&!e.params.loop)&&(h<0&&(h=0),F())},w=()=>{e.isEnd&&h<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(p=new Date().getTime(),E?(E=!1,M(h)):M(),e.autoplay.paused=!1,i("autoplayResume"))},B=()=>{if(e.destroyed||!e.autoplay.running)return;const G=Bi();G.visibilityState==="hidden"&&(E=!0,_(!0)),G.visibilityState==="visible"&&w()},j=G=>{G.pointerType==="mouse"&&(E=!0,R=!0,!(e.animating||e.autoplay.paused)&&_(!0))},z=G=>{G.pointerType==="mouse"&&(R=!1,e.autoplay.paused&&w())},q=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",j),e.el.addEventListener("pointerleave",z))},K=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",j),e.el.removeEventListener("pointerleave",z))},$=()=>{Bi().addEventListener("visibilitychange",B)},W=()=>{Bi().removeEventListener("visibilitychange",B)};r("init",()=>{e.params.autoplay.enabled&&(q(),$(),P())}),r("destroy",()=>{K(),W(),e.autoplay.running&&k()}),r("_freeModeStaticRelease",()=>{(y||E)&&w()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?k():_(!0,!0)}),r("beforeTransitionStart",(G,Y,F)=>{e.destroyed||!e.autoplay.running||(F||!e.params.autoplay.disableOnInteraction?_(!0,!0):k())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){k();return}v=!0,y=!1,E=!1,x=setTimeout(()=>{E=!0,y=!0,_(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!v)){if(clearTimeout(x),clearTimeout(o),e.params.autoplay.disableOnInteraction){y=!1,v=!1;return}y&&e.params.cssMode&&w(),y=!1,v=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(S=!0)}),Object.assign(e.autoplay,{start:P,stop:k,pause:_,resume:w})}const EK=[{id:1,name:"Filmes",description:"Explore o universo cinematogrfico",image:"https://images.unsplash.com/photo-1536440136628-849c177e76a1?auto=format&fit=crop&w=500&q=60"},{id:2,name:"Sries",description:"Viaje por temporadas infinitas",image:"https://images.unsplash.com/photo-1626814026160-2237a95fc5a0?auto=format&fit=crop&w=500&q=60"},{id:3,name:"Documentrios",description:"Conhea histrias reais e inspiradoras",image:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=500&q=60"},{id:4,name:"Animaes",description:"Diverso para todas as idades",image:"https://images.unsplash.com/photo-1518676590629-3dcbd9c5a5c9?auto=format&fit=crop&w=500&q=60"},{id:5,name:"Esportes",description:"Acompanhe os melhores eventos esportivos",image:"https://images.unsplash.com/photo-1508609349937-5ec4ae374ebf?auto=format&fit=crop&w=500&q=60"}],TK=()=>T.jsxs(on,{maxWidth:"lg",sx:{mt:4,mb:4},children:[T.jsx(ve,{variant:"h4",gutterBottom:!0,children:"Categorias"}),T.jsx(GI,{modules:[xK,bK,SK],spaceBetween:30,slidesPerView:3,navigation:!0,pagination:{clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{320:{slidesPerView:1},600:{slidesPerView:2},900:{slidesPerView:3}},style:{paddingBottom:"40px"},children:EK.map(n=>T.jsx(HI,{children:T.jsx(Jn,{children:T.jsxs(aw,{href:`/categories/${n.id}`,children:[T.jsx(np,{component:"img",height:"180",image:n.image,alt:n.name}),T.jsxs(Cr,{children:[T.jsx(ve,{gutterBottom:!0,variant:"h6",component:"div",children:n.name}),T.jsx(ve,{variant:"body2",color:"text.secondary",children:n.description})]})]})})},n.id))})]});function AK(){return T.jsxs(NR,{theme:pj,children:[T.jsx(g3,{}),T.jsx(Y6,{children:T.jsx(L_,{children:T.jsxs("div",{className:"App",style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[T.jsx(Q6,{}),T.jsx(x8,{}),T.jsx(on,{component:"main",sx:{flex:1,mt:2},children:T.jsxs(i_,{children:[T.jsx(or,{path:"/",element:T.jsx(C0,{})}),T.jsx(or,{path:"/home",element:T.jsx(n0,{children:T.jsx(C0,{})})}),T.jsx(or,{path:"/login",element:T.jsx(S8,{})}),T.jsx(or,{path:"/dashboard",element:T.jsx(n0,{children:T.jsx(C0,{})})}),T.jsx(or,{path:"/register",element:T.jsx(E8,{})}),T.jsx(or,{path:"/channels",element:T.jsx(T8,{})}),T.jsx(or,{path:"/movies",element:T.jsx(A8,{})}),T.jsx(or,{path:"/series",element:T.jsx(C8,{})}),T.jsx(or,{path:"/profile",element:T.jsx(R8,{})}),T.jsx(or,{path:"/plans",element:T.jsx(w8,{})}),T.jsx(or,{path:"/channel/:channelId",element:T.jsx(NV,{})}),T.jsx(or,{path:"/vod/:contentId",element:T.jsx(n0,{children:T.jsx(BV,{})})}),T.jsx(or,{path:"/categories",element:T.jsx(TK,{})})]})}),T.jsx(b8,{})]})})})]})}fP.createRoot(document.getElementById("root")).render(T.jsx(D.StrictMode,{children:T.jsx(AK,{})}));export{si as H,gt as R,Oa as _,D as r};
